(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function Em(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var yo={exports:{}},ms={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function fv(){if(Yh)return ms;Yh=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:r,key:f,ref:c!==void 0?c:null,props:d}}return ms.Fragment=n,ms.jsx=s,ms.jsxs=s,ms}var Kh;function hv(){return Kh||(Kh=1,yo.exports=fv()),yo.exports}var g=hv(),bo={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function mv(){if(Qh)return re;Qh=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,D={};function G(x,M,K){this.props=x,this.context=M,this.refs=D,this.updater=K||R}G.prototype.isReactComponent={},G.prototype.setState=function(x,M){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,M,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=G.prototype;function B(x,M,K){this.props=x,this.context=M,this.refs=D,this.updater=K||R}var Q=B.prototype=new Y;Q.constructor=B,L(Q,G.prototype),Q.isPureReactComponent=!0;var F=Array.isArray;function ee(){}var X={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function De(x,M,K){var I=K.ref;return{$$typeof:l,type:x,key:M,ref:I!==void 0?I:null,props:K}}function mt(x,M){return De(x.type,M,x.props)}function Te(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function Ee(x){var M={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(K){return M[K]})}var tt=/\/+/g;function Me(x,M){return typeof x=="object"&&x!==null&&x.key!=null?Ee(""+x.key):M.toString(36)}function Xe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ee,ee):(x.status="pending",x.then(function(M){x.status==="pending"&&(x.status="fulfilled",x.value=M)},function(M){x.status==="pending"&&(x.status="rejected",x.reason=M)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function C(x,M,K,I,ie){var ce=typeof x;(ce==="undefined"||ce==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case l:case n:be=!0;break;case b:return be=x._init,C(be(x._payload),M,K,I,ie)}}if(be)return ie=ie(x),be=I===""?"."+Me(x,0):I,F(ie)?(K="",be!=null&&(K=be.replace(tt,"$&/")+"/"),C(ie,M,K,"",function(ue){return ue})):ie!=null&&(Te(ie)&&(ie=mt(ie,K+(ie.key==null||x&&x.key===ie.key?"":(""+ie.key).replace(tt,"$&/")+"/")+be)),M.push(ie)),1;be=0;var H=I===""?".":I+":";if(F(x))for(var $=0;$<x.length;$++)I=x[$],ce=H+Me(I,$),be+=C(I,M,K,ce,ie);else if($=T(x),typeof $=="function")for(x=$.call(x),$=0;!(I=x.next()).done;)I=I.value,ce=H+Me(I,$++),be+=C(I,M,K,ce,ie);else if(ce==="object"){if(typeof x.then=="function")return C(Xe(x),M,K,I,ie);throw M=String(x),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return be}function V(x,M,K){if(x==null)return x;var I=[],ie=0;return C(x,I,"","",function(ce){return M.call(K,ce,ie++)}),I}function Z(x){if(x._status===-1){var M=x._result;M=M(),M.then(function(K){(x._status===0||x._status===-1)&&(x._status=1,x._result=K)},function(K){(x._status===0||x._status===-1)&&(x._status=2,x._result=K)}),x._status===-1&&(x._status=0,x._result=M)}if(x._status===1)return x._result.default;throw x._result}var _e=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},je={map:V,forEach:function(x,M,K){V(x,function(){M.apply(this,arguments)},K)},count:function(x){var M=0;return V(x,function(){M++}),M},toArray:function(x){return V(x,function(M){return M})||[]},only:function(x){if(!Te(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return re.Activity=S,re.Children=je,re.Component=G,re.Fragment=s,re.Profiler=c,re.PureComponent=B,re.StrictMode=r,re.Suspense=v,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return X.H.useMemoCache(x)}},re.cache=function(x){return function(){return x.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(x,M,K){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var I=L({},x.props),ie=x.key;if(M!=null)for(ce in M.key!==void 0&&(ie=""+M.key),M)!ye.call(M,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&M.ref===void 0||(I[ce]=M[ce]);var ce=arguments.length-2;if(ce===1)I.children=K;else if(1<ce){for(var be=Array(ce),H=0;H<ce;H++)be[H]=arguments[H+2];I.children=be}return De(x.type,ie,I)},re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},re.createElement=function(x,M,K){var I,ie={},ce=null;if(M!=null)for(I in M.key!==void 0&&(ce=""+M.key),M)ye.call(M,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ie[I]=M[I]);var be=arguments.length-2;if(be===1)ie.children=K;else if(1<be){for(var H=Array(be),$=0;$<be;$++)H[$]=arguments[$+2];ie.children=H}if(x&&x.defaultProps)for(I in be=x.defaultProps,be)ie[I]===void 0&&(ie[I]=be[I]);return De(x,ce,ie)},re.createRef=function(){return{current:null}},re.forwardRef=function(x){return{$$typeof:m,render:x}},re.isValidElement=Te,re.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:Z}},re.memo=function(x,M){return{$$typeof:p,type:x,compare:M===void 0?null:M}},re.startTransition=function(x){var M=X.T,K={};X.T=K;try{var I=x(),ie=X.S;ie!==null&&ie(K,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ee,_e)}catch(ce){_e(ce)}finally{M!==null&&K.types!==null&&(M.types=K.types),X.T=M}},re.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},re.use=function(x){return X.H.use(x)},re.useActionState=function(x,M,K){return X.H.useActionState(x,M,K)},re.useCallback=function(x,M){return X.H.useCallback(x,M)},re.useContext=function(x){return X.H.useContext(x)},re.useDebugValue=function(){},re.useDeferredValue=function(x,M){return X.H.useDeferredValue(x,M)},re.useEffect=function(x,M){return X.H.useEffect(x,M)},re.useEffectEvent=function(x){return X.H.useEffectEvent(x)},re.useId=function(){return X.H.useId()},re.useImperativeHandle=function(x,M,K){return X.H.useImperativeHandle(x,M,K)},re.useInsertionEffect=function(x,M){return X.H.useInsertionEffect(x,M)},re.useLayoutEffect=function(x,M){return X.H.useLayoutEffect(x,M)},re.useMemo=function(x,M){return X.H.useMemo(x,M)},re.useOptimistic=function(x,M){return X.H.useOptimistic(x,M)},re.useReducer=function(x,M,K){return X.H.useReducer(x,M,K)},re.useRef=function(x){return X.H.useRef(x)},re.useState=function(x){return X.H.useState(x)},re.useSyncExternalStore=function(x,M,K){return X.H.useSyncExternalStore(x,M,K)},re.useTransition=function(){return X.H.useTransition()},re.version="19.2.4",re}var Xh;function Go(){return Xh||(Xh=1,bo.exports=mv()),bo.exports}var le=Go();const Tm=Em(le);var _o={exports:{}},gs={},wo={exports:{}},xo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function gv(){return Jh||(Jh=1,(function(l){function n(C,V){var Z=C.length;C.push(V);e:for(;0<Z;){var _e=Z-1>>>1,je=C[_e];if(0<c(je,V))C[_e]=V,C[Z]=je,Z=_e;else break e}}function s(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var V=C[0],Z=C.pop();if(Z!==V){C[0]=Z;e:for(var _e=0,je=C.length,x=je>>>1;_e<x;){var M=2*(_e+1)-1,K=C[M],I=M+1,ie=C[I];if(0>c(K,Z))I<je&&0>c(ie,K)?(C[_e]=ie,C[I]=Z,_e=I):(C[_e]=K,C[M]=Z,_e=M);else if(I<je&&0>c(ie,Z))C[_e]=ie,C[I]=Z,_e=I;else break e}}return V}function c(C,V){var Z=C.sortIndex-V.sortIndex;return Z!==0?Z:C.id-V.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var v=[],p=[],b=1,S=null,N=3,T=!1,R=!1,L=!1,D=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Q(C){for(var V=s(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=C)r(p),V.sortIndex=V.expirationTime,n(v,V);else break;V=s(p)}}function F(C){if(L=!1,Q(C),!R)if(s(v)!==null)R=!0,ee||(ee=!0,Ee());else{var V=s(p);V!==null&&Xe(F,V.startTime-C)}}var ee=!1,X=-1,ye=5,De=-1;function mt(){return D?!0:!(l.unstable_now()-De<ye)}function Te(){if(D=!1,ee){var C=l.unstable_now();De=C;var V=!0;try{e:{R=!1,L&&(L=!1,Y(X),X=-1),T=!0;var Z=N;try{t:{for(Q(C),S=s(v);S!==null&&!(S.expirationTime>C&&mt());){var _e=S.callback;if(typeof _e=="function"){S.callback=null,N=S.priorityLevel;var je=_e(S.expirationTime<=C);if(C=l.unstable_now(),typeof je=="function"){S.callback=je,Q(C),V=!0;break t}S===s(v)&&r(v),Q(C)}else r(v);S=s(v)}if(S!==null)V=!0;else{var x=s(p);x!==null&&Xe(F,x.startTime-C),V=!1}}break e}finally{S=null,N=Z,T=!1}V=void 0}}finally{V?Ee():ee=!1}}}var Ee;if(typeof B=="function")Ee=function(){B(Te)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Me=tt.port2;tt.port1.onmessage=Te,Ee=function(){Me.postMessage(null)}}else Ee=function(){G(Te,0)};function Xe(C,V){X=G(function(){C(l.unstable_now())},V)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(C){C.callback=null},l.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<C?Math.floor(1e3/C):5},l.unstable_getCurrentPriorityLevel=function(){return N},l.unstable_next=function(C){switch(N){case 1:case 2:case 3:var V=3;break;default:V=N}var Z=N;N=V;try{return C()}finally{N=Z}},l.unstable_requestPaint=function(){D=!0},l.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Z=N;N=C;try{return V()}finally{N=Z}},l.unstable_scheduleCallback=function(C,V,Z){var _e=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?_e+Z:_e):Z=_e,C){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Z+je,C={id:b++,callback:V,priorityLevel:C,startTime:Z,expirationTime:je,sortIndex:-1},Z>_e?(C.sortIndex=Z,n(p,C),s(v)===null&&C===s(p)&&(L?(Y(X),X=-1):L=!0,Xe(F,Z-_e))):(C.sortIndex=je,n(v,C),R||T||(R=!0,ee||(ee=!0,Ee()))),C},l.unstable_shouldYield=mt,l.unstable_wrapCallback=function(C){var V=N;return function(){var Z=N;N=V;try{return C.apply(this,arguments)}finally{N=Z}}}})(xo)),xo}var Ih;function pv(){return Ih||(Ih=1,wo.exports=gv()),wo.exports}var So={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function vv(){if(Zh)return ht;Zh=1;var l=Go();function n(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,p,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:v,containerInfo:p,implementation:b}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ht.createPortal=function(v,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(v,p,null,b)},ht.flushSync=function(v){var p=f.T,b=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=p,r.p=b,r.d.f()}},ht.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(v,p))},ht.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},ht.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var b=p.as,S=m(b,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:T}):b==="script"&&r.d.X(v,{crossOrigin:S,integrity:N,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);r.d.M(v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(v)},ht.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,S=m(b,p.crossOrigin);r.d.L(v,b,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(v,p){if(typeof v=="string")if(p){var b=m(p.as,p.crossOrigin);r.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(v)},ht.requestFormReset=function(v){r.d.r(v)},ht.unstable_batchedUpdates=function(v,p){return v(p)},ht.useFormState=function(v,p,b){return f.H.useFormState(v,p,b)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.4",ht}var Wh;function yv(){if(Wh)return So.exports;Wh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),So.exports=vv(),So.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function bv(){if(Ph)return gs;Ph=1;var l=pv(),n=Go(),s=yv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===a)return v(u),e;if(o===i)return v(u),t;o=o.sibling}throw Error(r(188))}if(a.return!==i.return)a=u,i=o;else{for(var h=!1,y=u.child;y;){if(y===a){h=!0,a=u,i=o;break}if(y===i){h=!0,i=u,a=o;break}y=y.sibling}if(!h){for(y=o.child;y;){if(y===a){h=!0,a=o,i=u;break}if(y===i){h=!0,i=o,a=u;break}y=y.sibling}if(!h)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),De=Symbol.for("react.activity"),mt=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case G:return"Profiler";case D:return"StrictMode";case F:return"Suspense";case ee:return"SuspenseList";case De:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case B:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:Me(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return Me(e(t))}catch{}}return null}var Xe=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},_e=[],je=-1;function x(e){return{current:e}}function M(e){0>je||(e.current=_e[je],_e[je]=null,je--)}function K(e,t){je++,_e[je]=e.current,e.current=t}var I=x(null),ie=x(null),ce=x(null),be=x(null);function H(e,t){switch(K(ce,t),K(ie,e),K(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hh(t),e=mh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(I),K(I,e)}function $(){M(I),M(ie),M(ce)}function ue(e){e.memoizedState!==null&&K(be,e);var t=I.current,a=mh(t,e.type);t!==a&&(K(ie,e),K(I,a))}function Oe(e){ie.current===e&&(M(I),M(ie)),be.current===e&&(M(be),cs._currentValue=Z)}var pe,at;function Ge(e){if(pe===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",at=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+at}var Wa=!1;function Pt(e,t){if(!e||Wa)return"";Wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(k){var O=k}Reflect.construct(e,[],q)}else{try{q.call()}catch(k){O=k}e.call(q.prototype)}}else{try{throw Error()}catch(k){O=k}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(k){if(k&&O&&typeof k.stack=="string")return[k.stack,O.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),h=o[0],y=o[1];if(h&&y){var _=h.split(`
`),A=y.split(`
`);for(u=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;if(i===_.length||u===A.length)for(i=_.length-1,u=A.length-1;1<=i&&0<=u&&_[i]!==A[u];)u--;for(;1<=i&&0<=u;i--,u--)if(_[i]!==A[u]){if(i!==1||u!==1)do if(i--,u--,0>u||_[i]!==A[u]){var U=`
`+_[i].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=i&&0<=u);break}}}finally{Wa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ge(a):""}function nr(e,t){switch(e.tag){case 26:case 27:case 5:return Ge(e.type);case 16:return Ge("Lazy");case 13:return e.child!==t&&t!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Pt(e.type,!1);case 11:return Pt(e.type.render,!1);case 1:return Pt(e.type,!0);case 31:return Ge("Activity");default:return""}}function ir(e){try{var t="",a=null;do t+=nr(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var En=Object.prototype.hasOwnProperty,Sa=l.unstable_scheduleCallback,wi=l.unstable_cancelCallback,Ym=l.unstable_shouldYield,Km=l.unstable_requestPaint,St=l.unstable_now,Qm=l.unstable_getCurrentPriorityLevel,Yo=l.unstable_ImmediatePriority,Ko=l.unstable_UserBlockingPriority,As=l.unstable_NormalPriority,Xm=l.unstable_LowPriority,Qo=l.unstable_IdlePriority,Jm=l.log,Im=l.unstable_setDisableYieldValue,xi=null,Et=null;function Ea(e){if(typeof Jm=="function"&&Im(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(xi,e)}catch{}}var Tt=Math.clz32?Math.clz32:Pm,Zm=Math.log,Wm=Math.LN2;function Pm(e){return e>>>=0,e===0?32:31-(Zm(e)/Wm|0)|0}var Ns=256,Os=262144,ks=4194304;function Pa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cs(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~o,i!==0?u=Pa(i):(h&=y,h!==0?u=Pa(h):a||(a=y&~e,a!==0&&(u=Pa(a))))):(y=i&~o,y!==0?u=Pa(y):h!==0?u=Pa(h):a||(a=i&~e,a!==0&&(u=Pa(a)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:u}function Si(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var e=ks;return ks<<=1,(ks&62914560)===0&&(ks=4194304),e}function sr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ei(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eg(e,t,a,i,u,o){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,A=e.hiddenUpdates;for(a=h&~a;0<a;){var U=31-Tt(a),q=1<<U;y[U]=0,_[U]=-1;var O=A[U];if(O!==null)for(A[U]=null,U=0;U<O.length;U++){var k=O[U];k!==null&&(k.lane&=-536870913)}a&=~q}i!==0&&Jo(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function Jo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Tt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Io(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-Tt(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function Zo(e,t){var a=t&-t;return a=(a&42)!==0?1:lr(a),(a&(e.suspendedLanes|t))!==0?0:a}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wo(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:qh(e.type))}function Po(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var Ta=Math.random().toString(36).slice(2),lt="__reactFiber$"+Ta,pt="__reactProps$"+Ta,Tn="__reactContainer$"+Ta,ur="__reactEvents$"+Ta,tg="__reactListeners$"+Ta,ag="__reactHandles$"+Ta,Fo="__reactResources$"+Ta,Ti="__reactMarker$"+Ta;function or(e){delete e[lt],delete e[pt],delete e[ur],delete e[tg],delete e[ag]}function jn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Tn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=wh(e);e!==null;){if(a=e[lt])return a;e=wh(e)}return t}e=a,a=e.parentNode}return null}function An(e){if(e=e[lt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Nn(e){var t=e[Fo];return t||(t=e[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ti]=!0}var ec=new Set,tc={};function Fa(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(tc[e]=t,e=0;e<t.length;e++)ec.add(t[e])}var ng=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},nc={};function ig(e){return En.call(nc,e)?!0:En.call(ac,e)?!1:ng.test(e)?nc[e]=!0:(ac[e]=!0,!1)}function Rs(e,t,a){if(ig(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Us(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function na(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ic(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sg(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){a=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cr(e){if(!e._valueTracker){var t=ic(e)?"checked":"value";e._valueTracker=sg(e,t,""+e[t])}}function sc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=ic(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lg=/[\n"\\]/g;function qt(e){return e.replace(lg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dr(e,t,a,i,u,o,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?fr(e,h,Mt(t)):a!=null?fr(e,h,Mt(a)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Mt(y):e.removeAttribute("name")}function lc(e,t,a,i,u,o,h,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){cr(e);return}a=a!=null?""+Mt(a):"",t=t!=null?""+Mt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),cr(e)}function fr(e,t,a){t==="number"&&Ds(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function kn(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Mt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function rc(e,t,a){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Mt(a):""}function uc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(Xe(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Mt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),cr(e)}function Cn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var rg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||rg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function cc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&oc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&oc(e,o,t[o])}function hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ia(){}var mr=null;function gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rn=null,Un=null;function dc(e){var t=An(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(dr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[pt]||null;if(!u)throw Error(r(90));dr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&sc(i)}break e;case"textarea":rc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&kn(e,!!a.multiple,t,!1)}}}var pr=!1;function fc(e,t,a){if(pr)return e(t,a);pr=!0;try{var i=e(t);return i}finally{if(pr=!1,(Rn!==null||Un!==null)&&(xl(),Rn&&(t=Rn,e=Un,Un=Rn=null,dc(t),e)))for(t=0;t<e.length;t++)dc(e[t])}}function Ai(e,t){var a=e.stateNode;if(a===null)return null;var i=a[pt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(sa)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{vr=!1}var ja=null,yr=null,Ms=null;function hc(){if(Ms)return Ms;var e,t=yr,a=t.length,i,u="value"in ja?ja.value:ja.textContent,o=u.length;for(e=0;e<a&&t[e]===u[e];e++);var h=a-e;for(i=1;i<=h&&t[a-i]===u[o-i];i++);return Ms=u.slice(e,1<i?1-i:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function mc(){return!1}function vt(e){function t(a,i,u,o,h){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bs:mc,this.isPropagationStopped=mc,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=vt(en),Oi=S({},en,{view:0,detail:0}),cg=vt(Oi),br,_r,ki,Hs=S({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(br=e.screenX-ki.screenX,_r=e.screenY-ki.screenY):_r=br=0,ki=e),br)},movementY:function(e){return"movementY"in e?e.movementY:_r}}),gc=vt(Hs),dg=S({},Hs,{dataTransfer:0}),fg=vt(dg),hg=S({},Oi,{relatedTarget:0}),wr=vt(hg),mg=S({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),gg=vt(mg),pg=S({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vg=vt(pg),yg=S({},en,{data:0}),pc=vt(yg),bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wg[e])?!!t[e]:!1}function xr(){return xg}var Sg=S({},Oi,{key:function(e){if(e.key){var t=bg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_g[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eg=vt(Sg),Tg=S({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=vt(Tg),jg=S({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Ag=vt(jg),Ng=S({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=vt(Ng),kg=S({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cg=vt(kg),Rg=S({},en,{newState:0,oldState:0}),Ug=vt(Rg),Dg=[9,13,27,32],Sr=sa&&"CompositionEvent"in window,Ci=null;sa&&"documentMode"in document&&(Ci=document.documentMode);var zg=sa&&"TextEvent"in window&&!Ci,yc=sa&&(!Sr||Ci&&8<Ci&&11>=Ci),bc=" ",_c=!1;function wc(e,t){switch(e){case"keyup":return Dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Mg(e,t){switch(e){case"compositionend":return xc(t);case"keypress":return t.which!==32?null:(_c=!0,bc);case"textInput":return e=t.data,e===bc&&_c?null:e;default:return null}}function qg(e,t){if(Dn)return e==="compositionend"||!Sr&&wc(e,t)?(e=hc(),Ms=yr=ja=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yc&&t.locale!=="ko"?null:t.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bg[e.type]:t==="textarea"}function Ec(e,t,a,i){Rn?Un?Un.push(i):Un=[i]:Rn=i,t=Ol(t,"onChange"),0<t.length&&(a=new Ls("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Ri=null,Ui=null;function Lg(e){rh(e,0)}function Gs(e){var t=ji(e);if(sc(t))return e}function Tc(e,t){if(e==="change")return t}var jc=!1;if(sa){var Er;if(sa){var Tr="oninput"in document;if(!Tr){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),Tr=typeof Ac.oninput=="function"}Er=Tr}else Er=!1;jc=Er&&(!document.documentMode||9<document.documentMode)}function Nc(){Ri&&(Ri.detachEvent("onpropertychange",Oc),Ui=Ri=null)}function Oc(e){if(e.propertyName==="value"&&Gs(Ui)){var t=[];Ec(t,Ui,e,gr(e)),fc(Lg,t)}}function Hg(e,t,a){e==="focusin"?(Nc(),Ri=t,Ui=a,Ri.attachEvent("onpropertychange",Oc)):e==="focusout"&&Nc()}function Gg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gs(Ui)}function $g(e,t){if(e==="click")return Gs(t)}function Vg(e,t){if(e==="input"||e==="change")return Gs(t)}function Yg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Yg;function Di(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!En.call(t,u)||!jt(e[u],t[u]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cc(e,t){var a=kc(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kc(a)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ds(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ds(e.document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kg=sa&&"documentMode"in document&&11>=document.documentMode,zn=null,Ar=null,zi=null,Nr=!1;function Dc(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nr||zn==null||zn!==Ds(i)||(i=zn,"selectionStart"in i&&jr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zi&&Di(zi,i)||(zi=i,i=Ol(Ar,"onSelect"),0<i.length&&(t=new Ls("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=zn)))}function tn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Mn={animationend:tn("Animation","AnimationEnd"),animationiteration:tn("Animation","AnimationIteration"),animationstart:tn("Animation","AnimationStart"),transitionrun:tn("Transition","TransitionRun"),transitionstart:tn("Transition","TransitionStart"),transitioncancel:tn("Transition","TransitionCancel"),transitionend:tn("Transition","TransitionEnd")},Or={},zc={};sa&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function an(e){if(Or[e])return Or[e];if(!Mn[e])return e;var t=Mn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in zc)return Or[e]=t[a];return e}var Mc=an("animationend"),qc=an("animationiteration"),Bc=an("animationstart"),Qg=an("transitionrun"),Xg=an("transitionstart"),Jg=an("transitioncancel"),Lc=an("transitionend"),Hc=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kr.push("scrollEnd");function Qt(e,t){Hc.set(e,t),Fa(t,[e])}var $s=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],qn=0,Cr=0;function Vs(){for(var e=qn,t=Cr=qn=0;t<e;){var a=Bt[t];Bt[t++]=null;var i=Bt[t];Bt[t++]=null;var u=Bt[t];Bt[t++]=null;var o=Bt[t];if(Bt[t++]=null,i!==null&&u!==null){var h=i.pending;h===null?u.next=u:(u.next=h.next,h.next=u),i.pending=u}o!==0&&Gc(a,u,o)}}function Ys(e,t,a,i){Bt[qn++]=e,Bt[qn++]=t,Bt[qn++]=a,Bt[qn++]=i,Cr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Rr(e,t,a,i){return Ys(e,t,a,i),Ks(e)}function nn(e,t){return Ys(e,null,null,t),Ks(e)}function Gc(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,o=e.return;o!==null;)o.childLanes|=a,i=o.alternate,i!==null&&(i.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Tt(a),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),o):null}function Ks(e){if(50<ns)throw ns=0,Gu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bn={};function Ig(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,a,i){return new Ig(e,t,a,i)}function Ur(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var a=e.alternate;return a===null?(a=At(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $c(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qs(e,t,a,i,u,o){var h=0;if(i=e,typeof e=="function")Ur(e)&&(h=1);else if(typeof e=="string")h=ev(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case De:return e=At(31,a,t,u),e.elementType=De,e.lanes=o,e;case L:return sn(a.children,u,o,t);case D:h=8,u|=24;break;case G:return e=At(12,a,t,u|2),e.elementType=G,e.lanes=o,e;case F:return e=At(13,a,t,u),e.elementType=F,e.lanes=o,e;case ee:return e=At(19,a,t,u),e.elementType=ee,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:h=10;break e;case Y:h=9;break e;case Q:h=11;break e;case X:h=14;break e;case ye:h=16,i=null;break e}h=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=At(h,a,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function sn(e,t,a,i){return e=At(7,e,i,t),e.lanes=a,e}function Dr(e,t,a){return e=At(6,e,null,t),e.lanes=a,e}function Vc(e){var t=At(18,null,null,0);return t.stateNode=e,t}function zr(e,t,a){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yc=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=Yc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ir(t)},Yc.set(e,t),t)}return{value:e,source:t,stack:ir(t)}}var Ln=[],Hn=0,Xs=null,Mi=0,Ht=[],Gt=0,Aa=null,Ft=1,ea="";function ra(e,t){Ln[Hn++]=Mi,Ln[Hn++]=Xs,Xs=e,Mi=t}function Kc(e,t,a){Ht[Gt++]=Ft,Ht[Gt++]=ea,Ht[Gt++]=Aa,Aa=e;var i=Ft;e=ea;var u=32-Tt(i)-1;i&=~(1<<u),a+=1;var o=32-Tt(t)+u;if(30<o){var h=u-u%5;o=(i&(1<<h)-1).toString(32),i>>=h,u-=h,Ft=1<<32-Tt(t)+u|a<<u|i,ea=o+e}else Ft=1<<o|a<<u|i,ea=e}function Mr(e){e.return!==null&&(ra(e,1),Kc(e,1,0))}function qr(e){for(;e===Xs;)Xs=Ln[--Hn],Ln[Hn]=null,Mi=Ln[--Hn],Ln[Hn]=null;for(;e===Aa;)Aa=Ht[--Gt],Ht[Gt]=null,ea=Ht[--Gt],Ht[Gt]=null,Ft=Ht[--Gt],Ht[Gt]=null}function Qc(e,t){Ht[Gt++]=Ft,Ht[Gt++]=ea,Ht[Gt++]=Aa,Ft=t.id,ea=t.overflow,Aa=e}var rt=null,qe=null,ve=!1,Na=null,$t=!1,Br=Error(r(519));function Oa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qi(Lt(t,e)),Br}function Xc(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[lt]=e,t[pt]=i,a){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(a=0;a<ss.length;a++)he(ss[a],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),lc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),uc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||dh(t.textContent,a)?(i.popover!=null&&(he("beforetoggle",t),he("toggle",t)),i.onScroll!=null&&he("scroll",t),i.onScrollEnd!=null&&he("scrollend",t),i.onClick!=null&&(t.onclick=ia),t=!0):t=!1,t||Oa(e,!0)}function Jc(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:rt=rt.return}}function Gn(e){if(e!==rt)return!1;if(!ve)return Jc(e),ve=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ao(e.type,e.memoizedProps)),a=!a),a&&qe&&Oa(e),Jc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));qe=_h(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));qe=_h(e)}else t===27?(t=qe,Va(e.type)?(e=ro,ro=null,qe=e):qe=t):qe=rt?Yt(e.stateNode.nextSibling):null;return!0}function ln(){qe=rt=null,ve=!1}function Lr(){var e=Na;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Na=null),e}function qi(e){Na===null?Na=[e]:Na.push(e)}var Hr=x(null),rn=null,ua=null;function ka(e,t,a){K(Hr,t._currentValue),t._currentValue=a}function oa(e){e._currentValue=Hr.current,M(Hr)}function Gr(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function $r(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var h=u.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=u;for(var _=0;_<t.length;_++)if(y.context===t[_]){o.lanes|=a,y=o.alternate,y!==null&&(y.lanes|=a),Gr(o.return,a,e),i||(h=null);break e}o=y.next}}else if(u.tag===18){if(h=u.return,h===null)throw Error(r(341));h.lanes|=a,o=h.alternate,o!==null&&(o.lanes|=a),Gr(h,a,e),h=null}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}}function $n(e,t,a,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var h=u.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var y=u.type;jt(u.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(u===be.current){if(h=u.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(cs):e=[cs])}u=u.return}e!==null&&$r(t,e,a,i),t.flags|=262144}function Js(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function un(e){rn=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Ic(rn,e)}function Is(e,t){return rn===null&&un(e),Ic(e,t)}function Ic(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(r(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var Zg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Wg=l.unstable_scheduleCallback,Pg=l.unstable_NormalPriority,Je={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vr(){return{controller:new Zg,data:new Map,refCount:0}}function Bi(e){e.refCount--,e.refCount===0&&Wg(Pg,function(){e.controller.abort()})}var Li=null,Yr=0,Vn=0,Yn=null;function Fg(e,t){if(Li===null){var a=Li=[];Yr=0,Vn=Xu(),Yn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Yr++,t.then(Zc,Zc),t}function Zc(){if(--Yr===0&&Li!==null){Yn!==null&&(Yn.status="fulfilled");var e=Li;Li=null,Vn=0,Yn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ep(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var Wc=C.S;C.S=function(e,t){zf=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fg(e,t),Wc!==null&&Wc(e,t)};var on=x(null);function Kr(){var e=on.current;return e!==null?e:Ue.pooledCache}function Zs(e,t){t===null?K(on,on.current):K(on,t.pool)}function Pc(){var e=Kr();return e===null?null:{parent:Je._currentValue,pool:e}}var Kn=Error(r(460)),Qr=Error(r(474)),Ws=Error(r(542)),Ps={then:function(){}};function Fc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ed(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ia,ia),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e;default:if(typeof t.status=="string")t.then(ia,ia);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e}throw dn=t,Kn}}function cn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(dn=a,Kn):a}}var dn=null;function td(){if(dn===null)throw Error(r(459));var e=dn;return dn=null,e}function ad(e){if(e===Kn||e===Ws)throw Error(r(483))}var Qn=null,Hi=0;function Fs(e){var t=Hi;return Hi+=1,Qn===null&&(Qn=[]),ed(Qn,e,t)}function Gi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function el(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nd(e){function t(E,w){if(e){var j=E.deletions;j===null?(E.deletions=[w],E.flags|=16):j.push(w)}}function a(E,w){if(!e)return null;for(;w!==null;)t(E,w),w=w.sibling;return null}function i(E){for(var w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function u(E,w){return E=la(E,w),E.index=0,E.sibling=null,E}function o(E,w,j){return E.index=j,e?(j=E.alternate,j!==null?(j=j.index,j<w?(E.flags|=67108866,w):j):(E.flags|=67108866,w)):(E.flags|=1048576,w)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function y(E,w,j,z){return w===null||w.tag!==6?(w=Dr(j,E.mode,z),w.return=E,w):(w=u(w,j),w.return=E,w)}function _(E,w,j,z){var te=j.type;return te===L?U(E,w,j.props.children,z,j.key):w!==null&&(w.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ye&&cn(te)===w.type)?(w=u(w,j.props),Gi(w,j),w.return=E,w):(w=Qs(j.type,j.key,j.props,null,E.mode,z),Gi(w,j),w.return=E,w)}function A(E,w,j,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=zr(j,E.mode,z),w.return=E,w):(w=u(w,j.children||[]),w.return=E,w)}function U(E,w,j,z,te){return w===null||w.tag!==7?(w=sn(j,E.mode,z,te),w.return=E,w):(w=u(w,j),w.return=E,w)}function q(E,w,j){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Dr(""+w,E.mode,j),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case T:return j=Qs(w.type,w.key,w.props,null,E.mode,j),Gi(j,w),j.return=E,j;case R:return w=zr(w,E.mode,j),w.return=E,w;case ye:return w=cn(w),q(E,w,j)}if(Xe(w)||Ee(w))return w=sn(w,E.mode,j,null),w.return=E,w;if(typeof w.then=="function")return q(E,Fs(w),j);if(w.$$typeof===B)return q(E,Is(E,w),j);el(E,w)}return null}function O(E,w,j,z){var te=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return te!==null?null:y(E,w,""+j,z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===te?_(E,w,j,z):null;case R:return j.key===te?A(E,w,j,z):null;case ye:return j=cn(j),O(E,w,j,z)}if(Xe(j)||Ee(j))return te!==null?null:U(E,w,j,z,null);if(typeof j.then=="function")return O(E,w,Fs(j),z);if(j.$$typeof===B)return O(E,w,Is(E,j),z);el(E,j)}return null}function k(E,w,j,z,te){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return E=E.get(j)||null,y(w,E,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return E=E.get(z.key===null?j:z.key)||null,_(w,E,z,te);case R:return E=E.get(z.key===null?j:z.key)||null,A(w,E,z,te);case ye:return z=cn(z),k(E,w,j,z,te)}if(Xe(z)||Ee(z))return E=E.get(j)||null,U(w,E,z,te,null);if(typeof z.then=="function")return k(E,w,j,Fs(z),te);if(z.$$typeof===B)return k(E,w,j,Is(w,z),te);el(w,z)}return null}function J(E,w,j,z){for(var te=null,we=null,W=w,de=w=0,ge=null;W!==null&&de<j.length;de++){W.index>de?(ge=W,W=null):ge=W.sibling;var xe=O(E,W,j[de],z);if(xe===null){W===null&&(W=ge);break}e&&W&&xe.alternate===null&&t(E,W),w=o(xe,w,de),we===null?te=xe:we.sibling=xe,we=xe,W=ge}if(de===j.length)return a(E,W),ve&&ra(E,de),te;if(W===null){for(;de<j.length;de++)W=q(E,j[de],z),W!==null&&(w=o(W,w,de),we===null?te=W:we.sibling=W,we=W);return ve&&ra(E,de),te}for(W=i(W);de<j.length;de++)ge=k(W,E,de,j[de],z),ge!==null&&(e&&ge.alternate!==null&&W.delete(ge.key===null?de:ge.key),w=o(ge,w,de),we===null?te=ge:we.sibling=ge,we=ge);return e&&W.forEach(function(Ja){return t(E,Ja)}),ve&&ra(E,de),te}function ae(E,w,j,z){if(j==null)throw Error(r(151));for(var te=null,we=null,W=w,de=w=0,ge=null,xe=j.next();W!==null&&!xe.done;de++,xe=j.next()){W.index>de?(ge=W,W=null):ge=W.sibling;var Ja=O(E,W,xe.value,z);if(Ja===null){W===null&&(W=ge);break}e&&W&&Ja.alternate===null&&t(E,W),w=o(Ja,w,de),we===null?te=Ja:we.sibling=Ja,we=Ja,W=ge}if(xe.done)return a(E,W),ve&&ra(E,de),te;if(W===null){for(;!xe.done;de++,xe=j.next())xe=q(E,xe.value,z),xe!==null&&(w=o(xe,w,de),we===null?te=xe:we.sibling=xe,we=xe);return ve&&ra(E,de),te}for(W=i(W);!xe.done;de++,xe=j.next())xe=k(W,E,de,xe.value,z),xe!==null&&(e&&xe.alternate!==null&&W.delete(xe.key===null?de:xe.key),w=o(xe,w,de),we===null?te=xe:we.sibling=xe,we=xe);return e&&W.forEach(function(dv){return t(E,dv)}),ve&&ra(E,de),te}function Re(E,w,j,z){if(typeof j=="object"&&j!==null&&j.type===L&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:e:{for(var te=j.key;w!==null;){if(w.key===te){if(te=j.type,te===L){if(w.tag===7){a(E,w.sibling),z=u(w,j.props.children),z.return=E,E=z;break e}}else if(w.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ye&&cn(te)===w.type){a(E,w.sibling),z=u(w,j.props),Gi(z,j),z.return=E,E=z;break e}a(E,w);break}else t(E,w);w=w.sibling}j.type===L?(z=sn(j.props.children,E.mode,z,j.key),z.return=E,E=z):(z=Qs(j.type,j.key,j.props,null,E.mode,z),Gi(z,j),z.return=E,E=z)}return h(E);case R:e:{for(te=j.key;w!==null;){if(w.key===te)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){a(E,w.sibling),z=u(w,j.children||[]),z.return=E,E=z;break e}else{a(E,w);break}else t(E,w);w=w.sibling}z=zr(j,E.mode,z),z.return=E,E=z}return h(E);case ye:return j=cn(j),Re(E,w,j,z)}if(Xe(j))return J(E,w,j,z);if(Ee(j)){if(te=Ee(j),typeof te!="function")throw Error(r(150));return j=te.call(j),ae(E,w,j,z)}if(typeof j.then=="function")return Re(E,w,Fs(j),z);if(j.$$typeof===B)return Re(E,w,Is(E,j),z);el(E,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,w!==null&&w.tag===6?(a(E,w.sibling),z=u(w,j),z.return=E,E=z):(a(E,w),z=Dr(j,E.mode,z),z.return=E,E=z),h(E)):a(E,w)}return function(E,w,j,z){try{Hi=0;var te=Re(E,w,j,z);return Qn=null,te}catch(W){if(W===Kn||W===Ws)throw W;var we=At(29,W,null,E.mode);return we.lanes=z,we.return=E,we}finally{}}}var fn=nd(!0),id=nd(!1),Ca=!1;function Xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Se&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Ks(e),Gc(e,null,a),t}return Ys(e,i,t,a),Ks(e)}function $i(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Io(e,a)}}function Ir(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?u=o=h:o=o.next=h,a=a.next}while(a!==null);o===null?u=o=t:o=o.next=t}else u=o=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Zr=!1;function Vi(){if(Zr){var e=Yn;if(e!==null)throw e}}function Yi(e,t,a,i){Zr=!1;var u=e.updateQueue;Ca=!1;var o=u.firstBaseUpdate,h=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var _=y,A=_.next;_.next=null,h===null?o=A:h.next=A,h=_;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==h&&(y===null?U.firstBaseUpdate=A:y.next=A,U.lastBaseUpdate=_))}if(o!==null){var q=u.baseState;h=0,U=A=_=null,y=o;do{var O=y.lane&-536870913,k=O!==y.lane;if(k?(me&O)===O:(i&O)===O){O!==0&&O===Vn&&(Zr=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var J=e,ae=y;O=t;var Re=a;switch(ae.tag){case 1:if(J=ae.payload,typeof J=="function"){q=J.call(Re,q,O);break e}q=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ae.payload,O=typeof J=="function"?J.call(Re,q,O):J,O==null)break e;q=S({},q,O);break e;case 2:Ca=!0}}O=y.callback,O!==null&&(e.flags|=64,k&&(e.flags|=8192),k=u.callbacks,k===null?u.callbacks=[O]:k.push(O))}else k={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(A=U=k,_=q):U=U.next=k,h|=O;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;k=y,y=k.next,k.next=null,u.lastBaseUpdate=k,u.shared.pending=null}}while(!0);U===null&&(_=q),u.baseState=_,u.firstBaseUpdate=A,u.lastBaseUpdate=U,o===null&&(u.shared.lanes=0),Ba|=h,e.lanes=h,e.memoizedState=q}}function sd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function ld(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)sd(a[e],t)}var Xn=x(null),tl=x(0);function rd(e,t){e=ya,K(tl,e),K(Xn,t),ya=e|t.baseLanes}function Wr(){K(tl,ya),K(Xn,Xn.current)}function Pr(){ya=tl.current,M(Xn),M(tl)}var Nt=x(null),Vt=null;function Da(e){var t=e.alternate;K(Ke,Ke.current&1),K(Nt,e),Vt===null&&(t===null||Xn.current!==null||t.memoizedState!==null)&&(Vt=e)}function Fr(e){K(Ke,Ke.current),K(Nt,e),Vt===null&&(Vt=e)}function ud(e){e.tag===22?(K(Ke,Ke.current),K(Nt,e),Vt===null&&(Vt=e)):za()}function za(){K(Ke,Ke.current),K(Nt,Nt.current)}function Ot(e){M(Nt),Vt===e&&(Vt=null),M(Ke)}var Ke=x(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||so(a)||lo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=0,oe=null,ke=null,Ie=null,nl=!1,Jn=!1,hn=!1,il=0,Ki=0,In=null,tp=0;function $e(){throw Error(r(321))}function eu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jt(e[a],t[a]))return!1;return!0}function tu(e,t,a,i,u,o){return ca=o,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Kd:pu,hn=!1,o=a(i,u),hn=!1,Jn&&(o=cd(t,a,i,u)),od(e),o}function od(e){C.H=Ji;var t=ke!==null&&ke.next!==null;if(ca=0,Ie=ke=oe=null,nl=!1,Ki=0,In=null,t)throw Error(r(300));e===null||Ze||(e=e.dependencies,e!==null&&Js(e)&&(Ze=!0))}function cd(e,t,a,i){oe=e;var u=0;do{if(Jn&&(In=null),Ki=0,Jn=!1,25<=u)throw Error(r(301));if(u+=1,Ie=ke=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}C.H=Qd,o=t(a,i)}while(Jn);return o}function ap(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Qi(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(oe.flags|=1024),t}function au(){var e=il!==0;return il=0,e}function nu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function iu(e){if(nl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nl=!1}ca=0,Ie=ke=oe=null,Jn=!1,Ki=il=0,In=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?oe.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Qe(){if(ke===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ie===null?oe.memoizedState:Ie.next;if(t!==null)Ie=t,ke=e;else{if(e===null)throw oe.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ie===null?oe.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qi(e){var t=Ki;return Ki+=1,In===null&&(In=[]),e=ed(In,e,t),t=oe,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Kd:pu),e}function ll(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qi(e);if(e.$$typeof===B)return ut(e)}throw Error(r(438,String(e)))}function su(e){var t=null,a=oe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=oe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=sl(),oe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=mt;return t.index++,a}function da(e,t){return typeof t=="function"?t(e):t}function rl(e){var t=Qe();return lu(t,ke,e)}function lu(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var h=u.next;u.next=o.next,o.next=h}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var y=h=null,_=null,A=t,U=!1;do{var q=A.lane&-536870913;if(q!==A.lane?(me&q)===q:(ca&q)===q){var O=A.revertLane;if(O===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),q===Vn&&(U=!0);else if((ca&O)===O){A=A.next,O===Vn&&(U=!0);continue}else q={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(y=_=q,h=o):_=_.next=q,oe.lanes|=O,Ba|=O;q=A.action,hn&&a(o,q),o=A.hasEagerState?A.eagerState:a(o,q)}else O={lane:q,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(y=_=O,h=o):_=_.next=O,oe.lanes|=q,Ba|=q;A=A.next}while(A!==null&&A!==t);if(_===null?h=o:_.next=y,!jt(o,e.memoizedState)&&(Ze=!0,U&&(a=Yn,a!==null)))throw a;e.memoizedState=o,e.baseState=h,e.baseQueue=_,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ru(e){var t=Qe(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,o=t.memoizedState;if(u!==null){a.pending=null;var h=u=u.next;do o=e(o,h.action),h=h.next;while(h!==u);jt(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,i]}function dd(e,t,a){var i=oe,u=Qe(),o=ve;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var h=!jt((ke||u).memoizedState,a);if(h&&(u.memoizedState=a,Ze=!0),u=u.queue,cu(md.bind(null,i,u,e),[e]),u.getSnapshot!==t||h||Ie!==null&&Ie.memoizedState.tag&1){if(i.flags|=2048,Zn(9,{destroy:void 0},hd.bind(null,i,u,a,t),null),Ue===null)throw Error(r(349));o||(ca&127)!==0||fd(i,t,a)}return a}function fd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=oe.updateQueue,t===null?(t=sl(),oe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function hd(e,t,a,i){t.value=a,t.getSnapshot=i,gd(t)&&pd(e)}function md(e,t,a){return a(function(){gd(t)&&pd(e)})}function gd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jt(e,a)}catch{return!0}}function pd(e){var t=nn(e,2);t!==null&&xt(t,e,2)}function uu(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),hn){Ea(!0);try{a()}finally{Ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function vd(e,t,a,i){return e.baseState=a,lu(e,ke,typeof i=="function"?i:da)}function np(e,t,a,i,u){if(cl(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};C.T!==null?a(!0):o.isTransition=!1,i(o),a=t.pending,a===null?(o.next=t.pending=o,yd(t,o)):(o.next=a.next,t.pending=a.next=o)}}function yd(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=C.T,h={};C.T=h;try{var y=a(u,i),_=C.S;_!==null&&_(h,y),bd(e,t,y)}catch(A){ou(e,t,A)}finally{o!==null&&h.types!==null&&(o.types=h.types),C.T=o}}else try{o=a(u,i),bd(e,t,o)}catch(A){ou(e,t,A)}}function bd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){_d(e,t,i)},function(i){return ou(e,t,i)}):_d(e,t,a)}function _d(e,t,a){t.status="fulfilled",t.value=a,wd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,yd(e,a)))}function ou(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,wd(t),t=t.next;while(t!==i)}e.action=null}function wd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function xd(e,t){return t}function Sd(e,t){if(ve){var a=Ue.formState;if(a!==null){e:{var i=oe;if(ve){if(qe){t:{for(var u=qe,o=$t;u.nodeType!==8;){if(!o){u=null;break t}if(u=Yt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){qe=Yt(u.nextSibling),i=u.data==="F!";break e}}Oa(i)}i=!1}i&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},a.queue=i,a=$d.bind(null,oe,i),i.dispatch=a,i=uu(!1),o=gu.bind(null,oe,!1,i.queue),i=gt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=np.bind(null,oe,u,o,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function Ed(e){var t=Qe();return Td(t,ke,e)}function Td(e,t,a){if(t=lu(e,t,xd)[0],e=rl(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Qi(t)}catch(h){throw h===Kn?Ws:h}else i=t;t=Qe();var u=t.queue,o=u.dispatch;return a!==t.memoizedState&&(oe.flags|=2048,Zn(9,{destroy:void 0},ip.bind(null,u,a),null)),[i,o,e]}function ip(e,t){e.action=t}function jd(e){var t=Qe(),a=ke;if(a!==null)return Td(t,a,e);Qe(),t=t.memoizedState,a=Qe();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Zn(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=oe.updateQueue,t===null&&(t=sl(),oe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Ad(){return Qe().memoizedState}function ul(e,t,a,i){var u=gt();oe.flags|=e,u.memoizedState=Zn(1|t,{destroy:void 0},a,i===void 0?null:i)}function ol(e,t,a,i){var u=Qe();i=i===void 0?null:i;var o=u.memoizedState.inst;ke!==null&&i!==null&&eu(i,ke.memoizedState.deps)?u.memoizedState=Zn(t,o,a,i):(oe.flags|=e,u.memoizedState=Zn(1|t,o,a,i))}function Nd(e,t){ul(8390656,8,e,t)}function cu(e,t){ol(2048,8,e,t)}function sp(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=sl(),oe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Od(e){var t=Qe().memoizedState;return sp({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function kd(e,t){return ol(4,2,e,t)}function Cd(e,t){return ol(4,4,e,t)}function Rd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ud(e,t,a){a=a!=null?a.concat([e]):null,ol(4,4,Rd.bind(null,t,e),a)}function du(){}function Dd(e,t){var a=Qe();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&eu(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function zd(e,t){var a=Qe();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&eu(t,i[1]))return i[0];if(i=e(),hn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[i,t],i}function fu(e,t,a){return a===void 0||(ca&1073741824)!==0&&(me&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=qf(),oe.lanes|=e,Ba|=e,a)}function Md(e,t,a,i){return jt(a,t)?a:Xn.current!==null?(e=fu(e,a,i),jt(e,t)||(Ze=!0),e):(ca&42)===0||(ca&1073741824)!==0&&(me&261930)===0?(Ze=!0,e.memoizedState=a):(e=qf(),oe.lanes|=e,Ba|=e,t)}function qd(e,t,a,i,u){var o=V.p;V.p=o!==0&&8>o?o:8;var h=C.T,y={};C.T=y,gu(e,!1,t,a);try{var _=u(),A=C.S;if(A!==null&&A(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var U=ep(_,i);Xi(e,t,U,Rt(e))}else Xi(e,t,i,Rt(e))}catch(q){Xi(e,t,{then:function(){},status:"rejected",reason:q},Rt())}finally{V.p=o,h!==null&&y.types!==null&&(h.types=y.types),C.T=h}}function lp(){}function hu(e,t,a,i){if(e.tag!==5)throw Error(r(476));var u=Bd(e).queue;qd(e,u,t,Z,a===null?lp:function(){return Ld(e),a(i)})}function Bd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:Z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ld(e){var t=Bd(e);t.next===null&&(t=e.alternate.memoizedState),Xi(e,t.next.queue,{},Rt())}function mu(){return ut(cs)}function Hd(){return Qe().memoizedState}function Gd(){return Qe().memoizedState}function rp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Rt();e=Ra(a);var i=Ua(t,e,a);i!==null&&(xt(i,t,a),$i(i,t,a)),t={cache:Vr()},e.payload=t;return}t=t.return}}function up(e,t,a){var i=Rt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cl(e)?Vd(t,a):(a=Rr(e,t,a,i),a!==null&&(xt(a,e,i),Yd(a,t,i)))}function $d(e,t,a){var i=Rt();Xi(e,t,a,i)}function Xi(e,t,a,i){var u={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cl(e))Vd(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,y=o(h,a);if(u.hasEagerState=!0,u.eagerState=y,jt(y,h))return Ys(e,t,u,0),Ue===null&&Vs(),!1}catch{}finally{}if(a=Rr(e,t,u,i),a!==null)return xt(a,e,i),Yd(a,t,i),!0}return!1}function gu(e,t,a,i){if(i={lane:2,revertLane:Xu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},cl(e)){if(t)throw Error(r(479))}else t=Rr(e,a,i,2),t!==null&&xt(t,e,2)}function cl(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Vd(e,t){Jn=nl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Yd(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Io(e,a)}}var Ji={readContext:ut,use:ll,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};Ji.useEffectEvent=$e;var Kd={readContext:ut,use:ll,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Nd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ul(4194308,4,Rd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var i=e();if(hn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=gt();if(a!==void 0){var u=a(t);if(hn){Ea(!0);try{a(t)}finally{Ea(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=up.bind(null,oe,e),[i.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=uu(e);var t=e.queue,a=$d.bind(null,oe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:du,useDeferredValue:function(e,t){var a=gt();return fu(a,e,t)},useTransition:function(){var e=uu(!1);return e=qd.bind(null,oe,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=oe,u=gt();if(ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ue===null)throw Error(r(349));(me&127)!==0||fd(i,t,a)}u.memoizedState=a;var o={value:a,getSnapshot:t};return u.queue=o,Nd(md.bind(null,i,o,e),[e]),i.flags|=2048,Zn(9,{destroy:void 0},hd.bind(null,i,o,a,t),null),a},useId:function(){var e=gt(),t=Ue.identifierPrefix;if(ve){var a=ea,i=Ft;a=(i&~(1<<32-Tt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=il++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=tp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mu,useFormState:Sd,useActionState:Sd,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=gu.bind(null,oe,!0,a),a.dispatch=t,[e,t]},useMemoCache:su,useCacheRefresh:function(){return gt().memoizedState=rp.bind(null,oe)},useEffectEvent:function(e){var t=gt(),a={impl:e};return t.memoizedState=a,function(){if((Se&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},pu={readContext:ut,use:ll,useCallback:Dd,useContext:ut,useEffect:cu,useImperativeHandle:Ud,useInsertionEffect:kd,useLayoutEffect:Cd,useMemo:zd,useReducer:rl,useRef:Ad,useState:function(){return rl(da)},useDebugValue:du,useDeferredValue:function(e,t){var a=Qe();return Md(a,ke.memoizedState,e,t)},useTransition:function(){var e=rl(da)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Qi(e),t]},useSyncExternalStore:dd,useId:Hd,useHostTransitionStatus:mu,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,t){var a=Qe();return vd(a,ke,e,t)},useMemoCache:su,useCacheRefresh:Gd};pu.useEffectEvent=Od;var Qd={readContext:ut,use:ll,useCallback:Dd,useContext:ut,useEffect:cu,useImperativeHandle:Ud,useInsertionEffect:kd,useLayoutEffect:Cd,useMemo:zd,useReducer:ru,useRef:Ad,useState:function(){return ru(da)},useDebugValue:du,useDeferredValue:function(e,t){var a=Qe();return ke===null?fu(a,e,t):Md(a,ke.memoizedState,e,t)},useTransition:function(){var e=ru(da)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Qi(e),t]},useSyncExternalStore:dd,useId:Hd,useHostTransitionStatus:mu,useFormState:jd,useActionState:jd,useOptimistic:function(e,t){var a=Qe();return ke!==null?vd(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:su,useCacheRefresh:Gd};Qd.useEffectEvent=Od;function vu(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yu={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Rt(),u=Ra(i);u.payload=t,a!=null&&(u.callback=a),t=Ua(e,u,i),t!==null&&(xt(t,e,i),$i(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Rt(),u=Ra(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Ua(e,u,i),t!==null&&(xt(t,e,i),$i(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Rt(),i=Ra(a);i.tag=2,t!=null&&(i.callback=t),t=Ua(e,i,a),t!==null&&(xt(t,e,a),$i(t,e,a))}};function Xd(e,t,a,i,u,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,h):t.prototype&&t.prototype.isPureReactComponent?!Di(a,i)||!Di(u,o):!0}function Jd(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&yu.enqueueReplaceState(t,t.state,null)}function mn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function Id(e){$s(e)}function Zd(e){console.error(e)}function Wd(e){$s(e)}function dl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Pd(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function bu(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){dl(e,t)},a}function Fd(e){return e=Ra(e),e.tag=3,e}function ef(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){Pd(t,a,i)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Pd(t,a,i),typeof u!="function"&&(La===null?La=new Set([this]):La.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function op(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&$n(t,a,u,!0),a=Nt.current,a!==null){switch(a.tag){case 31:case 13:return Vt===null?Sl():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===Ps?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Yu(e,i,u)),!1;case 22:return a.flags|=65536,i===Ps?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Yu(e,i,u)),!1}throw Error(r(435,a.tag))}return Yu(e,i,u),Sl(),!1}if(ve)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Br&&(e=Error(r(422),{cause:i}),qi(Lt(e,a)))):(i!==Br&&(t=Error(r(423),{cause:i}),qi(Lt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Lt(i,a),u=bu(e.stateNode,i,u),Ir(e,u),Ve!==4&&(Ve=2)),!1;var o=Error(r(520),{cause:i});if(o=Lt(o,a),as===null?as=[o]:as.push(o),Ve!==4&&(Ve=2),t===null)return!0;i=Lt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=bu(a.stateNode,i,e),Ir(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(La===null||!La.has(o))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Fd(u),ef(u,e,a,i),Ir(a,u),!1}a=a.return}while(a!==null);return!1}var _u=Error(r(461)),Ze=!1;function ot(e,t,a,i){t.child=e===null?id(t,null,a,i):fn(t,e.child,a,i)}function tf(e,t,a,i,u){a=a.render;var o=t.ref;if("ref"in i){var h={};for(var y in i)y!=="ref"&&(h[y]=i[y])}else h=i;return un(t),i=tu(e,t,a,h,o,u),y=au(),e!==null&&!Ze?(nu(e,t,u),fa(e,t,u)):(ve&&y&&Mr(t),t.flags|=1,ot(e,t,i,u),t.child)}function af(e,t,a,i,u){if(e===null){var o=a.type;return typeof o=="function"&&!Ur(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,nf(e,t,o,i,u)):(e=Qs(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Nu(e,u)){var h=o.memoizedProps;if(a=a.compare,a=a!==null?a:Di,a(h,i)&&e.ref===t.ref)return fa(e,t,u)}return t.flags|=1,e=la(o,i),e.ref=t.ref,e.return=t,t.child=e}function nf(e,t,a,i,u){if(e!==null){var o=e.memoizedProps;if(Di(o,i)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=i=o,Nu(e,u))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,fa(e,t,u)}return wu(e,t,a,i,u)}function sf(e,t,a,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return lf(e,t,o,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zs(t,o!==null?o.cachePool:null),o!==null?rd(t,o):Wr(),ud(t);else return i=t.lanes=536870912,lf(e,t,o!==null?o.baseLanes|a:a,a,i)}else o!==null?(Zs(t,o.cachePool),rd(t,o),za(),t.memoizedState=null):(e!==null&&Zs(t,null),Wr(),za());return ot(e,t,u,a),t.child}function Ii(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lf(e,t,a,i,u){var o=Kr();return o=o===null?null:{parent:Je._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&Zs(t,null),Wr(),ud(t),e!==null&&$n(e,t,i,!0),t.childLanes=u,null}function fl(e,t){return t=ml({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rf(e,t,a){return fn(t,e.child,null,a),e=fl(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function cp(e,t,a){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(i.mode==="hidden")return e=fl(t,i),t.lanes=536870912,Ii(null,e);if(Fr(t),(e=qe)?(e=bh(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Ft,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=Vc(e),a.return=t,t.child=a,rt=t,qe=null)):e=null,e===null)throw Oa(t);return t.lanes=536870912,null}return fl(t,i)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(Fr(t),u)if(t.flags&256)t.flags&=-257,t=rf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ze||$n(e,t,a,!1),u=(a&e.childLanes)!==0,Ze||u){if(i=Ue,i!==null&&(h=Zo(i,a),h!==0&&h!==o.retryLane))throw o.retryLane=h,nn(e,h),xt(i,e,h),_u;Sl(),t=rf(e,t,a)}else e=o.treeContext,qe=Yt(h.nextSibling),rt=t,ve=!0,Na=null,$t=!1,e!==null&&Qc(t,e),t=fl(t,i),t.flags|=4096;return t}return e=la(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function wu(e,t,a,i,u){return un(t),a=tu(e,t,a,i,void 0,u),i=au(),e!==null&&!Ze?(nu(e,t,u),fa(e,t,u)):(ve&&i&&Mr(t),t.flags|=1,ot(e,t,a,u),t.child)}function uf(e,t,a,i,u,o){return un(t),t.updateQueue=null,a=cd(t,i,a,u),od(e),i=au(),e!==null&&!Ze?(nu(e,t,o),fa(e,t,o)):(ve&&i&&Mr(t),t.flags|=1,ot(e,t,a,o),t.child)}function of(e,t,a,i,u){if(un(t),t.stateNode===null){var o=Bn,h=a.contextType;typeof h=="object"&&h!==null&&(o=ut(h)),o=new a(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Xr(t),h=a.contextType,o.context=typeof h=="object"&&h!==null?ut(h):Bn,o.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(vu(t,a,h,i),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&yu.enqueueReplaceState(o,o.state,null),Yi(t,i,o,u),Vi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,_=mn(a,y);o.props=_;var A=o.context,U=a.contextType;h=Bn,typeof U=="object"&&U!==null&&(h=ut(U));var q=a.getDerivedStateFromProps;U=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,U||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||A!==h)&&Jd(t,o,i,h),Ca=!1;var O=t.memoizedState;o.state=O,Yi(t,i,o,u),Vi(),A=t.memoizedState,y||O!==A||Ca?(typeof q=="function"&&(vu(t,a,q,i),A=t.memoizedState),(_=Ca||Xd(t,a,_,i,O,A,h))?(U||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=A),o.props=i,o.state=A,o.context=h,i=_):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Jr(e,t),h=t.memoizedProps,U=mn(a,h),o.props=U,q=t.pendingProps,O=o.context,A=a.contextType,_=Bn,typeof A=="object"&&A!==null&&(_=ut(A)),y=a.getDerivedStateFromProps,(A=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==q||O!==_)&&Jd(t,o,i,_),Ca=!1,O=t.memoizedState,o.state=O,Yi(t,i,o,u),Vi();var k=t.memoizedState;h!==q||O!==k||Ca||e!==null&&e.dependencies!==null&&Js(e.dependencies)?(typeof y=="function"&&(vu(t,a,y,i),k=t.memoizedState),(U=Ca||Xd(t,a,U,i,O,k,_)||e!==null&&e.dependencies!==null&&Js(e.dependencies))?(A||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,k,_),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,k,_)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=k),o.props=i,o.state=k,o.context=_,i=U):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,hl(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=fn(t,e.child,null,u),t.child=fn(t,null,a,u)):ot(e,t,a,u),t.memoizedState=o.state,e=t.child):e=fa(e,t,u),e}function cf(e,t,a,i){return ln(),t.flags|=256,ot(e,t,a,i),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Su(e){return{baseLanes:e,cachePool:Pc()}}function Eu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ct),e}function df(e,t,a){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),h&&(u=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(u?Da(t):za(),(e=qe)?(e=bh(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Ft,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=Vc(e),a.return=t,t.child=a,rt=t,qe=null)):e=null,e===null)throw Oa(t);return lo(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,u?(za(),u=t.mode,y=ml({mode:"hidden",children:y},u),i=sn(i,u,a,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Su(a),i.childLanes=Eu(e,h,a),t.memoizedState=xu,Ii(null,i)):(Da(t),Tu(t,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(o)t.flags&256?(Da(t),t.flags&=-257,t=ju(e,t,a)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),y=i.fallback,u=t.mode,i=ml({mode:"visible",children:i.children},u),y=sn(y,u,a,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,fn(t,e.child,null,a),i=t.child,i.memoizedState=Su(a),i.childLanes=Eu(e,h,a),t.memoizedState=xu,t=Ii(null,i));else if(Da(t),lo(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var A=h.dgst;h=A,i=Error(r(419)),i.stack="",i.digest=h,qi({value:i,source:null,stack:null}),t=ju(e,t,a)}else if(Ze||$n(e,t,a,!1),h=(a&e.childLanes)!==0,Ze||h){if(h=Ue,h!==null&&(i=Zo(h,a),i!==0&&i!==_.retryLane))throw _.retryLane=i,nn(e,i),xt(h,e,i),_u;so(y)||Sl(),t=ju(e,t,a)}else so(y)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,qe=Yt(y.nextSibling),rt=t,ve=!0,Na=null,$t=!1,e!==null&&Qc(t,e),t=Tu(t,i.children),t.flags|=4096);return t}return u?(za(),y=i.fallback,u=t.mode,_=e.child,A=_.sibling,i=la(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,A!==null?y=la(A,y):(y=sn(y,u,a,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Ii(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Su(a):(u=y.cachePool,u!==null?(_=Je._currentValue,u=u.parent!==_?{parent:_,pool:_}:u):u=Pc(),y={baseLanes:y.baseLanes|a,cachePool:u}),i.memoizedState=y,i.childLanes=Eu(e,h,a),t.memoizedState=xu,Ii(e.child,i)):(Da(t),a=e.child,e=a.sibling,a=la(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Tu(e,t){return t=ml({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ml(e,t){return e=At(22,e,null,t),e.lanes=0,e}function ju(e,t,a){return fn(t,e.child,null,a),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Gr(e.return,t,a)}function Au(e,t,a,i,u,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=a,h.tailMode=u,h.treeForkCount=o)}function hf(e,t,a){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var h=Ke.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,K(Ke,h),ot(e,t,i,a),i=ve?Mi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,a,t);else if(e.tag===19)ff(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&al(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Au(t,!1,u,a,o,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&al(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Au(t,!0,a,null,o,i);break;case"together":Au(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,(a&t.childLanes)===0)if(e!==null){if($n(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=la(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=la(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Js(e)))}function dp(e,t,a){switch(t.tag){case 3:H(t,t.stateNode.containerInfo),ka(t,Je,e.memoizedState.cache),ln();break;case 27:case 5:ue(t);break;case 4:H(t,t.stateNode.containerInfo);break;case 10:ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Fr(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Da(t),t.flags|=128,null):(a&t.child.childLanes)!==0?df(e,t,a):(Da(t),e=fa(e,t,a),e!==null?e.sibling:null);Da(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||($n(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return hf(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(Ke,Ke.current),i)break;return null;case 22:return t.lanes=0,sf(e,t,a,t.pendingProps);case 24:ka(t,Je,e.memoizedState.cache)}return fa(e,t,a)}function mf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Nu(e,a)&&(t.flags&128)===0)return Ze=!1,dp(e,t,a);Ze=(e.flags&131072)!==0}else Ze=!1,ve&&(t.flags&1048576)!==0&&Kc(t,Mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=cn(t.elementType),t.type=e,typeof e=="function")Ur(e)?(i=mn(e,i),t.tag=1,t=of(null,t,e,i,a)):(t.tag=0,t=wu(null,t,e,i,a));else{if(e!=null){var u=e.$$typeof;if(u===Q){t.tag=11,t=tf(null,t,e,i,a);break e}else if(u===X){t.tag=14,t=af(null,t,e,i,a);break e}}throw t=Me(e)||e,Error(r(306,t,""))}}return t;case 0:return wu(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=mn(i,t.pendingProps),of(e,t,i,u,a);case 3:e:{if(H(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,Jr(e,t),Yi(t,i,null,a);var h=t.memoizedState;if(i=h.cache,ka(t,Je,i),i!==o.cache&&$r(t,[Je],a,!0),Vi(),i=h.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=cf(e,t,i,a);break e}else if(i!==u){u=Lt(Error(r(424)),t),qi(u),t=cf(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Yt(e.firstChild),rt=t,ve=!0,Na=null,$t=!0,a=id(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ln(),i===u){t=fa(e,t,a);break e}ot(e,t,i,a)}t=t.child}return t;case 26:return hl(e,t),e===null?(a=Th(t.type,null,t.pendingProps,null))?t.memoizedState=a:ve||(a=t.type,e=t.pendingProps,i=kl(ce.current).createElement(a),i[lt]=t,i[pt]=e,ct(i,a,e),nt(i),t.stateNode=i):t.memoizedState=Th(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ue(t),e===null&&ve&&(i=t.stateNode=xh(t.type,t.pendingProps,ce.current),rt=t,$t=!0,u=qe,Va(t.type)?(ro=u,qe=Yt(i.firstChild)):qe=u),ot(e,t,t.pendingProps.children,a),hl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((u=i=qe)&&(i=Gp(i,t.type,t.pendingProps,$t),i!==null?(t.stateNode=i,rt=t,qe=Yt(i.firstChild),$t=!1,u=!0):u=!1),u||Oa(t)),ue(t),u=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,i=o.children,ao(u,o)?i=null:h!==null&&ao(u,h)&&(t.flags|=32),t.memoizedState!==null&&(u=tu(e,t,ap,null,null,a),cs._currentValue=u),hl(e,t),ot(e,t,i,a),t.child;case 6:return e===null&&ve&&((e=a=qe)&&(a=$p(a,t.pendingProps,$t),a!==null?(t.stateNode=a,rt=t,qe=null,e=!0):e=!1),e||Oa(t)),null;case 13:return df(e,t,a);case 4:return H(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=fn(t,null,i,a):ot(e,t,i,a),t.child;case 11:return tf(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,ka(t,t.type,i.value),ot(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,un(t),u=ut(u),i=i(u),t.flags|=1,ot(e,t,i,a),t.child;case 14:return af(e,t,t.type,t.pendingProps,a);case 15:return nf(e,t,t.type,t.pendingProps,a);case 19:return hf(e,t,a);case 31:return cp(e,t,a);case 22:return sf(e,t,a,t.pendingProps);case 24:return un(t),i=ut(Je),e===null?(u=Kr(),u===null&&(u=Ue,o=Vr(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=a),u=o),t.memoizedState={parent:i,cache:u},Xr(t),ka(t,Je,u)):((e.lanes&a)!==0&&(Jr(e,t),Yi(t,null,null,a),Vi()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),ka(t,Je,i)):(i=o.cache,ka(t,Je,i),i!==u.cache&&$r(t,[Je],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ha(e){e.flags|=4}function Ou(e,t,a,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Gf())e.flags|=8192;else throw dn=Ps,Qr}else e.flags&=-16777217}function gf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kh(t))if(Gf())e.flags|=8192;else throw dn=Ps,Qr}function gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xo():536870912,e.lanes|=t,ei|=t)}function Zi(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function fp(e,t,a){var i=t.pendingProps;switch(qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),oa(Je),$(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gn(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lr())),Be(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(ha(t),o!==null?(Be(t),gf(t,o)):(Be(t),Ou(t,u,null,i,a))):o?o!==e.memoizedState?(ha(t),Be(t),gf(t,o)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ha(t),Be(t),Ou(t,u,e,i,a)),null;case 27:if(Oe(t),a=ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ha(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Be(t),null}e=I.current,Gn(t)?Xc(t):(e=xh(u,i,a),t.stateNode=e,ha(t))}return Be(t),null;case 5:if(Oe(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ha(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Be(t),null}if(o=I.current,Gn(t))Xc(t);else{var h=kl(ce.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?h.createElement("select",{is:i.is}):h.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?h.createElement(u,{is:i.is}):h.createElement(u)}}o[lt]=t,o[pt]=i;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;e:switch(ct(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ha(t)}}return Be(t),Ou(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ha(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ce.current,Gn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=rt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||dh(e.nodeValue,a)),e||Oa(t,!0)}else e=kl(e).createTextNode(i),e[lt]=t,t.stateNode=e}return Be(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Gn(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[lt]=t}else ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else a=Lr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Be(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Gn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[lt]=t}else ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),u=!1}else u=Lr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),gl(t,t.updateQueue),Be(t),null);case 4:return $(),e===null&&Wu(t.stateNode.containerInfo),Be(t),null;case 10:return oa(t.type),Be(t),null;case 19:if(M(Ke),i=t.memoizedState,i===null)return Be(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)Zi(i,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=al(e),o!==null){for(t.flags|=128,Zi(i,!1),e=o.updateQueue,t.updateQueue=e,gl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)$c(a,e),a=a.sibling;return K(Ke,Ke.current&1|2),ve&&ra(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&St()>_l&&(t.flags|=128,u=!0,Zi(i,!1),t.lanes=4194304)}else{if(!u)if(e=al(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,gl(t,e),Zi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ve)return Be(t),null}else 2*St()-i.renderingStartTime>_l&&a!==536870912&&(t.flags|=128,u=!0,Zi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=St(),e.sibling=null,a=Ke.current,K(Ke,u?a&1|2:a&1),ve&&ra(t,i.treeForkCount),e):(Be(t),null);case 22:case 23:return Ot(t),Pr(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&gl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&M(on),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(Je),Be(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function hp(e,t){switch(qr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Je),$(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oe(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(r(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ke),null;case 4:return $(),null;case 10:return oa(t.type),null;case 22:case 23:return Ot(t),Pr(),e!==null&&M(on),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Je),null;case 25:return null;default:return null}}function pf(e,t){switch(qr(t),t.tag){case 3:oa(Je),$();break;case 26:case 27:case 5:Oe(t);break;case 4:$();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:M(Ke);break;case 10:oa(t.type);break;case 22:case 23:Ot(t),Pr(),e!==null&&M(on);break;case 24:oa(Je)}}function Wi(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var o=a.create,h=a.inst;i=o(),h.destroy=i}a=a.next}while(a!==u)}}catch(y){Ne(t,t.return,y)}}function Ma(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var h=i.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,u=t;var _=a,A=y;try{A()}catch(U){Ne(u,_,U)}}}i=i.next}while(i!==o)}}catch(U){Ne(t,t.return,U)}}function vf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ld(t,a)}catch(i){Ne(e,e.return,i)}}}function yf(e,t,a){a.props=mn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Ne(e,t,i)}}function Pi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){Ne(e,t,u)}}function ta(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){Ne(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ne(e,t,u)}else a.current=null}function bf(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){Ne(e,e.return,u)}}function ku(e,t,a){try{var i=e.stateNode;zp(i,e.type,a,t),i[pt]=t}catch(u){Ne(e,e.return,u)}}function _f(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_f(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ru(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ia));else if(i!==4&&(i===27&&Va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ru(e,t,a),e=e.sibling;e!==null;)Ru(e,t,a),e=e.sibling}function pl(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pl(e,t,a),e=e.sibling;e!==null;)pl(e,t,a),e=e.sibling}function wf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ct(t,i,a),t[lt]=e,t[pt]=a}catch(o){Ne(e,e.return,o)}}var ma=!1,We=!1,Uu=!1,xf=typeof WeakSet=="function"?WeakSet:Set,it=null;function mp(e,t){if(e=e.containerInfo,eo=ql,e=Uc(e),jr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var h=0,y=-1,_=-1,A=0,U=0,q=e,O=null;t:for(;;){for(var k;q!==a||u!==0&&q.nodeType!==3||(y=h+u),q!==o||i!==0&&q.nodeType!==3||(_=h+i),q.nodeType===3&&(h+=q.nodeValue.length),(k=q.firstChild)!==null;)O=q,q=k;for(;;){if(q===e)break t;if(O===a&&++A===u&&(y=h),O===o&&++U===i&&(_=h),(k=q.nextSibling)!==null)break;q=O,O=q.parentNode}q=k}a=y===-1||_===-1?null:{start:y,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(to={focusedElem:e,selectionRange:a},ql=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,u=o.memoizedProps,o=o.memoizedState,i=a.stateNode;try{var J=mn(a.type,u);e=i.getSnapshotBeforeUpdate(J,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ne(a,a.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)io(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":io(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Sf(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:pa(e,a),i&4&&Wi(5,a);break;case 1:if(pa(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Ne(a,a.return,h)}else{var u=mn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ne(a,a.return,h)}}i&64&&vf(a),i&512&&Pi(a,a.return);break;case 3:if(pa(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ld(e,t)}catch(h){Ne(a,a.return,h)}}break;case 27:t===null&&i&4&&wf(a);case 26:case 5:pa(e,a),t===null&&i&4&&bf(a),i&512&&Pi(a,a.return);break;case 12:pa(e,a);break;case 31:pa(e,a),i&4&&jf(e,a);break;case 13:pa(e,a),i&4&&Af(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Sp.bind(null,a),Vp(e,a))));break;case 22:if(i=a.memoizedState!==null||ma,!i){t=t!==null&&t.memoizedState!==null||We,u=ma;var o=We;ma=i,(We=t)&&!o?va(e,a,(a.subtreeFlags&8772)!==0):pa(e,a),ma=u,We=o}break;case 30:break;default:pa(e,a)}}function Ef(e){var t=e.alternate;t!==null&&(e.alternate=null,Ef(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&or(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,yt=!1;function ga(e,t,a){for(a=a.child;a!==null;)Tf(e,t,a),a=a.sibling}function Tf(e,t,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(xi,a)}catch{}switch(a.tag){case 26:We||ta(a,t),ga(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||ta(a,t);var i=Le,u=yt;Va(a.type)&&(Le=a.stateNode,yt=!1),ga(e,t,a),rs(a.stateNode),Le=i,yt=u;break;case 5:We||ta(a,t);case 6:if(i=Le,u=yt,Le=null,ga(e,t,a),Le=i,yt=u,Le!==null)if(yt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(o){Ne(a,t,o)}else try{Le.removeChild(a.stateNode)}catch(o){Ne(a,t,o)}break;case 18:Le!==null&&(yt?(e=Le,vh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ui(e)):vh(Le,a.stateNode));break;case 4:i=Le,u=yt,Le=a.stateNode.containerInfo,yt=!0,ga(e,t,a),Le=i,yt=u;break;case 0:case 11:case 14:case 15:Ma(2,a,t),We||Ma(4,a,t),ga(e,t,a);break;case 1:We||(ta(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&yf(a,t,i)),ga(e,t,a);break;case 21:ga(e,t,a);break;case 22:We=(i=We)||a.memoizedState!==null,ga(e,t,a),We=i;break;default:ga(e,t,a)}}function jf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ui(e)}catch(a){Ne(t,t.return,a)}}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ui(e)}catch(a){Ne(t,t.return,a)}}function gp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new xf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new xf),t;default:throw Error(r(435,e.tag))}}function vl(e,t){var a=gp(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var u=Ep.bind(null,e,i);i.then(u,u)}})}function bt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],o=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(Va(y.type)){Le=y.stateNode,yt=!1;break e}break;case 5:Le=y.stateNode,yt=!1;break e;case 3:case 4:Le=y.stateNode.containerInfo,yt=!0;break e}y=y.return}if(Le===null)throw Error(r(160));Tf(o,h,u),Le=null,yt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Nf(t,e),t=t.sibling}var Xt=null;function Nf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),_t(e),i&4&&(Ma(3,e,e.return),Wi(3,e),Ma(5,e,e.return));break;case 1:bt(t,e),_t(e),i&512&&(We||a===null||ta(a,a.return)),i&64&&ma&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=Xt;if(bt(t,e),_t(e),i&512&&(We||a===null||ta(a,a.return)),i&4){var o=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Ti]||o[lt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),ct(o,i,a),o[lt]=e,nt(o),i=o;break e;case"link":var h=Nh("link","href",u).get(i+(a.href||""));if(h){for(var y=0;y<h.length;y++)if(o=h[y],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(y,1);break t}}o=u.createElement(i),ct(o,i,a),u.head.appendChild(o);break;case"meta":if(h=Nh("meta","content",u).get(i+(a.content||""))){for(y=0;y<h.length;y++)if(o=h[y],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(y,1);break t}}o=u.createElement(i),ct(o,i,a),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[lt]=e,nt(o),i=o}e.stateNode=i}else Oh(u,e.type,e.stateNode);else e.stateNode=Ah(u,i,e.memoizedProps);else o!==i?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,i===null?Oh(u,e.type,e.stateNode):Ah(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ku(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(t,e),_t(e),i&512&&(We||a===null||ta(a,a.return)),a!==null&&i&4&&ku(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(t,e),_t(e),i&512&&(We||a===null||ta(a,a.return)),e.flags&32){u=e.stateNode;try{Cn(u,"")}catch(J){Ne(e,e.return,J)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,ku(e,u,a!==null?a.memoizedProps:u)),i&1024&&(Uu=!0);break;case 6:if(bt(t,e),_t(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(J){Ne(e,e.return,J)}}break;case 3:if(Ul=null,u=Xt,Xt=Cl(t.containerInfo),bt(t,e),Xt=u,_t(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(J){Ne(e,e.return,J)}Uu&&(Uu=!1,Of(e));break;case 4:i=Xt,Xt=Cl(e.stateNode.containerInfo),bt(t,e),_t(e),Xt=i;break;case 12:bt(t,e),_t(e);break;case 31:bt(t,e),_t(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vl(e,i)));break;case 13:bt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bl=St()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vl(e,i)));break;case 22:u=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,A=ma,U=We;if(ma=A||u,We=U||_,bt(t,e),We=U,ma=A,_t(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||_||ma||We||gn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(o=_.stateNode,u)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=_.stateNode;var q=_.memoizedProps.style,O=q!=null&&q.hasOwnProperty("display")?q.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(J){Ne(_,_.return,J)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(J){Ne(_,_.return,J)}}}else if(t.tag===18){if(a===null){_=t;try{var k=_.stateNode;u?yh(k,!0):yh(_.stateNode,!1)}catch(J){Ne(_,_.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,vl(e,a))));break;case 19:bt(t,e),_t(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vl(e,i)));break;case 30:break;case 21:break;default:bt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(_f(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,o=Cu(e);pl(e,o,u);break;case 5:var h=a.stateNode;a.flags&32&&(Cn(h,""),a.flags&=-33);var y=Cu(e);pl(e,y,h);break;case 3:case 4:var _=a.stateNode.containerInfo,A=Cu(e);Ru(e,A,_);break;default:throw Error(r(161))}}catch(U){Ne(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sf(e,t.alternate,t),t=t.sibling}function gn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ma(4,t,t.return),gn(t);break;case 1:ta(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&yf(t,t.return,a),gn(t);break;case 27:rs(t.stateNode);case 26:case 5:ta(t,t.return),gn(t);break;case 22:t.memoizedState===null&&gn(t);break;case 30:gn(t);break;default:gn(t)}e=e.sibling}}function va(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:va(u,o,a),Wi(4,o);break;case 1:if(va(u,o,a),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(A){Ne(i,i.return,A)}if(i=o,u=i.updateQueue,u!==null){var y=i.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)sd(_[u],y)}catch(A){Ne(i,i.return,A)}}a&&h&64&&vf(o),Pi(o,o.return);break;case 27:wf(o);case 26:case 5:va(u,o,a),a&&i===null&&h&4&&bf(o),Pi(o,o.return);break;case 12:va(u,o,a);break;case 31:va(u,o,a),a&&h&4&&jf(u,o);break;case 13:va(u,o,a),a&&h&4&&Af(u,o);break;case 22:o.memoizedState===null&&va(u,o,a),Pi(o,o.return);break;case 30:break;default:va(u,o,a)}t=t.sibling}}function Du(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bi(a))}function zu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e))}function Jt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kf(e,t,a,i),t=t.sibling}function kf(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,a,i),u&2048&&Wi(9,t);break;case 1:Jt(e,t,a,i);break;case 3:Jt(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e)));break;case 12:if(u&2048){Jt(e,t,a,i),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,y=o.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ne(t,t.return,_)}}else Jt(e,t,a,i);break;case 31:Jt(e,t,a,i);break;case 13:Jt(e,t,a,i);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Jt(e,t,a,i):Fi(e,t):o._visibility&2?Jt(e,t,a,i):(o._visibility|=2,Wn(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Du(h,t);break;case 24:Jt(e,t,a,i),u&2048&&zu(t.alternate,t);break;default:Jt(e,t,a,i)}}function Wn(e,t,a,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,y=a,_=i,A=h.flags;switch(h.tag){case 0:case 11:case 15:Wn(o,h,y,_,u),Wi(8,h);break;case 23:break;case 22:var U=h.stateNode;h.memoizedState!==null?U._visibility&2?Wn(o,h,y,_,u):Fi(o,h):(U._visibility|=2,Wn(o,h,y,_,u)),u&&A&2048&&Du(h.alternate,h);break;case 24:Wn(o,h,y,_,u),u&&A&2048&&zu(h.alternate,h);break;default:Wn(o,h,y,_,u)}t=t.sibling}}function Fi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:Fi(a,i),u&2048&&Du(i.alternate,i);break;case 24:Fi(a,i),u&2048&&zu(i.alternate,i);break;default:Fi(a,i)}t=t.sibling}}var es=8192;function Pn(e,t,a){if(e.subtreeFlags&es)for(e=e.child;e!==null;)Cf(e,t,a),e=e.sibling}function Cf(e,t,a){switch(e.tag){case 26:Pn(e,t,a),e.flags&es&&e.memoizedState!==null&&tv(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Pn(e,t,a);break;case 3:case 4:var i=Xt;Xt=Cl(e.stateNode.containerInfo),Pn(e,t,a),Xt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=es,es=16777216,Pn(e,t,a),es=i):Pn(e,t,a));break;default:Pn(e,t,a)}}function Rf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];it=i,Df(i,e)}Rf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uf(e),e=e.sibling}function Uf(e){switch(e.tag){case 0:case 11:case 15:ts(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:ts(e);break;case 12:ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yl(e)):ts(e);break;default:ts(e)}}function yl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];it=i,Df(i,e)}Rf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ma(8,t,t.return),yl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,yl(t));break;default:yl(t)}e=e.sibling}}function Df(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:Ma(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Bi(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,it=i;else e:for(a=e;it!==null;){i=it;var u=i.sibling,o=i.return;if(Ef(i),i===a){it=null;break e}if(u!==null){u.return=o,it=u;break e}it=o}}}var pp={getCacheForType:function(e){var t=ut(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(Je).controller.signal}},vp=typeof WeakMap=="function"?WeakMap:Map,Se=0,Ue=null,fe=null,me=0,Ae=0,kt=null,qa=!1,Fn=!1,Mu=!1,ya=0,Ve=0,Ba=0,pn=0,qu=0,Ct=0,ei=0,as=null,wt=null,Bu=!1,bl=0,zf=0,_l=1/0,wl=null,La=null,Fe=0,Ha=null,ti=null,ba=0,Lu=0,Hu=null,Mf=null,ns=0,Gu=null;function Rt(){return(Se&2)!==0&&me!==0?me&-me:C.T!==null?Xu():Wo()}function qf(){if(Ct===0)if((me&536870912)===0||ve){var e=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),Ct=e}else Ct=536870912;return e=Nt.current,e!==null&&(e.flags|=32),Ct}function xt(e,t,a){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(ai(e,0),Ga(e,me,Ct,!1)),Ei(e,a),((Se&2)===0||e!==Ue)&&(e===Ue&&((Se&2)===0&&(pn|=a),Ve===4&&Ga(e,me,Ct,!1)),aa(e))}function Bf(e,t,a){if((Se&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Si(e,t),u=i?_p(e,t):Vu(e,t,!0),o=i;do{if(u===0){Fn&&!i&&Ga(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!yp(a)){u=Vu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;u=as;var _=y.current.memoizedState.isDehydrated;if(_&&(ai(y,h).flags|=256),h=Vu(y,h,!1),h!==2){if(Mu&&!_){y.errorRecoveryDisabledLanes|=o,pn|=o,u=4;break e}o=wt,wt=u,o!==null&&(wt===null?wt=o:wt.push.apply(wt,o))}u=h}if(o=!1,u!==2)continue}}if(u===1){ai(e,0),Ga(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ga(i,t,Ct,!qa);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=bl+300-St(),10<u)){if(Ga(i,t,Ct,!qa),Cs(i,0,!0)!==0)break e;ba=t,i.timeoutHandle=gh(Lf.bind(null,i,a,wt,wl,Bu,t,Ct,pn,ei,qa,o,"Throttled",-0,0),u);break e}Lf(i,a,wt,wl,Bu,t,Ct,pn,ei,qa,o,null,-0,0)}}break}while(!0);aa(e)}function Lf(e,t,a,i,u,o,h,y,_,A,U,q,O,k){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},Cf(t,o,q);var J=(o&62914560)===o?bl-St():(o&4194048)===o?zf-St():0;if(J=av(q,J),J!==null){ba=o,e.cancelPendingCommit=J(Xf.bind(null,e,t,o,a,i,u,h,y,_,U,q,null,O,k)),Ga(e,o,h,!A);return}}Xf(e,t,o,a,i,u,h,y,_)}function yp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],o=u.getSnapshot;u=u.value;try{if(!jt(o(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,a,i){t&=~qu,t&=~pn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-Tt(u),h=1<<o;i[o]=-1,u&=~h}a!==0&&Jo(e,a,t)}function xl(){return(Se&6)===0?(is(0),!1):!0}function $u(){if(fe!==null){if(Ae===0)var e=fe.return;else e=fe,ua=rn=null,iu(e),Qn=null,Hi=0,e=fe;for(;e!==null;)pf(e.alternate,e),e=e.return;fe=null}}function ai(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Bp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ba=0,$u(),Ue=e,fe=a=la(e.current,null),me=t,Ae=0,kt=null,qa=!1,Fn=Si(e,t),Mu=!1,ei=Ct=qu=pn=Ba=Ve=0,wt=as=null,Bu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-Tt(i),o=1<<u;t|=e[u],i&=~o}return ya=t,Vs(),a}function Hf(e,t){oe=null,C.H=Ji,t===Kn||t===Ws?(t=td(),Ae=3):t===Qr?(t=td(),Ae=4):Ae=t===_u?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,fe===null&&(Ve=1,dl(e,Lt(t,e.current)))}function Gf(){var e=Nt.current;return e===null?!0:(me&4194048)===me?Vt===null:(me&62914560)===me||(me&536870912)!==0?e===Vt:!1}function $f(){var e=C.H;return C.H=Ji,e===null?Ji:e}function Vf(){var e=C.A;return C.A=pp,e}function Sl(){Ve=4,qa||(me&4194048)!==me&&Nt.current!==null||(Fn=!0),(Ba&134217727)===0&&(pn&134217727)===0||Ue===null||Ga(Ue,me,Ct,!1)}function Vu(e,t,a){var i=Se;Se|=2;var u=$f(),o=Vf();(Ue!==e||me!==t)&&(wl=null,ai(e,t)),t=!1;var h=Ve;e:do try{if(Ae!==0&&fe!==null){var y=fe,_=kt;switch(Ae){case 8:$u(),h=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var A=Ae;if(Ae=0,kt=null,ni(e,y,_,A),a&&Fn){h=0;break e}break;default:A=Ae,Ae=0,kt=null,ni(e,y,_,A)}}bp(),h=Ve;break}catch(U){Hf(e,U)}while(!0);return t&&e.shellSuspendCounter++,ua=rn=null,Se=i,C.H=u,C.A=o,fe===null&&(Ue=null,me=0,Vs()),h}function bp(){for(;fe!==null;)Yf(fe)}function _p(e,t){var a=Se;Se|=2;var i=$f(),u=Vf();Ue!==e||me!==t?(wl=null,_l=St()+500,ai(e,t)):Fn=Si(e,t);e:do try{if(Ae!==0&&fe!==null){t=fe;var o=kt;t:switch(Ae){case 1:Ae=0,kt=null,ni(e,t,o,1);break;case 2:case 9:if(Fc(o)){Ae=0,kt=null,Kf(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),aa(e)},o.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Fc(o)?(Ae=0,kt=null,Kf(t)):(Ae=0,kt=null,ni(e,t,o,7));break;case 5:var h=null;switch(fe.tag){case 26:h=fe.memoizedState;case 5:case 27:var y=fe;if(h?kh(h):y.stateNode.complete){Ae=0,kt=null;var _=y.sibling;if(_!==null)fe=_;else{var A=y.return;A!==null?(fe=A,El(A)):fe=null}break t}}Ae=0,kt=null,ni(e,t,o,5);break;case 6:Ae=0,kt=null,ni(e,t,o,6);break;case 8:$u(),Ve=6;break e;default:throw Error(r(462))}}wp();break}catch(U){Hf(e,U)}while(!0);return ua=rn=null,C.H=i,C.A=u,Se=a,fe!==null?0:(Ue=null,me=0,Vs(),Ve)}function wp(){for(;fe!==null&&!Ym();)Yf(fe)}function Yf(e){var t=mf(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?El(e):fe=t}function Kf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=uf(a,t,t.pendingProps,t.type,void 0,me);break;case 11:t=uf(a,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:iu(t);default:pf(a,t),t=fe=$c(t,ya),t=mf(a,t,ya)}e.memoizedProps=e.pendingProps,t===null?El(e):fe=t}function ni(e,t,a,i){ua=rn=null,iu(t),Qn=null,Hi=0;var u=t.return;try{if(op(e,u,t,a,me)){Ve=1,dl(e,Lt(a,e.current)),fe=null;return}}catch(o){if(u!==null)throw fe=u,o;Ve=1,dl(e,Lt(a,e.current)),fe=null;return}t.flags&32768?(ve||i===1?e=!0:Fn||(me&536870912)!==0?e=!1:(qa=e=!0,(i===2||i===9||i===3||i===6)&&(i=Nt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Qf(t,e)):El(t)}function El(e){var t=e;do{if((t.flags&32768)!==0){Qf(t,qa);return}e=t.return;var a=fp(t.alternate,t,ya);if(a!==null){fe=a;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function Qf(e,t){do{var a=hp(e.alternate,e);if(a!==null){a.flags&=32767,fe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=a}while(e!==null);Ve=6,fe=null}function Xf(e,t,a,i,u,o,h,y,_){e.cancelPendingCommit=null;do Tl();while(Fe!==0);if((Se&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Cr,eg(e,a,o,h,y,_),e===Ue&&(fe=Ue=null,me=0),ti=t,Ha=e,ba=a,Lu=o,Hu=u,Mf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Tp(As,function(){return Pf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=C.T,C.T=null,u=V.p,V.p=2,h=Se,Se|=4;try{mp(e,t,a)}finally{Se=h,V.p=u,C.T=i}}Fe=1,Jf(),If(),Zf()}}function Jf(){if(Fe===1){Fe=0;var e=Ha,t=ti,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var i=V.p;V.p=2;var u=Se;Se|=4;try{Nf(t,e);var o=to,h=Uc(e.containerInfo),y=o.focusedElem,_=o.selectionRange;if(h!==y&&y&&y.ownerDocument&&Rc(y.ownerDocument.documentElement,y)){if(_!==null&&jr(y)){var A=_.start,U=_.end;if(U===void 0&&(U=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(U,y.value.length);else{var q=y.ownerDocument||document,O=q&&q.defaultView||window;if(O.getSelection){var k=O.getSelection(),J=y.textContent.length,ae=Math.min(_.start,J),Re=_.end===void 0?ae:Math.min(_.end,J);!k.extend&&ae>Re&&(h=Re,Re=ae,ae=h);var E=Cc(y,ae),w=Cc(y,Re);if(E&&w&&(k.rangeCount!==1||k.anchorNode!==E.node||k.anchorOffset!==E.offset||k.focusNode!==w.node||k.focusOffset!==w.offset)){var j=q.createRange();j.setStart(E.node,E.offset),k.removeAllRanges(),ae>Re?(k.addRange(j),k.extend(w.node,w.offset)):(j.setEnd(w.node,w.offset),k.addRange(j))}}}}for(q=[],k=y;k=k.parentNode;)k.nodeType===1&&q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<q.length;y++){var z=q[y];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ql=!!eo,to=eo=null}finally{Se=u,V.p=i,C.T=a}}e.current=t,Fe=2}}function If(){if(Fe===2){Fe=0;var e=Ha,t=ti,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var i=V.p;V.p=2;var u=Se;Se|=4;try{Sf(e,t.alternate,t)}finally{Se=u,V.p=i,C.T=a}}Fe=3}}function Zf(){if(Fe===4||Fe===3){Fe=0,Km();var e=Ha,t=ti,a=ba,i=Mf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,ti=Ha=null,Wf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(La=null),rr(a),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=C.T,u=V.p,V.p=2,C.T=null;try{for(var o=e.onRecoverableError,h=0;h<i.length;h++){var y=i[h];o(y.value,{componentStack:y.stack})}}finally{C.T=t,V.p=u}}(ba&3)!==0&&Tl(),aa(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Gu?ns++:(ns=0,Gu=e):ns=0,is(0)}}function Wf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Bi(t)))}function Tl(){return Jf(),If(),Zf(),Pf()}function Pf(){if(Fe!==5)return!1;var e=Ha,t=Lu;Lu=0;var a=rr(ba),i=C.T,u=V.p;try{V.p=32>a?32:a,C.T=null,a=Hu,Hu=null;var o=Ha,h=ba;if(Fe=0,ti=Ha=null,ba=0,(Se&6)!==0)throw Error(r(331));var y=Se;if(Se|=4,Uf(o.current),kf(o,o.current,h,a),Se=y,is(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(xi,o)}catch{}return!0}finally{V.p=u,C.T=i,Wf(e,t)}}function Ff(e,t,a){t=Lt(a,t),t=bu(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(Ei(e,2),aa(e))}function Ne(e,t,a){if(e.tag===3)Ff(e,e,a);else for(;t!==null;){if(t.tag===3){Ff(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(La===null||!La.has(i))){e=Lt(a,e),a=Fd(2),i=Ua(t,a,2),i!==null&&(ef(a,i,t,e),Ei(i,2),aa(i));break}}t=t.return}}function Yu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new vp;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(Mu=!0,u.add(a),e=xp.bind(null,e,t,a),t.then(e,e))}function xp(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(me&a)===a&&(Ve===4||Ve===3&&(me&62914560)===me&&300>St()-bl?(Se&2)===0&&ai(e,0):qu|=a,ei===me&&(ei=0)),aa(e)}function eh(e,t){t===0&&(t=Xo()),e=nn(e,t),e!==null&&(Ei(e,t),aa(e))}function Sp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),eh(e,a)}function Ep(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),eh(e,a)}function Tp(e,t){return Sa(e,t)}var jl=null,ii=null,Ku=!1,Al=!1,Qu=!1,$a=0;function aa(e){e!==ii&&e.next===null&&(ii===null?jl=ii=e:ii=ii.next=e),Al=!0,Ku||(Ku=!0,Ap())}function is(e,t){if(!Qu&&Al){Qu=!0;do for(var a=!1,i=jl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var h=i.suspendedLanes,y=i.pingedLanes;o=(1<<31-Tt(42|e)+1)-1,o&=u&~(h&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,ih(i,o))}else o=me,o=Cs(i,i===Ue?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||Si(i,o)||(a=!0,ih(i,o));i=i.next}while(a);Qu=!1}}function jp(){th()}function th(){Al=Ku=!1;var e=0;$a!==0&&qp()&&(e=$a);for(var t=St(),a=null,i=jl;i!==null;){var u=i.next,o=ah(i,t);o===0?(i.next=null,a===null?jl=u:a.next=u,u===null&&(ii=a)):(a=i,(e!==0||(o&3)!==0)&&(Al=!0)),i=u}Fe!==0&&Fe!==5||is(e),$a!==0&&($a=0)}function ah(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-Tt(o),y=1<<h,_=u[h];_===-1?((y&a)===0||(y&i)!==0)&&(u[h]=Fm(y,t)):_<=t&&(e.expiredLanes|=y),o&=~y}if(t=Ue,a=me,a=Cs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&wi(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Si(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&wi(i),rr(a)){case 2:case 8:a=Ko;break;case 32:a=As;break;case 268435456:a=Qo;break;default:a=As}return i=nh.bind(null,e),a=Sa(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&wi(i),e.callbackPriority=2,e.callbackNode=null,2}function nh(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tl()&&e.callbackNode!==a)return null;var i=me;return i=Cs(e,e===Ue?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Bf(e,i,t),ah(e,St()),e.callbackNode!=null&&e.callbackNode===a?nh.bind(null,e):null)}function ih(e,t){if(Tl())return null;Bf(e,t,!0)}function Ap(){Lp(function(){(Se&6)!==0?Sa(Yo,jp):th()})}function Xu(){if($a===0){var e=Vn;e===0&&(e=Ns,Ns<<=1,(Ns&261888)===0&&(Ns=256)),$a=e}return $a}function sh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function lh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Np(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var o=sh((u[pt]||null).action),h=i.submitter;h&&(t=(t=h[pt]||null)?sh(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var y=new Ls("action","action",null,i,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if($a!==0){var _=h?lh(u,h):new FormData(u);hu(a,{pending:!0,data:_,method:u.method,action:o},null,_)}}else typeof o=="function"&&(y.preventDefault(),_=h?lh(u,h):new FormData(u),hu(a,{pending:!0,data:_,method:u.method,action:o},o,_))},currentTarget:u}]})}}for(var Ju=0;Ju<kr.length;Ju++){var Iu=kr[Ju],Op=Iu.toLowerCase(),kp=Iu[0].toUpperCase()+Iu.slice(1);Qt(Op,"on"+kp)}Qt(Mc,"onAnimationEnd"),Qt(qc,"onAnimationIteration"),Qt(Bc,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(Qg,"onTransitionRun"),Qt(Xg,"onTransitionStart"),Qt(Jg,"onTransitionCancel"),Qt(Lc,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ss));function rh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var h=i.length-1;0<=h;h--){var y=i[h],_=y.instance,A=y.currentTarget;if(y=y.listener,_!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=A;try{o(u)}catch(U){$s(U)}u.currentTarget=null,o=_}else for(h=0;h<i.length;h++){if(y=i[h],_=y.instance,A=y.currentTarget,y=y.listener,_!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=A;try{o(u)}catch(U){$s(U)}u.currentTarget=null,o=_}}}}function he(e,t){var a=t[ur];a===void 0&&(a=t[ur]=new Set);var i=e+"__bubble";a.has(i)||(uh(t,e,2,!1),a.add(i))}function Zu(e,t,a){var i=0;t&&(i|=4),uh(a,e,i,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Wu(e){if(!e[Nl]){e[Nl]=!0,ec.forEach(function(a){a!=="selectionchange"&&(Cp.has(a)||Zu(a,!1,e),Zu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,Zu("selectionchange",!1,t))}}function uh(e,t,a,i){switch(qh(t)){case 2:var u=sv;break;case 8:u=lv;break;default:u=ho}a=u.bind(null,t,a,e),u=void 0,!vr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Pu(e,t,a,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var y=i.stateNode.containerInfo;if(y===u)break;if(h===4)for(h=i.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===u)return;h=h.return}for(;y!==null;){if(h=jn(y),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){i=o=h;continue e}y=y.parentNode}}i=i.return}fc(function(){var A=o,U=gr(a),q=[];e:{var O=Hc.get(e);if(O!==void 0){var k=Ls,J=e;switch(e){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":k=Eg;break;case"focusin":J="focus",k=wr;break;case"focusout":J="blur",k=wr;break;case"beforeblur":case"afterblur":k=wr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ag;break;case Mc:case qc:case Bc:k=gg;break;case Lc:k=Og;break;case"scroll":case"scrollend":k=cg;break;case"wheel":k=Cg;break;case"copy":case"cut":case"paste":k=vg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=vc;break;case"toggle":case"beforetoggle":k=Ug}var ae=(t&4)!==0,Re=!ae&&(e==="scroll"||e==="scrollend"),E=ae?O!==null?O+"Capture":null:O;ae=[];for(var w=A,j;w!==null;){var z=w;if(j=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||j===null||E===null||(z=Ai(w,E),z!=null&&ae.push(ls(w,z,j))),Re)break;w=w.return}0<ae.length&&(O=new k(O,J,null,a,U),q.push({event:O,listeners:ae}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",O&&a!==mr&&(J=a.relatedTarget||a.fromElement)&&(jn(J)||J[Tn]))break e;if((k||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,k?(J=a.relatedTarget||a.toElement,k=A,J=J?jn(J):null,J!==null&&(Re=d(J),ae=J.tag,J!==Re||ae!==5&&ae!==27&&ae!==6)&&(J=null)):(k=null,J=A),k!==J)){if(ae=gc,z="onMouseLeave",E="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ae=vc,z="onPointerLeave",E="onPointerEnter",w="pointer"),Re=k==null?O:ji(k),j=J==null?O:ji(J),O=new ae(z,w+"leave",k,a,U),O.target=Re,O.relatedTarget=j,z=null,jn(U)===A&&(ae=new ae(E,w+"enter",J,a,U),ae.target=j,ae.relatedTarget=Re,z=ae),Re=z,k&&J)t:{for(ae=Rp,E=k,w=J,j=0,z=E;z;z=ae(z))j++;z=0;for(var te=w;te;te=ae(te))z++;for(;0<j-z;)E=ae(E),j--;for(;0<z-j;)w=ae(w),z--;for(;j--;){if(E===w||w!==null&&E===w.alternate){ae=E;break t}E=ae(E),w=ae(w)}ae=null}else ae=null;k!==null&&oh(q,O,k,ae,!1),J!==null&&Re!==null&&oh(q,Re,J,ae,!0)}}e:{if(O=A?ji(A):window,k=O.nodeName&&O.nodeName.toLowerCase(),k==="select"||k==="input"&&O.type==="file")var we=Tc;else if(Sc(O))if(jc)we=Vg;else{we=Gg;var W=Hg}else k=O.nodeName,!k||k.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?A&&hr(A.elementType)&&(we=Tc):we=$g;if(we&&(we=we(e,A))){Ec(q,we,a,U);break e}W&&W(e,O,A),e==="focusout"&&A&&O.type==="number"&&A.memoizedProps.value!=null&&fr(O,"number",O.value)}switch(W=A?ji(A):window,e){case"focusin":(Sc(W)||W.contentEditable==="true")&&(zn=W,Ar=A,zi=null);break;case"focusout":zi=Ar=zn=null;break;case"mousedown":Nr=!0;break;case"contextmenu":case"mouseup":case"dragend":Nr=!1,Dc(q,a,U);break;case"selectionchange":if(Kg)break;case"keydown":case"keyup":Dc(q,a,U)}var de;if(Sr)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Dn?wc(e,a)&&(ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(yc&&a.locale!=="ko"&&(Dn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Dn&&(de=hc()):(ja=U,yr="value"in ja?ja.value:ja.textContent,Dn=!0)),W=Ol(A,ge),0<W.length&&(ge=new pc(ge,e,null,a,U),q.push({event:ge,listeners:W}),de?ge.data=de:(de=xc(a),de!==null&&(ge.data=de)))),(de=zg?Mg(e,a):qg(e,a))&&(ge=Ol(A,"onBeforeInput"),0<ge.length&&(W=new pc("onBeforeInput","beforeinput",null,a,U),q.push({event:W,listeners:ge}),W.data=de)),Np(q,e,A,a,U)}rh(q,t)})}function ls(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ol(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Ai(e,a),u!=null&&i.unshift(ls(e,u,o)),u=Ai(e,t),u!=null&&i.push(ls(e,u,o))),e.tag===3)return i;e=e.return}return[]}function Rp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oh(e,t,a,i,u){for(var o=t._reactName,h=[];a!==null&&a!==i;){var y=a,_=y.alternate,A=y.stateNode;if(y=y.tag,_!==null&&_===i)break;y!==5&&y!==26&&y!==27||A===null||(_=A,u?(A=Ai(a,o),A!=null&&h.unshift(ls(a,A,_))):u||(A=Ai(a,o),A!=null&&h.push(ls(a,A,_)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Up=/\r\n?/g,Dp=/\u0000|\uFFFD/g;function ch(e){return(typeof e=="string"?e:""+e).replace(Up,`
`).replace(Dp,"")}function dh(e,t){return t=ch(t),ch(e)===t}function Ce(e,t,a,i,u,o){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Cn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Cn(e,""+i);break;case"className":Us(e,"class",i);break;case"tabIndex":Us(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Us(e,a,i);break;case"style":cc(e,i,o);break;case"data":if(t!=="object"){Us(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=zs(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&Ce(e,t,"name",u.name,u,null),Ce(e,t,"formEncType",u.formEncType,u,null),Ce(e,t,"formMethod",u.formMethod,u,null),Ce(e,t,"formTarget",u.formTarget,u,null)):(Ce(e,t,"encType",u.encType,u,null),Ce(e,t,"method",u.method,u,null),Ce(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=zs(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ia);break;case"onScroll":i!=null&&he("scroll",e);break;case"onScrollEnd":i!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=zs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":he("beforetoggle",e),he("toggle",e),Rs(e,"popover",i);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Rs(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ug.get(a)||a,Rs(e,a,i))}}function Fu(e,t,a,i,u,o){switch(a){case"style":cc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Cn(e,i):(typeof i=="number"||typeof i=="bigint")&&Cn(e,""+i);break;case"onScroll":i!=null&&he("scroll",e);break;case"onScrollEnd":i!=null&&he("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),o=e[pt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Rs(e,a,i)}}}function ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var i=!1,u=!1,o;for(o in a)if(a.hasOwnProperty(o)){var h=a[o];if(h!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,o,h,a,null)}}u&&Ce(e,t,"srcSet",a.srcSet,a,null),i&&Ce(e,t,"src",a.src,a,null);return;case"input":he("invalid",e);var y=o=h=u=null,_=null,A=null;for(i in a)if(a.hasOwnProperty(i)){var U=a[i];if(U!=null)switch(i){case"name":u=U;break;case"type":h=U;break;case"checked":_=U;break;case"defaultChecked":A=U;break;case"value":o=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Ce(e,t,i,U,a,null)}}lc(e,o,y,_,A,h,u,!1);return;case"select":he("invalid",e),i=h=o=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":o=y;break;case"defaultValue":h=y;break;case"multiple":i=y;default:Ce(e,t,u,y,a,null)}t=o,a=h,e.multiple=!!i,t!=null?kn(e,!!i,t,!1):a!=null&&kn(e,!!i,a,!0);return;case"textarea":he("invalid",e),o=u=i=null;for(h in a)if(a.hasOwnProperty(h)&&(y=a[h],y!=null))switch(h){case"value":i=y;break;case"defaultValue":u=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ce(e,t,h,y,a,null)}uc(e,i,u,o);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(i=a[_],i!=null))switch(_){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ce(e,t,_,i,a,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(i=0;i<ss.length;i++)he(ss[i],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(i=a[A],i!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,A,i,a,null)}return;default:if(hr(t)){for(U in a)a.hasOwnProperty(U)&&(i=a[U],i!==void 0&&Fu(e,t,U,i,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(i=a[y],i!=null&&Ce(e,t,y,i,a,null))}function zp(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,h=null,y=null,_=null,A=null,U=null;for(k in a){var q=a[k];if(a.hasOwnProperty(k)&&q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":_=q;default:i.hasOwnProperty(k)||Ce(e,t,k,null,i,q)}}for(var O in i){var k=i[O];if(q=a[O],i.hasOwnProperty(O)&&(k!=null||q!=null))switch(O){case"type":o=k;break;case"name":u=k;break;case"checked":A=k;break;case"defaultChecked":U=k;break;case"value":h=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:k!==q&&Ce(e,t,O,k,i,q)}}dr(e,h,y,_,A,U,o,u);return;case"select":k=h=y=O=null;for(o in a)if(_=a[o],a.hasOwnProperty(o)&&_!=null)switch(o){case"value":break;case"multiple":k=_;default:i.hasOwnProperty(o)||Ce(e,t,o,null,i,_)}for(u in i)if(o=i[u],_=a[u],i.hasOwnProperty(u)&&(o!=null||_!=null))switch(u){case"value":O=o;break;case"defaultValue":y=o;break;case"multiple":h=o;default:o!==_&&Ce(e,t,u,o,i,_)}t=y,a=h,i=k,O!=null?kn(e,!!a,O,!1):!!i!=!!a&&(t!=null?kn(e,!!a,t,!0):kn(e,!!a,a?[]:"",!1));return;case"textarea":k=O=null;for(y in a)if(u=a[y],a.hasOwnProperty(y)&&u!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ce(e,t,y,null,i,u)}for(h in i)if(u=i[h],o=a[h],i.hasOwnProperty(h)&&(u!=null||o!=null))switch(h){case"value":O=u;break;case"defaultValue":k=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Ce(e,t,h,u,i,o)}rc(e,O,k);return;case"option":for(var J in a)if(O=a[J],a.hasOwnProperty(J)&&O!=null&&!i.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ce(e,t,J,null,i,O)}for(_ in i)if(O=i[_],k=a[_],i.hasOwnProperty(_)&&O!==k&&(O!=null||k!=null))switch(_){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ce(e,t,_,O,i,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)O=a[ae],a.hasOwnProperty(ae)&&O!=null&&!i.hasOwnProperty(ae)&&Ce(e,t,ae,null,i,O);for(A in i)if(O=i[A],k=a[A],i.hasOwnProperty(A)&&O!==k&&(O!=null||k!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Ce(e,t,A,O,i,k)}return;default:if(hr(t)){for(var Re in a)O=a[Re],a.hasOwnProperty(Re)&&O!==void 0&&!i.hasOwnProperty(Re)&&Fu(e,t,Re,void 0,i,O);for(U in i)O=i[U],k=a[U],!i.hasOwnProperty(U)||O===k||O===void 0&&k===void 0||Fu(e,t,U,O,i,k);return}}for(var E in a)O=a[E],a.hasOwnProperty(E)&&O!=null&&!i.hasOwnProperty(E)&&Ce(e,t,E,null,i,O);for(q in i)O=i[q],k=a[q],!i.hasOwnProperty(q)||O===k||O==null&&k==null||Ce(e,t,q,O,i,k)}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var u=a[i],o=u.transferSize,h=u.initiatorType,y=u.duration;if(o&&y&&fh(h)){for(h=0,y=u.responseEnd,i+=1;i<a.length;i++){var _=a[i],A=_.startTime;if(A>y)break;var U=_.transferSize,q=_.initiatorType;U&&fh(q)&&(_=_.responseEnd,h+=U*(_<y?1:(y-A)/(_-A)))}if(--i,t+=8*(o+h)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eo=null,to=null;function kl(e){return e.nodeType===9?e:e.ownerDocument}function hh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var no=null;function qp(){var e=window.event;return e&&e.type==="popstate"?e===no?!1:(no=e,!0):(no=null,!1)}var gh=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(e){return ph.resolve(null).then(e).catch(Hp)}:gh;function Hp(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function vh(e,t){var a=t,i=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(u),ui(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")rs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,rs(a);for(var o=a.firstChild;o;){var h=o.nextSibling,y=o.nodeName;o[Ti]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=h}}else a==="body"&&rs(e.ownerDocument.body);a=u}while(a);ui(t)}function yh(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function io(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":io(a),or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Gp(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ti])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function $p(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function bh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function so(e){return e.data==="$?"||e.data==="$~"}function lo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ro=null;function _h(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Yt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function wh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function xh(e,t,a){switch(t=kl(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);or(e)}var Kt=new Map,Sh=new Set;function Cl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _a=V.d;V.d={f:Yp,r:Kp,D:Qp,C:Xp,L:Jp,m:Ip,X:Wp,S:Zp,M:Pp};function Yp(){var e=_a.f(),t=xl();return e||t}function Kp(e){var t=An(e);t!==null&&t.tag===5&&t.type==="form"?Ld(t):_a.r(e)}var si=typeof document>"u"?null:document;function Eh(e,t,a){var i=si;if(i&&typeof t=="string"&&t){var u=qt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Sh.has(u)||(Sh.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),ct(t,"link",e),nt(t),i.head.appendChild(t)))}}function Qp(e){_a.D(e),Eh("dns-prefetch",e,null)}function Xp(e,t){_a.C(e,t),Eh("preconnect",e,t)}function Jp(e,t,a){_a.L(e,t,a);var i=si;if(i&&e&&t){var u='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+qt(a.imageSizes)+'"]')):u+='[href="'+qt(e)+'"]';var o=u;switch(t){case"style":o=li(e);break;case"script":o=ri(e)}Kt.has(o)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Kt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(us(o))||t==="script"&&i.querySelector(os(o))||(t=i.createElement("link"),ct(t,"link",e),nt(t),i.head.appendChild(t)))}}function Ip(e,t){_a.m(e,t);var a=si;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+qt(i)+'"][href="'+qt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ri(e)}if(!Kt.has(o)&&(e=S({rel:"modulepreload",href:e},t),Kt.set(o,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(os(o)))return}i=a.createElement("link"),ct(i,"link",e),nt(i),a.head.appendChild(i)}}}function Zp(e,t,a){_a.S(e,t,a);var i=si;if(i&&e){var u=Nn(i).hoistableStyles,o=li(e);t=t||"default";var h=u.get(o);if(!h){var y={loading:0,preload:null};if(h=i.querySelector(us(o)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Kt.get(o))&&uo(e,a);var _=h=i.createElement("link");nt(_),ct(_,"link",e),_._p=new Promise(function(A,U){_.onload=A,_.onerror=U}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Rl(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:y},u.set(o,h)}}}function Wp(e,t){_a.X(e,t);var a=si;if(a&&e){var i=Nn(a).hoistableScripts,u=ri(e),o=i.get(u);o||(o=a.querySelector(os(u)),o||(e=S({src:e,async:!0},t),(t=Kt.get(u))&&oo(e,t),o=a.createElement("script"),nt(o),ct(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Pp(e,t){_a.M(e,t);var a=si;if(a&&e){var i=Nn(a).hoistableScripts,u=ri(e),o=i.get(u);o||(o=a.querySelector(os(u)),o||(e=S({src:e,async:!0,type:"module"},t),(t=Kt.get(u))&&oo(e,t),o=a.createElement("script"),nt(o),ct(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Th(e,t,a,i){var u=(u=ce.current)?Cl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=li(a.href),a=Nn(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=li(a.href);var o=Nn(u).hoistableStyles,h=o.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=u.querySelector(us(e)))&&!o._p&&(h.instance=o,h.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),o||Fp(u,e,a,h.state))),t&&i===null)throw Error(r(528,""));return h}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ri(a),a=Nn(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function li(e){return'href="'+qt(e)+'"'}function us(e){return'link[rel="stylesheet"]['+e+"]"}function jh(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Fp(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ct(t,"link",a),nt(t),e.head.appendChild(t))}function ri(e){return'[src="'+qt(e)+'"]'}function os(e){return"script[async]"+e}function Ah(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+qt(a.href)+'"]');if(i)return t.instance=i,nt(i),i;var u=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),nt(i),ct(i,"style",u),Rl(i,a.precedence,e),t.instance=i;case"stylesheet":u=li(a.href);var o=e.querySelector(us(u));if(o)return t.state.loading|=4,t.instance=o,nt(o),o;i=jh(a),(u=Kt.get(u))&&uo(i,u),o=(e.ownerDocument||e).createElement("link"),nt(o);var h=o;return h._p=new Promise(function(y,_){h.onload=y,h.onerror=_}),ct(o,"link",i),t.state.loading|=4,Rl(o,a.precedence,e),t.instance=o;case"script":return o=ri(a.src),(u=e.querySelector(os(o)))?(t.instance=u,nt(u),u):(i=a,(u=Kt.get(o))&&(i=S({},a),oo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),nt(u),ct(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Rl(i,a.precedence,e));return t.instance}function Rl(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,h=0;h<i.length;h++){var y=i[h];if(y.dataset.precedence===t)o=y;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function uo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function oo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ul=null;function Nh(e,t,a){if(Ul===null){var i=new Map,u=Ul=new Map;u.set(a,i)}else u=Ul,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var o=a[u];if(!(o[Ti]||o[lt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var y=i.get(h);y?y.push(o):i.set(h,[o])}}return i}function Oh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ev(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tv(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=li(i.href),o=t.querySelector(us(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Dl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,nt(o);return}o=t.ownerDocument||t,i=jh(i),(u=Kt.get(u))&&uo(i,u),o=o.createElement("link"),nt(o);var h=o;h._p=new Promise(function(y,_){h.onload=y,h.onerror=_}),ct(o,"link",i),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var co=0;function av(e,t){return e.stylesheets&&e.count===0&&Ml(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Ml(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&co===0&&(co=62500*Mp());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ml(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>co?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Dl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ml(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zl=null;function Ml(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zl=new Map,t.forEach(nv,e),zl=null,Dl.call(e))}function nv(e,t){if(!(t.state.loading&4)){var a=zl.get(e);if(a)var i=a.get(null);else{a=new Map,zl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var h=u[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),i=h)}i&&a.set(null,i)}u=t.instance,h=u.getAttribute("data-precedence"),o=a.get(h)||i,o===i&&a.set(null,u),a.set(h,u),this.count++,i=Dl.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var cs={$$typeof:B,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function iv(e,t,a,i,u,o,h,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ch(e,t,a,i,u,o,h,y,_,A,U,q){return e=new iv(e,t,a,h,_,A,U,q,y),t=1,o===!0&&(t|=24),o=At(3,null,null,t),e.current=o,o.stateNode=e,t=Vr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:a,cache:t},Xr(o),e}function Rh(e){return e?(e=Bn,e):Bn}function Uh(e,t,a,i,u,o){u=Rh(u),i.context===null?i.context=u:i.pendingContext=u,i=Ra(t),i.payload={element:a},o=o===void 0?null:o,o!==null&&(i.callback=o),a=Ua(e,i,t),a!==null&&(xt(a,e,t),$i(a,e,t))}function Dh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function fo(e,t){Dh(e,t),(e=e.alternate)&&Dh(e,t)}function zh(e){if(e.tag===13||e.tag===31){var t=nn(e,67108864);t!==null&&xt(t,e,67108864),fo(e,67108864)}}function Mh(e){if(e.tag===13||e.tag===31){var t=Rt();t=lr(t);var a=nn(e,t);a!==null&&xt(a,e,t),fo(e,t)}}var ql=!0;function sv(e,t,a,i){var u=C.T;C.T=null;var o=V.p;try{V.p=2,ho(e,t,a,i)}finally{V.p=o,C.T=u}}function lv(e,t,a,i){var u=C.T;C.T=null;var o=V.p;try{V.p=8,ho(e,t,a,i)}finally{V.p=o,C.T=u}}function ho(e,t,a,i){if(ql){var u=mo(i);if(u===null)Pu(e,t,i,Bl,a),Bh(e,i);else if(uv(u,e,t,a,i))i.stopPropagation();else if(Bh(e,i),t&4&&-1<rv.indexOf(e)){for(;u!==null;){var o=An(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=Pa(o.pendingLanes);if(h!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var _=1<<31-Tt(h);y.entanglements[1]|=_,h&=~_}aa(o),(Se&6)===0&&(_l=St()+500,is(0))}}break;case 31:case 13:y=nn(o,2),y!==null&&xt(y,o,2),xl(),fo(o,2)}if(o=mo(i),o===null&&Pu(e,t,i,Bl,a),o===u)break;u=o}u!==null&&i.stopPropagation()}else Pu(e,t,i,null,a)}}function mo(e){return e=gr(e),go(e)}var Bl=null;function go(e){if(Bl=null,e=jn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bl=e,null}function qh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qm()){case Yo:return 2;case Ko:return 8;case As:case Xm:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var po=!1,Ya=null,Ka=null,Qa=null,ds=new Map,fs=new Map,Xa=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bh(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(t.pointerId)}}function hs(e,t,a,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=An(t),t!==null&&zh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function uv(e,t,a,i,u){switch(t){case"focusin":return Ya=hs(Ya,e,t,a,i,u),!0;case"dragenter":return Ka=hs(Ka,e,t,a,i,u),!0;case"mouseover":return Qa=hs(Qa,e,t,a,i,u),!0;case"pointerover":var o=u.pointerId;return ds.set(o,hs(ds.get(o)||null,e,t,a,i,u)),!0;case"gotpointercapture":return o=u.pointerId,fs.set(o,hs(fs.get(o)||null,e,t,a,i,u)),!0}return!1}function Lh(e){var t=jn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Po(e.priority,function(){Mh(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,Po(e.priority,function(){Mh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=mo(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);mr=i,a.target.dispatchEvent(i),mr=null}else return t=An(a),t!==null&&zh(t),e.blockedOn=a,!1;t.shift()}return!0}function Hh(e,t,a){Ll(e)&&a.delete(t)}function ov(){po=!1,Ya!==null&&Ll(Ya)&&(Ya=null),Ka!==null&&Ll(Ka)&&(Ka=null),Qa!==null&&Ll(Qa)&&(Qa=null),ds.forEach(Hh),fs.forEach(Hh)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,po||(po=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ov)))}var Gl=null;function Gh(e){Gl!==e&&(Gl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(go(i||a)===null)continue;break}var o=An(a);o!==null&&(e.splice(t,3),t-=3,hu(o,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function ui(e){function t(_){return Hl(_,e)}Ya!==null&&Hl(Ya,e),Ka!==null&&Hl(Ka,e),Qa!==null&&Hl(Qa,e),ds.forEach(t),fs.forEach(t);for(var a=0;a<Xa.length;a++){var i=Xa[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)Lh(a),a.blockedOn===null&&Xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],o=a[i+1],h=u[pt]||null;if(typeof o=="function")h||Gh(a);else if(h){var y=null;if(o&&o.hasAttribute("formAction")){if(u=o,h=o[pt]||null)y=h.formAction;else if(go(u)!==null)continue}else y=h.action;typeof y=="function"?a[i+1]=y:(a.splice(i,3),i-=3),Gh(a)}}}function $h(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return u=h})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function vo(e){this._internalRoot=e}$l.prototype.render=vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=Rt();Uh(a,i,e,t,null,null)},$l.prototype.unmount=vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uh(e.current,2,null,e,null,null),xl(),t[Tn]=null}};function $l(e){this._internalRoot=e}$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xa.length&&t!==0&&t<Xa[a].priority;a++);Xa.splice(a,0,e),a===0&&Lh(e)}};var Vh=n.version;if(Vh!=="19.2.4")throw Error(r(527,Vh,"19.2.4"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var cv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{xi=Vl.inject(cv),Et=Vl}catch{}}return gs.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,i="",u=Id,o=Zd,h=Wd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Ch(e,1,!1,null,null,a,i,null,u,o,h,$h),e[Tn]=t.current,Wu(e),new vo(t)},gs.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var i=!1,u="",o=Id,h=Zd,y=Wd,_=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=Ch(e,1,!0,t,a??null,i,u,_,o,h,y,$h),t.context=Rh(null),a=t.current,i=Rt(),i=lr(i),u=Ra(i),u.callback=null,Ua(a,u,i),a=i,t.current.lanes=a,Ei(t,a),aa(t),e[Tn]=t.current,Wu(e),new $l(t)},gs.version="19.2.4",gs}var Fh;function _v(){if(Fh)return _o.exports;Fh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),_o.exports=bv(),_o.exports}var wv=_v();const xv=Em(wv);function Fl(l,n){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(l);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(l,r[c])&&(s[r[c]]=l[r[c]]);return s}function Sv(l,n,s,r){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(b){try{p(r.next(b))}catch(S){f(S)}}function v(b){try{p(r.throw(b))}catch(S){f(S)}}function p(b){b.done?d(b.value):c(b.value).then(m,v)}p((r=r.apply(l,n||[])).next())})}const Ev=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);class $o extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}}class Tv extends $o{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class em extends $o{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class tm extends $o{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Co;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Co||(Co={}));class jv{constructor(n,{headers:s={},customFetch:r,region:c=Co.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=Ev(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Sv(this,arguments,void 0,function*(s,r={}){var c;let d,f;try{const{headers:m,method:v,body:p,signal:b,timeout:S}=r;let N={},{region:T}=r;T||(T=this.region);const R=new URL(`${this.url}/${s}`);T&&T!=="any"&&(N["x-region"]=T,R.searchParams.set("forceFunctionRegion",T));let L;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",L=p):typeof p=="string"?(N["Content-Type"]="text/plain",L=p):typeof FormData<"u"&&p instanceof FormData?L=p:(N["Content-Type"]="application/json",L=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?L=JSON.stringify(p):L=p;let D=b;S&&(f=new AbortController,d=setTimeout(()=>f.abort(),S),b?(D=f.signal,b.addEventListener("abort",()=>f.abort())):D=f.signal);const G=yield this.fetch(R.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),m),body:L,signal:D}).catch(F=>{throw new Tv(F)}),Y=G.headers.get("x-relay-error");if(Y&&Y==="true")throw new em(G);if(!G.ok)throw new tm(G);let B=((c=G.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Q;return B==="application/json"?Q=yield G.json():B==="application/octet-stream"||B==="application/pdf"?Q=yield G.blob():B==="text/event-stream"?Q=G:B==="multipart/form-data"?Q=yield G.formData():Q=yield G.text(),{data:Q,error:null,response:G}}catch(m){return{data:null,error:m,response:m instanceof tm||m instanceof em?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var Av=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Nv=class{constructor(l){var n,s;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(n=l.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=l.signal,this.isMaybeSingle=(s=l.isMaybeSingle)!==null&&s!==void 0?s:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,n){return this.headers=new Headers(this.headers),this.headers.set(l,n),this}then(l,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,v=null,p=d.status,b=d.statusText;if(d.ok){var S,N;if(s.method!=="HEAD"){var T;const G=await d.text();G===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((T=s.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?m=G:m=JSON.parse(G))}const L=(S=s.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),D=(N=d.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");L&&D&&D.length>1&&(v=parseInt(D[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,p=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var R;const L=await d.text();try{f=JSON.parse(L),Array.isArray(f)&&d.status===404&&(m=[],f=null,p=200,b="OK")}catch{d.status===404&&L===""?(p=204,b="No Content"):f={message:L}}if(f&&s.isMaybeSingle&&(!(f==null||(R=f.details)===null||R===void 0)&&R.includes("0 rows"))&&(f=null,p=200,b="OK"),f&&s.shouldThrowOnError)throw new Av(f)}return{error:f,data:m,count:v,status:p,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let m="";const v=d==null?void 0:d.cause;if(v){var p,b,S,N;const R=(p=v==null?void 0:v.message)!==null&&p!==void 0?p:"",L=(b=v==null?void 0:v.code)!==null&&b!==void 0?b:"";m=`${(S=d==null?void 0:d.name)!==null&&S!==void 0?S:"FetchError"}: ${d==null?void 0:d.message}`,m+=`

Caused by: ${(N=v==null?void 0:v.name)!==null&&N!==void 0?N:"Error"}: ${R}`,L&&(m+=` (${L})`),v!=null&&v.stack&&(m+=`
${v.stack}`)}else{var T;m=(T=d==null?void 0:d.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(l,n)}returns(){return this}overrideTypes(){return this}},Ov=class extends Nv{select(l){let n=!1;const s=(l??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:c=r}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${l}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${l}`),this}range(l,n,{foreignTable:s,referencedTable:r=s}={}){const c=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${l}`),this.url.searchParams.set(d,`${n-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:c=!1,format:d="text"}={}){var f;const m=[l?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const am=new RegExp("[,()]");var gi=class extends Ov{eq(l,n){return this.url.searchParams.append(l,`eq.${n}`),this}neq(l,n){return this.url.searchParams.append(l,`neq.${n}`),this}gt(l,n){return this.url.searchParams.append(l,`gt.${n}`),this}gte(l,n){return this.url.searchParams.append(l,`gte.${n}`),this}lt(l,n){return this.url.searchParams.append(l,`lt.${n}`),this}lte(l,n){return this.url.searchParams.append(l,`lte.${n}`),this}like(l,n){return this.url.searchParams.append(l,`like.${n}`),this}likeAllOf(l,n){return this.url.searchParams.append(l,`like(all).{${n.join(",")}}`),this}likeAnyOf(l,n){return this.url.searchParams.append(l,`like(any).{${n.join(",")}}`),this}ilike(l,n){return this.url.searchParams.append(l,`ilike.${n}`),this}ilikeAllOf(l,n){return this.url.searchParams.append(l,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(l,n){return this.url.searchParams.append(l,`ilike(any).{${n.join(",")}}`),this}regexMatch(l,n){return this.url.searchParams.append(l,`match.${n}`),this}regexIMatch(l,n){return this.url.searchParams.append(l,`imatch.${n}`),this}is(l,n){return this.url.searchParams.append(l,`is.${n}`),this}isDistinct(l,n){return this.url.searchParams.append(l,`isdistinct.${n}`),this}in(l,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&am.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(l,`in.(${s})`),this}notIn(l,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&am.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(l,`not.in.(${s})`),this}contains(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cs.{${n.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(n)}`),this}containedBy(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cd.{${n.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(n)}`),this}rangeGt(l,n){return this.url.searchParams.append(l,`sr.${n}`),this}rangeGte(l,n){return this.url.searchParams.append(l,`nxl.${n}`),this}rangeLt(l,n){return this.url.searchParams.append(l,`sl.${n}`),this}rangeLte(l,n){return this.url.searchParams.append(l,`nxr.${n}`),this}rangeAdjacent(l,n){return this.url.searchParams.append(l,`adj.${n}`),this}overlaps(l,n){return typeof n=="string"?this.url.searchParams.append(l,`ov.${n}`):this.url.searchParams.append(l,`ov.{${n.join(",")}}`),this}textSearch(l,n,{config:s,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(l,`${c}fts${d}.${n}`),this}match(l){return Object.entries(l).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(l,n,s){return this.url.searchParams.append(l,`not.${n}.${s}`),this}or(l,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${l})`),this}filter(l,n,s){return this.url.searchParams.append(l,`${n}.${s}`),this}},kv=class{constructor(l,{headers:n={},schema:s,fetch:r}){this.url=l,this.headers=new Headers(n),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,n){const{head:s=!1,count:r}=n??{},c=s?"HEAD":"GET";let d=!1;const f=(l??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join(""),{url:m,headers:v}=this.cloneRequestState();return m.searchParams.set("select",f),r&&v.append("Prefer",`count=${r}`),new gi({method:c,url:m,headers:v,schema:this.schema,fetch:this.fetch})}insert(l,{count:n,defaultToNull:s=!0}={}){var r;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),s||f.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((v,p)=>v.concat(Object.keys(p)),[]);if(m.length>0){const v=[...new Set(m)].map(p=>`"${p}"`);d.searchParams.set("columns",v.join(","))}}return new gi({method:c,url:d,headers:f,schema:this.schema,body:l,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(l,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:c=!0}={}){var d;const f="POST",{url:m,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),r&&v.append("Prefer",`count=${r}`),c||v.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(p.length>0){const b=[...new Set(p)].map(S=>`"${S}"`);m.searchParams.set("columns",b.join(","))}}return new gi({method:f,url:m,headers:v,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(l,{count:n}={}){var s;const r="PATCH",{url:c,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new gi({method:r,url:c,headers:d,schema:this.schema,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:l}={}){var n;const s="DELETE",{url:r,headers:c}=this.cloneRequestState();return l&&c.append("Prefer",`count=${l}`),new gi({method:s,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Cv=class jm{constructor(n,{headers:s={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(s),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new jm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:r=!1,get:c=!1,count:d}={}){var f;let m;const v=new URL(`${this.url}/rpc/${n}`);let p;const b=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(b)),S=r&&Object.values(s).some(b);S?(m="POST",p=s):r||c?(m=r?"HEAD":"GET",Object.entries(s).filter(([T,R])=>R!==void 0).map(([T,R])=>[T,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([T,R])=>{v.searchParams.append(T,R)})):(m="POST",p=s);const N=new Headers(this.headers);return S?N.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&N.set("Prefer",`count=${d}`),new gi({method:m,url:v,headers:N,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Rv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const c=r.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Uv="2.93.3",Dv=`realtime-js/${Uv}`,zv="1.0.0",Am="2.0.0",nm=Am,Ro=1e4,Mv=1e3,qv=100;var Ia;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ia||(Ia={}));var et;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(et||(et={}));var Wt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Wt||(Wt={}));var Uo;(function(l){l.websocket="websocket"})(Uo||(Uo={}));var _n;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(_n||(_n={}));class Bv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,r){var c,d;const f=n.topic,m=(c=n.ref)!==null&&c!==void 0?c:"",v=(d=n.join_ref)!==null&&d!==void 0?d:"",p=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(b).length===0?"":JSON.stringify(b);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+m.length+f.length+p.length+S.length,T=new ArrayBuffer(this.HEADER_LENGTH+N);let R=new DataView(T),L=0;R.setUint8(L++,this.KINDS.userBroadcastPush),R.setUint8(L++,v.length),R.setUint8(L++,m.length),R.setUint8(L++,f.length),R.setUint8(L++,p.length),R.setUint8(L++,S.length),R.setUint8(L++,s),Array.from(v,G=>R.setUint8(L++,G.charCodeAt(0))),Array.from(m,G=>R.setUint8(L++,G.charCodeAt(0))),Array.from(f,G=>R.setUint8(L++,G.charCodeAt(0))),Array.from(p,G=>R.setUint8(L++,G.charCodeAt(0))),Array.from(S,G=>R.setUint8(L++,G.charCodeAt(0)));var D=new Uint8Array(T.byteLength+r.byteLength);return D.set(new Uint8Array(T),0),D.set(new Uint8Array(r),T.byteLength),D.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,d,f,m,v]=r;return s({join_ref:c,ref:d,topic:f,event:m,payload:v})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,c)}}_decodeUserBroadcast(n,s,r){const c=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let v=this.HEADER_LENGTH+4;const p=r.decode(n.slice(v,v+c));v=v+c;const b=r.decode(n.slice(v,v+d));v=v+d;const S=r.decode(n.slice(v,v+f));v=v+f;const N=n.slice(v,n.byteLength),T=m===this.JSON_ENCODING?JSON.parse(r.decode(N)):N,R={type:this.BROADCAST_EVENT,event:b,payload:T};return f>0&&(R.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}class Nm{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ze||(ze={}));const im=(l,n,s={})=>{var r;const c=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=Lv(f,l,n,c),d),{}):{}},Lv=(l,n,s,r)=>{const c=n.find(m=>m.name===l),d=c==null?void 0:c.type,f=s[l];return d&&!r.includes(d)?Om(d,f):Do(f)},Om=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Vv(n,s)}switch(l){case ze.bool:return Hv(n);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Gv(n);case ze.json:case ze.jsonb:return $v(n);case ze.timestamp:return Yv(n);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Do(n);default:return Do(n)}},Do=l=>l,Hv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Gv=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},$v=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},Vv=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,r=l[s];if(l[0]==="{"&&r==="}"){let d;const f=l.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Om(n,m))}return l},Yv=l=>typeof l=="string"?l.replace(" ","T"):l,km=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Eo{constructor(n,s,r={},c=Ro){this.channel=n,this.event=s,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var sm;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(sm||(sm={}));class ys{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ys.syncState(this.state,c,d,f),this.pendingDiffs.forEach(v=>{this.state=ys.syncDiff(this.state,v,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ys.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,c){const d=this.cloneDeep(n),f=this.transformState(s),m={},v={};return this.map(d,(p,b)=>{f[p]||(v[p]=b)}),this.map(f,(p,b)=>{const S=d[p];if(S){const N=b.map(D=>D.presence_ref),T=S.map(D=>D.presence_ref),R=b.filter(D=>T.indexOf(D.presence_ref)<0),L=S.filter(D=>N.indexOf(D.presence_ref)<0);R.length>0&&(m[p]=R),L.length>0&&(v[p]=L)}else m[p]=b}),this.syncDiff(d,{joins:m,leaves:v},r,c)}static syncDiff(n,s,r,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(m,v)=>{var p;const b=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(v),b.length>0){const S=n[m].map(T=>T.presence_ref),N=b.filter(T=>S.indexOf(T.presence_ref)<0);n[m].unshift(...N)}r(m,b,v)}),this.map(f,(m,v)=>{let p=n[m];if(!p)return;const b=v.map(S=>S.presence_ref);p=p.filter(S=>b.indexOf(S.presence_ref)<0),n[m]=p,c(m,p,v),p.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const c=n[r];return"metas"in c?s[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[r]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lm;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(lm||(lm={}));var bs;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(bs||(bs={}));var wa;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class yi{constructor(n,s={config:{}},r){var c,d;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new Nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ys(this),this.broadcastEndpointURL=km(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:m,private:v}}=this.params,p=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[bs.PRESENCE]&&this.bindings[bs.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,S={},N={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:p,private:v};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(T=>n==null?void 0:n(wa.CHANNEL_ERROR,T)),this._onClose(()=>n==null?void 0:n(wa.CLOSED)),this.updateJoinPayload(Object.assign({config:N},S)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){n==null||n(wa.SUBSCRIBED);return}else{const L=this.bindings.postgres_changes,D=(R=L==null?void 0:L.length)!==null&&R!==void 0?R:0,G=[];for(let Y=0;Y<D;Y++){const B=L[Y],{filter:{event:Q,schema:F,table:ee,filter:X}}=B,ye=T&&T[Y];if(ye&&ye.event===Q&&yi.isFilterValueEqual(ye.schema,F)&&yi.isFilterValueEqual(ye.table,ee)&&yi.isFilterValueEqual(ye.filter,X))G.push(Object.assign(Object.assign({},B),{id:ye.id}));else{this.unsubscribe(),this.state=et.errored,n==null||n(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,n&&n(wa.SUBSCRIBED);return}}).receive("error",T=>{this.state=et.errored,n==null||n(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===et.joined&&n===bs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let v=m.statusText;try{const p=await m.json();v=p.error||p.message||v}catch{}return Promise.reject(new Error(v))}async send(n,s={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,v;const p=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||v===void 0)&&v.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=et.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Eo(this,Wt.leave,{},n),r.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Eo(this,n,s,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>qv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var c,d;const f=n.toLocaleLowerCase(),{close:m,error:v,leave:p,join:b}=Wt;if(r&&[m,v,p,b].indexOf(f)>=0&&r!==this._joinRef())return;let N=this._onMessage(f,s,r);if(s&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var R,L,D;return((R=T.filter)===null||R===void 0?void 0:R.event)==="*"||((D=(L=T.filter)===null||L===void 0?void 0:L.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===f}).map(T=>T.callback(N,r)):(d=this.bindings[f])===null||d===void 0||d.filter(T=>{var R,L,D,G,Y,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const Q=T.id,F=(R=T.filter)===null||R===void 0?void 0:R.event;return Q&&((L=s.ids)===null||L===void 0?void 0:L.includes(Q))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((D=s.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const Q=(Y=(G=T==null?void 0:T.filter)===null||G===void 0?void 0:G.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return Q==="*"||Q===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof N=="object"&&"ids"in N){const R=N.data,{schema:L,table:D,commit_timestamp:G,type:Y,errors:B}=R;N=Object.assign(Object.assign({},{schema:L,table:D,commit_timestamp:G,eventType:Y,new:{},old:{},errors:B}),this._getPayloadRecords(R))}T.callback(N,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const c=n.toLocaleLowerCase(),d={type:c,filter:s,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&yi.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Wt.close,{},n)}_onError(n){this._on(Wt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=im(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=im(n.columns,n.old_record)),s}}const To=()=>{},Yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Kv=[1e3,2e3,5e3,1e4],Qv=1e4,Xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jv{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ro,this.transport=null,this.heartbeatIntervalMs=Yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=To,this.ref=0,this.reconnectTimer=null,this.vsn=nm,this.logger=To,this.conn=null,this.sendBuffer=[],this.serializer=new Bv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Uo.websocket}`,this.httpEndpoint=km(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return _n.Connecting;case Ia.open:return _n.Open;case Ia.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new yi(`realtime:${n}`,s,this);return this.channels.push(d),d}}push(n){const{topic:s,event:r,payload:c,ref:d}=n,f=()=>{this.encode(n,m=>{var v;(v=this.conn)===null||v===void 0||v.send(m)})};this.log("push",`${s} ${r} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Mv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:d,ref:f}=s,m=f?`(${f})`:"",v=d.status||"";this.log("receive",`${v} ${r} ${c} ${m}`.trim(),d),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Ia.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ia.open||this.conn.readyState===Ia.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Wt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${r}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([Xv],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const d={access_token:s,version:Dv};s&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Wt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Nm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,c,d,f,m,v,p,b,S,N,T;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:Ro,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Yl.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:To,this.vsn=(v=n==null?void 0:n.vsn)!==null&&v!==void 0?v:nm,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(R=>Kv[R-1]||Qv),this.vsn){case zv:this.encode=(b=n==null?void 0:n.encode)!==null&&b!==void 0?b:((R,L)=>L(JSON.stringify(R))),this.decode=(S=n==null?void 0:n.decode)!==null&&S!==void 0?S:((R,L)=>L(JSON.parse(R)));break;case Am:this.encode=(N=n==null?void 0:n.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(T=n==null?void 0:n.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var _s=class extends Error{constructor(l,n){var s;super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Iv(l,n,s){const r=new URL(n,l);if(s)for(const[c,d]of Object.entries(s))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function Zv(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Wv(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:c,body:d,headers:f}){const m=Iv(l.baseUrl,r,c),v=await Zv(l.auth),p=await n(m,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...v,...f},body:d?JSON.stringify(d):void 0}),b=await p.text(),S=(p.headers.get("content-type")||"").includes("application/json"),N=S&&b?JSON.parse(b):b;if(!p.ok){const T=S?N:void 0,R=T==null?void 0:T.error;throw new _s((R==null?void 0:R.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:R==null?void 0:R.type,icebergCode:R==null?void 0:R.code,details:T})}return{status:p.status,headers:p.headers,data:N}}}}function Kl(l){return l.join("")}var Pv=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:Kl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(l,n){const s={namespace:l.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kl(l.namespace)}`}),!0}catch(n){if(n instanceof _s&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(s){if(s instanceof _s&&s.status===409)return;throw s}}};function oi(l){return l.join("")}var Fv=class{constructor(l,n="",s){this.client=l,this.prefix=n,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(l.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(l,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oi(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oi(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(s){if(s instanceof _s&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(s){if(s instanceof _s&&s.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw s}}},ey=class{constructor(l){var r;let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Wv({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=(r=l.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Pv(this.client,n),this.tableOps=new Fv(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}},er=class extends Error{constructor(l,n="storage",s,r){super(l),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function tr(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var Ql=class extends er{constructor(l,n,s,r="storage"){super(l,r,n,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cm=class extends er{constructor(l,n,s="storage"){super(l,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const ty=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),ay=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},zo=l=>{if(Array.isArray(l))return l.map(s=>zo(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,r])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=zo(r)}),n},ny=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function ws(l){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ws(l)}function iy(l,n){if(ws(l)!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var r=s.call(l,n);if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function sy(l){var n=iy(l,"string");return ws(n)=="symbol"?n:n+""}function ly(l,n,s){return(n=sy(n))in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}function rm(l,n){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),s.push.apply(s,r)}return s}function se(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?rm(Object(s),!0).forEach(function(r){ly(l,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):rm(Object(s)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(s,r))})}return l}const um=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},ry=async(l,n,s,r)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(s!=null&&s.noResolveJson)){const c=l,d=c.status||500;if(typeof c.json=="function")c.json().then(f=>{const m=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new Ql(um(f),d,m,r))}).catch(()=>{if(r==="vectors"){const f=d+"";n(new Ql(c.statusText||`HTTP ${d} error`,d,f,r))}else{const f=d+"";n(new Ql(c.statusText||`HTTP ${d} error`,d,f,r))}});else{const f=d+"";n(new Ql(c.statusText||`HTTP ${d} error`,d,f,r))}}else n(new Cm(um(l),l,r))},uy=(l,n,s,r)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"||l==="HEAD"||!r?se(se({},c),s):(ay(r)?(c.headers=se({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(r)):c.body=r,n!=null&&n.duplex&&(c.duplex=n.duplex),se(se({},c),s))};async function ps(l,n,s,r,c,d,f){return new Promise((m,v)=>{l(s,uy(n,r,c,d)).then(p=>{if(!p.ok)throw p;if(r!=null&&r.noResolveJson)return p;if(f==="vectors"){const b=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!b||!b.includes("application/json"))return{}}return p.json()}).then(p=>m(p)).catch(p=>ry(p,v,r,f))})}function Rm(l="storage"){return{get:async(n,s,r,c)=>ps(n,"GET",s,r,c,void 0,l),post:async(n,s,r,c,d)=>ps(n,"POST",s,c,d,r,l),put:async(n,s,r,c,d)=>ps(n,"PUT",s,c,d,r,l),head:async(n,s,r,c)=>ps(n,"HEAD",s,se(se({},r),{},{noResolveJson:!0}),c,void 0,l),remove:async(n,s,r,c,d)=>ps(n,"DELETE",s,c,d,r,l)}}const oy=Rm("storage"),{get:xs,post:Zt,put:Mo,head:cy,remove:Vo}=oy,Dt=Rm("vectors");var _i=class{constructor(l,n={},s,r="storage"){this.shouldThrowOnError=!1,this.url=l,this.headers=n,this.fetch=ty(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(l){var n=this;try{return{data:await l(),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}}},dy=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n}then(l,n){return this.execute().then(l,n)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(n){if(l.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}}};let Um;Um=Symbol.toStringTag;var fy=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n,this[Um]="BlobDownloadBuilder",this.promise=null}asStream(){return new dy(this.downloadFn,this.shouldThrowOnError)}then(l,n){return this.getPromise().then(l,n)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(n){if(l.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}}};const hy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},om={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var my=class extends _i{constructor(l,n={},s,r){super(l,n,r,"storage"),this.bucketId=s}async uploadOrUpdate(l,n,s,r){var c=this;return c.handleOperation(async()=>{let d;const f=se(se({},om),r);let m=se(se({},c.headers),l==="POST"&&{"x-upsert":String(f.upsert)});const v=f.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),v&&d.append("metadata",c.encodeMetadata(v)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),v&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(v))):(d=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,v&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(v))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r!=null&&r.headers&&(m=se(se({},m),r.headers));const p=c._removeEmptyFolders(n),b=c._getFinalPath(p),S=await(l=="PUT"?Mo:Zt)(c.fetch,`${c.url}/object/${b}`,d,se({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{path:p,id:S.Id,fullPath:S.Key}})}async upload(l,n,s){return this.uploadOrUpdate("POST",l,n,s)}async uploadToSignedUrl(l,n,s,r){var c=this;const d=c._removeEmptyFolders(l),f=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",n),c.handleOperation(async()=>{let v;const p=se({upsert:om.upsert},r),b=se(se({},c.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(v=new FormData,v.append("cacheControl",p.cacheControl),v.append("",s)):typeof FormData<"u"&&s instanceof FormData?(v=s,v.append("cacheControl",p.cacheControl)):(v=s,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{path:d,fullPath:(await Mo(c.fetch,m.toString(),v,{headers:b})).Key}})}async createSignedUploadUrl(l,n){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(l);const c=se({},s.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const d=await Zt(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(s.url+d.url),m=f.searchParams.get("token");if(!m)throw new er("No token returned by API");return{signedUrl:f.toString(),path:l,token:m}})}async update(l,n,s){return this.uploadOrUpdate("PUT",l,n,s)}async move(l,n,s){var r=this;return r.handleOperation(async()=>await Zt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:l,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(l,n,s){var r=this;return r.handleOperation(async()=>({path:(await Zt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:l,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(l,n,s){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(l),d=await Zt(r.fetch,`${r.url}/object/sign/${c}`,se({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)}})}async createSignedUrls(l,n,s){var r=this;return r.handleOperation(async()=>{const c=await Zt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:l},{headers:r.headers}),d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c.map(f=>se(se({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null}))})}download(l,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=r?`?${r}`:"",d=this._getFinalPath(l),f=()=>xs(this.fetch,`${this.url}/${s}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new fy(f,this.shouldThrowOnError)}async info(l){var n=this;const s=n._getFinalPath(l);return n.handleOperation(async()=>zo(await xs(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})))}async exists(l){var n=this;const s=n._getFinalPath(l);try{return await cy(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(tr(r)&&r instanceof Cm){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(l,n){const s=this._getFinalPath(l),r=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&r.push(f);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}async remove(l){var n=this;return n.handleOperation(async()=>await Vo(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:l},{headers:n.headers}))}async list(l,n,s){var r=this;return r.handleOperation(async()=>{const c=se(se(se({},hy),n),{},{prefix:l||""});return await Zt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},s)})}async listV2(l,n){var s=this;return s.handleOperation(async()=>{const r=se({},l);return await Zt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},n)})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const n=[];return l.width&&n.push(`width=${l.width}`),l.height&&n.push(`height=${l.height}`),l.resize&&n.push(`resize=${l.resize}`),l.format&&n.push(`format=${l.format}`),l.quality&&n.push(`quality=${l.quality}`),n.join("&")}};const gy="2.93.3",js={"X-Client-Info":`storage-js/${gy}`};var py=class extends _i{constructor(l,n={},s,r){const c=new URL(l);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const d=c.href.replace(/\/$/,""),f=se(se({},js),n);super(d,f,s,"storage")}async listBuckets(l){var n=this;return n.handleOperation(async()=>{const s=n.listBucketOptionsToQueryString(l);return await xs(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers})})}async getBucket(l){var n=this;return n.handleOperation(async()=>await xs(n.fetch,`${n.url}/bucket/${l}`,{headers:n.headers}))}async createBucket(l,n={public:!1}){var s=this;return s.handleOperation(async()=>await Zt(s.fetch,`${s.url}/bucket`,{id:l,name:l,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async updateBucket(l,n){var s=this;return s.handleOperation(async()=>await Mo(s.fetch,`${s.url}/bucket/${l}`,{id:l,name:l,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(l){var n=this;return n.handleOperation(async()=>await Zt(n.fetch,`${n.url}/bucket/${l}/empty`,{},{headers:n.headers}))}async deleteBucket(l){var n=this;return n.handleOperation(async()=>await Vo(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(l){const n={};return l&&("limit"in l&&(n.limit=String(l.limit)),"offset"in l&&(n.offset=String(l.offset)),l.search&&(n.search=l.search),l.sortColumn&&(n.sortColumn=l.sortColumn),l.sortOrder&&(n.sortOrder=l.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},vy=class extends _i{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=se(se({},js),n);super(r,c,s,"storage")}async createBucket(l){var n=this;return n.handleOperation(async()=>await Zt(n.fetch,`${n.url}/bucket`,{name:l},{headers:n.headers}))}async listBuckets(l){var n=this;return n.handleOperation(async()=>{const s=new URLSearchParams;(l==null?void 0:l.limit)!==void 0&&s.set("limit",l.limit.toString()),(l==null?void 0:l.offset)!==void 0&&s.set("offset",l.offset.toString()),l!=null&&l.sortColumn&&s.set("sortColumn",l.sortColumn),l!=null&&l.sortOrder&&s.set("sortOrder",l.sortOrder),l!=null&&l.search&&s.set("search",l.search);const r=s.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await xs(n.fetch,c,{headers:n.headers})})}async deleteBucket(l){var n=this;return n.handleOperation(async()=>await Vo(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}))}from(l){var n=this;if(!ny(l))throw new er("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new ey({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(v){if(r)throw v;return{data:null,error:v}}}}})}},yy=class extends _i{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=se(se({},js),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createIndex(l){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/CreateIndex`,l,{headers:n.headers})||{})}async getIndex(l,n){var s=this;return s.handleOperation(async()=>await Dt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:l,indexName:n},{headers:s.headers}))}async listIndexes(l){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/ListIndexes`,l,{headers:n.headers}))}async deleteIndex(l,n){var s=this;return s.handleOperation(async()=>await Dt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:l,indexName:n},{headers:s.headers})||{})}},by=class extends _i{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=se(se({},js),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async putVectors(l){var n=this;if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/PutVectors`,l,{headers:n.headers})||{})}async getVectors(l){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/GetVectors`,l,{headers:n.headers}))}async listVectors(l){var n=this;if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/ListVectors`,l,{headers:n.headers}))}async queryVectors(l){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/QueryVectors`,l,{headers:n.headers}))}async deleteVectors(l){var n=this;if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/DeleteVectors`,l,{headers:n.headers})||{})}},_y=class extends _i{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=se(se({},js),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createBucket(l){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{})}async getBucket(l){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:l},{headers:n.headers}))}async listBuckets(l={}){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/ListVectorBuckets`,l,{headers:n.headers}))}async deleteBucket(l){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{})}},wy=class extends _y{constructor(l,n={}){super(l,n.headers||{},n.fetch)}from(l){return new xy(this.url,this.headers,l,this.fetch)}async createBucket(l){var n=()=>super.createBucket,s=this;return n().call(s,l)}async getBucket(l){var n=()=>super.getBucket,s=this;return n().call(s,l)}async listBuckets(l={}){var n=()=>super.listBuckets,s=this;return n().call(s,l)}async deleteBucket(l){var n=()=>super.deleteBucket,s=this;return n().call(s,l)}},xy=class extends yy{constructor(l,n,s,r){super(l,n,r),this.vectorBucketName=s}async createIndex(l){var n=()=>super.createIndex,s=this;return n().call(s,se(se({},l),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(l={}){var n=()=>super.listIndexes,s=this;return n().call(s,se(se({},l),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(l){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,l)}async deleteIndex(l){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,l)}index(l){return new Sy(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Sy=class extends by{constructor(l,n,s,r,c){super(l,n,c),this.vectorBucketName=s,this.indexName=r}async putVectors(l){var n=()=>super.putVectors,s=this;return n().call(s,se(se({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(l){var n=()=>super.getVectors,s=this;return n().call(s,se(se({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(l={}){var n=()=>super.listVectors,s=this;return n().call(s,se(se({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(l){var n=()=>super.queryVectors,s=this;return n().call(s,se(se({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(l){var n=()=>super.deleteVectors,s=this;return n().call(s,se(se({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Ey=class extends py{constructor(l,n={},s,r){super(l,n,s,r)}from(l){return new my(this.url,this.headers,l,this.fetch)}get vectors(){return new wy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vy(this.url+"/iceberg",this.headers,this.fetch)}};const Dm="2.93.3",pi=30*1e3,qo=3,jo=qo*pi,Ty="http://localhost:9999",jy="supabase.auth.token",Ay={"X-Client-Info":`gotrue-js/${Dm}`},Bo="X-Supabase-Api-Version",zm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ny=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oy=600*1e3;class Ss extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function P(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class ky extends Ss{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Cy(l){return P(l)&&l.name==="AuthApiError"}class wn extends Ss{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class xa extends Ss{constructor(n,s,r,c){super(n,r,c),this.name=s,this.status=r}}class Ut extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ao(l){return P(l)&&l.name==="AuthSessionMissingError"}class ci extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xl extends xa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends xa{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ry(l){return P(l)&&l.name==="AuthImplicitGrantRedirectError"}class cm extends xa{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uy extends xa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lo extends xa{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function No(l){return P(l)&&l.name==="AuthRetryableFetchError"}class dm extends xa{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ho extends xa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fm=` 	
\r=`.split(""),Dy=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<fm.length;n+=1)l[fm[n].charCodeAt(0)]=-2;for(let n=0;n<Zl.length;n+=1)l[Zl[n].charCodeAt(0)]=n;return l})();function hm(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(Zl[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(Zl[r]),n.queuedBits-=6}}function Mm(l,n,s){const r=Dy[l];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function mm(l){const n=[],s=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{qy(f,r,s)};for(let f=0;f<l.length;f+=1)Mm(l.charCodeAt(f),c,d);return n.join("")}function zy(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function My(l,n){for(let s=0;s<l.length;s+=1){let r=l.charCodeAt(s);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}zy(r,n)}}function qy(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function bi(l){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<l.length;c+=1)Mm(l.charCodeAt(c),s,r);return new Uint8Array(n)}function By(l){const n=[];return My(l,s=>n.push(s)),new Uint8Array(n)}function xn(l){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};return l.forEach(c=>hm(c,s,r)),hm(null,s,r),n.join("")}function Ly(l){return Math.round(Date.now()/1e3)+l}function Hy(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",vn={tested:!1,writable:!1},qm=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vn.tested)return vn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),vn.tested=!0,vn.writable=!0}catch{vn.tested=!0,vn.writable=!1}return vn.writable};function Gy(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return s.searchParams.forEach((r,c)=>{n[c]=r}),n}const Bm=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),$y=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",vi=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},yn=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},dt=async(l,n)=>{await l.removeItem(n)};class ar{constructor(){this.promise=new ar.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}ar.promiseConstructor=Promise;function Il(l){const n=l.split(".");if(n.length!==3)throw new Ho("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Ny.test(n[r]))throw new Ho("JWT not in base64url format");return{header:JSON.parse(mm(n[0])),payload:JSON.parse(mm(n[1])),signature:bi(n[2]),raw:{header:n[0],payload:n[1]}}}async function Vy(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function Yy(l,n){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!n(d,null,f)){r(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function Ky(l){return("0"+l.toString(16)).substr(-2)}function Qy(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,Ky).join("")}async function Xy(l){const s=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Jy(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await Xy(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function di(l,n,s=!1){const r=Qy();let c=r;s&&(c+="/PASSWORD_RECOVERY"),await vi(l,`${n}-code-verifier`,c);const d=await Jy(r);return[d,r===d?"plain":"s256"]}const Iy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zy(l){const n=l.headers.get(Bo);if(!n||!n.match(Iy))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Wy(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function Py(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fi(l){if(!Fy.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Oo(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function e0(l,n){return new Proxy(l,{get:(s,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,c)}})}function gm(l){return JSON.parse(JSON.stringify(l))}const bn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),t0=[502,503,504];async function pm(l){var n;if(!$y(l))throw new Lo(bn(l),0);if(t0.includes(l.status))throw new Lo(bn(l),l.status);let s;try{s=await l.json()}catch(d){throw new wn(bn(d),d)}let r;const c=Zy(l);if(c&&c.getTime()>=zm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new dm(bn(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Ut}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new dm(bn(s),l.status,s.weak_password.reasons);throw new ky(bn(s),l.status||500,r)}const a0=(l,n,s,r)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),s))};async function ne(l,n,s,r){var c;const d=Object.assign({},r==null?void 0:r.headers);d[Bo]||(d[Bo]=zm["2024-01-01"].name),r!=null&&r.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",v=await n0(l,n,s+m,{headers:d,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(v):{data:Object.assign({},v),error:null}}async function n0(l,n,s,r,c,d){const f=a0(n,r,c,d);let m;try{m=await l(s,Object.assign({},f))}catch(v){throw console.error(v),new Lo(bn(v),0)}if(m.ok||await pm(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(v){await pm(v)}}function It(l){var n;let s=null;l0(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=Ly(l.expires_in)));const r=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:r},error:null}}function vm(l){const n=It(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Za(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function i0(l){return{data:l,error:null}}function s0(l){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:d}=l,f=Fl(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:d},v=Object.assign({},f);return{data:{properties:m,user:v},error:null}}function ym(l){return l}function l0(l){return l.access_token&&l.refresh_token&&l.expires_in}const ko=["global","local","others"];class r0{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=Bm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=ko[0]){if(ko.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ko.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Za})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=Fl(n,["options"]),c=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:s0,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(P(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Za})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,c,d,f,m,v;try{const p={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ym});if(b.error)throw b.error;const S=await b.json(),N=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(v=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return T.length>0&&(T.forEach(R=>{const L=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(R.split(";")[1].split("=")[1]);p[`${D}Page`]=L}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(P(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){fi(n);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Za})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){fi(n);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Za})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){fi(n);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Za})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){fi(n.userId);try{const{data:s,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:r}}catch(s){if(P(s))return{data:null,error:s};throw s}}async _deleteFactor(n){fi(n.userId),fi(n.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(P(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,c,d,f,m,v;try{const p={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ym});if(b.error)throw b.error;const S=await b.json(),N=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(v=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return T.length>0&&(T.forEach(R=>{const L=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(R.split(";")[1].split("=")[1]);p[`${D}Page`]=L}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(P(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(P(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(P(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(P(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(P(s))return{data:null,error:s};throw s}}}function bm(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const hi={debug:!!(globalThis&&qm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class u0 extends Lm{}async function o0(l,n,s){hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),hi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(n===0)throw hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new u0(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(hi.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function c0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hm(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function d0(l){return parseInt(l,16)}function f0(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function h0(l){var n;const{chainId:s,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:v,resources:p,scheme:b,uri:S,version:N}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const T=Hm(l.address),R=b?`${b}://${r}`:r,L=l.statement?`${l.statement}
`:"",D=`${R} wants you to sign in with your Ethereum account:
${T}

${L}`;let G=`URI: ${S}
Version: ${N}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(G+=`
Expiration Time: ${c.toISOString()}`),m&&(G+=`
Not Before: ${m.toISOString()}`),v&&(G+=`
Request ID: ${v}`),p){let Y=`
Resources:`;for(const B of p){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);Y+=`
- ${B}`}G+=Y}return`${D}
${G}`}class Pe extends Error{constructor({message:n,code:s,cause:r,name:c}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class Wl extends Pe{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function m0({error:l,options:n}){var s,r,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Pe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Gm(f)){if(d.rp.id!==f)return new Pe({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function g0({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Pe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(Gm(r)){if(s.rpId!==r)return new Pe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class p0{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const v0=new p0;function y0(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:r}=l,c=Fl(l,["challenge","user","excludeCredentials"]),d=bi(n).buffer,f=Object.assign(Object.assign({},s),{id:bi(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let v=0;v<r.length;v++){const p=r[v];m.excludeCredentials[v]=Object.assign(Object.assign({},p),{id:bi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function b0(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,r=Fl(l,["challenge","allowCredentials"]),c=bi(n).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:bi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function _0(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:xn(new Uint8Array(l.response.attestationObject)),clientDataJSON:xn(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function w0(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,r=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:xn(new Uint8Array(c.authenticatorData)),clientDataJSON:xn(new Uint8Array(c.clientDataJSON)),signature:xn(new Uint8Array(c.signature)),userHandle:c.userHandle?xn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Gm(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function _m(){var l,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function x0(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",n)}:{data:null,error:new Wl("Empty credential response",n)}}catch(n){return{data:null,error:m0({error:n,options:l})}}}async function S0(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",n)}:{data:null,error:new Wl("Empty credential response",n)}}catch(n){return{data:null,error:g0({error:n,options:l})}}}const E0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},T0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pl(...l){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of l)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(s(f))r[d]=f;else if(n(f)){const m=r[d];n(m)?r[d]=Pl(m,f):r[d]=Pl(f)}else r[d]=f}return r}function j0(l,n){return Pl(E0,l,n||{})}function A0(l,n){return Pl(T0,l,n||{})}class N0{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:c},d){var f;try{const{data:m,error:v}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!m)return{data:null,error:v};const p=c??v0.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:b}=m.webauthn.credential_options.publicKey;if(!b.name){const S=r;if(S)b.name=`${b.id}:${S}`;else{const T=(await this.client.getUser()).data.user,R=((f=T==null?void 0:T.user_metadata)===null||f===void 0?void 0:f.name)||(T==null?void 0:T.email)||(T==null?void 0:T.id)||"User";b.name=`${b.id}:${R}`}}b.displayName||(b.displayName=b.name)}switch(m.webauthn.type){case"create":{const b=j0(m.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:S,error:N}=await x0({publicKey:b,signal:p});return S?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:N}}case"request":{const b=A0(m.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:S,error:N}=await S0(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b,signal:p}));return S?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:N}}}}catch(m){return P(m)?{data:null,error:m}:{data:null,error:new wn("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Ss("rpId is required for WebAuthn authentication")};try{if(!_m())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:v}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:v.type,rpId:s,rpOrigins:r,credential_response:v.credential_response}})}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new wn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Ss("rpId is required for WebAuthn registration")};try{if(!_m())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var S;return(S=b.data)===null||S===void 0?void 0:S.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===n&&N.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:v,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:c},{create:d});return v?this._verify({factorId:f.id,challengeId:v.challengeId,webauthn:{rpId:s,rpOrigins:r,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:p}}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new wn("Unexpected error in register",f)}}}}c0();const O0={url:Ty,storageKey:jy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ay,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function wm(l,n,s){return await s()}const mi={};class Es{get jwks(){var n,s;return(s=(n=mi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){mi[this.storageKey]=Object.assign(Object.assign({},mi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=mi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){mi[this.storageKey]=Object.assign(Object.assign({},mi[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},O0),n);if(this.storageKey=d.storageKey,this.instanceID=(s=Es.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Es.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new r0({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Bm(d.fetch),this.lock=d.lock||wm,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=o0:this.lock=wm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new N0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:qm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bm(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=bm(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Dm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(ft()&&(s=Gy(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Ry(d)){const v=(n=d.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return P(s)?this._returnResult({error:s}):this._returnResult({error:new wn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,c;try{const d=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:It}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const v=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(d){if(P(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var s,r,c;try{let d;if("email"in n){const{email:b,password:S,options:N}=n;let T=null,R=null;this.flowType==="pkce"&&([T,R]=await di(this.storage,this.storageKey)),d=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:b,password:S,data:(s=N==null?void 0:N.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:T,code_challenge_method:R},xform:It})}else if("phone"in n){const{phone:b,password:S,options:N}=n;d=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:S,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(c=N==null?void 0:N.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:It})}else throw new Xl("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const v=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(d){if(await dt(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let s;if("email"in n){const{email:d,password:f,options:m}=n;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:vm})}else if("phone"in n){const{phone:d,password:f,options:m}=n;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:vm})}else throw new Xl("You must provide either an email or phone number and a password");const{data:r,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new ci;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,c,d,f,m,v,p,b,S,N;let T,R;if("message"in n)T=n.message,R=n.signature;else{const{chain:L,wallet:D,statement:G,options:Y}=n;let B;if(ft())if(typeof D=="object")B=D;else{const De=window;if("ethereum"in De&&typeof De.ethereum=="object"&&"request"in De.ethereum&&typeof De.ethereum.request=="function")B=De.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=D}const Q=new URL((s=Y==null?void 0:Y.url)!==null&&s!==void 0?s:window.location.href),F=await B.request({method:"eth_requestAccounts"}).then(De=>De).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=Hm(F[0]);let X=(r=Y==null?void 0:Y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!X){const De=await B.request({method:"eth_chainId"});X=d0(De)}const ye={domain:Q.host,address:ee,statement:G,uri:Q.href,version:"1",chainId:X,nonce:(c=Y==null?void 0:Y.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=Y==null?void 0:Y.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=Y==null?void 0:Y.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(v=Y==null?void 0:Y.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(p=Y==null?void 0:Y.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=Y==null?void 0:Y.signInWithEthereum)===null||b===void 0?void 0:b.resources};T=h0(ye),R=await B.request({method:"personal_sign",params:[f0(T),ee]})}try{const{data:L,error:D}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:R},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:It});if(D)throw D;if(!L||!L.session||!L.user){const G=new ci;return this._returnResult({data:{user:null,session:null},error:G})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:D})}catch(L){if(P(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async signInWithSolana(n){var s,r,c,d,f,m,v,p,b,S,N,T;let R,L;if("message"in n)R=n.message,L=n.signature;else{const{chain:D,wallet:G,statement:Y,options:B}=n;let Q;if(ft())if(typeof G=="object")Q=G;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))Q=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=G}const F=new URL((s=B==null?void 0:B.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Q&&Q.signIn){const ee=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),Y?{statement:Y}:null));let X;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")X=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)X=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)R=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),L=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${F.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(c=(r=B==null?void 0:B.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B==null?void 0:B.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((m=B==null?void 0:B.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((v=B==null?void 0:B.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((S=(b=B==null?void 0:B.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||S===void 0)&&S.length?["Resources",...B.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const ee=await Q.signMessage(new TextEncoder().encode(R),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=ee}}try{const{data:D,error:G}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:xn(L)},!((N=n.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:It});if(G)throw G;if(!D||!D.session||!D.user){const Y=new ci;return this._returnResult({data:{user:null,session:null},error:Y})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:G})}catch(D){if(P(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(n){const s=await yn(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Uy;const{data:d,error:f}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:It});if(await dt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new ci;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await dt(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:s,provider:r,token:c,access_token:d,nonce:f}=n,m=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:It}),{data:v,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!v||!v.session||!v.user){const b=new ci;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:p})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,c,d,f;try{if("email"in n){const{email:m,options:v}=n;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await di(this.storage,this.storageKey));const{error:S}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(r=v==null?void 0:v.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:v==null?void 0:v.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:m,options:v}=n,{data:p,error:b}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=v==null?void 0:v.data)!==null&&c!==void 0?c:{},create_user:(d=v==null?void 0:v.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(f=v==null?void 0:v.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new Xl("You must provide either an email or phone number.")}catch(m){if(await dt(this.storage,`${this.storageKey}-code-verifier`),P(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var s,r;try{let c,d;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:m}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:It});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const v=f.session,p=f.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(c){if(P(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,r,c,d,f;try{let m=null,v=null;this.flowType==="pkce"&&([m,v]=await di(this.storage,this.storageKey));const p=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:v}),headers:this.headers,xform:i0});return!((d=p.data)===null||d===void 0)&&d.url&&ft()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await dt(this.storage,`${this.storageKey}-code-verifier`),P(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new Ut;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:d}=n,{error:f}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:c,options:d}=n,{data:f,error:m}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new Xl("You must provide either an email or phone number and a type")}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<jo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await yn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Oo()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=e0(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Za}):await this._useSession(async s=>{var r,c,d;const{data:f,error:m}=s;if(m)throw m;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Za})})}catch(s){if(P(s))return Ao(s)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new Ut;const f=c.session;let m=null,v=null;this.flowType==="pkce"&&n.email!=null&&([m,v]=await di(this.storage,this.storageKey));const{data:p,error:b}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:v}),jwt:f.access_token,xform:Za});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await dt(this.storage,`${this.storageKey}-code-verifier`),P(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ut;const s=Date.now()/1e3;let r=s,c=!0,d=null;const{payload:f}=Il(n.access_token);if(f.exp&&(r=f.exp,c=r<=s),c){const{data:m,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:v}=await this._getUser(n.access_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(P(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:f,error:m}=s;if(m)throw m;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new Ut;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!ft())throw new Jl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Jl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new cm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new cm("No code detected.");const{data:Y,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:v,token_type:p}=n;if(!d||!m||!f||!p)throw new Jl("No session defined in URL");const b=Math.round(Date.now()/1e3),S=parseInt(m);let N=b+S;v&&(N=parseInt(v));const T=N-b;T*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${S}s`);const R=N-S;b-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,N,b):b-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,N,b);const{data:L,error:D}=await this._getUser(d);if(D)throw D;const G={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:S,expires_at:N,refresh_token:f,token_type:p,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:G,redirectType:n.type},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await yn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:c,error:d}=s;if(d&&!Ao(d))return this._returnResult({error:d});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(Cy(m)&&(m.status===404||m.status===401||m.status===403)||Ao(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Hy(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,s={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await di(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(await dt(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:c}=await this._useSession(async d=>{var f,m,v,p,b;const{data:S,error:N}=d;if(N)throw N;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",T,{headers:this.headers,jwt:(b=(p=S.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ft()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(P(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:m,token:v,access_token:p,nonce:b}=n,S=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d==null?void 0:d.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:v,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:It}),{data:N,error:T}=S;return T?this._returnResult({data:{user:null,session:null},error:T}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new ci}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:T}))}catch(c){if(await dt(this.storage,`${this.storageKey}-code-verifier`),P(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,c;const{data:d,error:f}=s;if(f)throw f;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Yy(async c=>(c>0&&await Vy(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:It})),(c,d)=>{const f=200*Math.pow(2,c);return d&&No(d)&&Date.now()+f-r<pi})}catch(r){if(this._debug(s,"error",r),P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),ft()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await yn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await vi(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Oo()}else if(c&&!c.user&&!c.user){const f=await yn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await dt(this.storage,this.storageKey+"-user"),await vi(this.storage,this.storageKey,c)):c.user=Oo()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<jo;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${jo}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),No(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ar;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Ut;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),P(d)){const f={data:null,error:d};return No(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(v){d.push(v)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await vi(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=gm(c);await vi(this.storage,this.storageKey,d)}else{const c=gm(s);await vi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${pi}ms, refresh threshold is ${qo} ticks`),c<=qo&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Lm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const c=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await di(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(r!=null&&r.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:c,error:d}=s;return d?this._returnResult({data:null,error:d}):await ne(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,c;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:p}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&v.type==="totp"&&(!((c=v==null?void 0:v.totp)===null||c===void 0)&&c.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?_0(n.webauthn.credential_response):w0(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:v}=await ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:v}))})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:y0(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b0(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var s,r,c,d;if(n)try{const{payload:T}=Il(n);let R=null;T.aal&&(R=T.aal);let L=R;const{data:{user:D},error:G}=await this.getUser(n);if(G)return this._returnResult({data:null,error:G});((r=(s=D==null?void 0:D.factors)===null||s===void 0?void 0:s.filter(Q=>Q.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(L="aal2");const B=T.amr||[];return{data:{currentLevel:R,nextLevel:L,currentAuthenticationMethods:B},error:null}}catch(T){if(P(T))return this._returnResult({data:null,error:T});throw T}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:v}=Il(f.access_token);let p=null;v.aal&&(p=v.aal);let b=p;((d=(c=f.user.factors)===null||c===void 0?void 0:c.filter(T=>T.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const N=v.amr||[];return{data:{currentLevel:p,nextLevel:b,currentAuthenticationMethods:N},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Ut});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Ut});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(m=>m.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===n),r&&this.jwks_cached_at+Oy>c)return r;const{data:d,error:f}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(m=>m.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:T,error:R}=await this.getSession();if(R||!T.session)return this._returnResult({data:null,error:R});r=T.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:v}}=Il(r);s!=null&&s.allowExpired||Wy(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:d,header:c,signature:f},error:null}}const b=Py(c.alg),S=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,S,f,By(`${m}.${v}`)))throw new Ho("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}}Es.nextInstanceID={};const k0=Es,C0="2.93.3";let vs="";typeof Deno<"u"?vs="deno":typeof document<"u"?vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vs="react-native":vs="node";const R0={"X-Client-Info":`supabase-js-${vs}/${C0}`},U0={headers:R0},D0={schema:"public"},z0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M0={};function Ts(l){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ts(l)}function q0(l,n){if(Ts(l)!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var r=s.call(l,n);if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function B0(l){var n=q0(l,"string");return Ts(n)=="symbol"?n:n+""}function L0(l,n,s){return(n=B0(n))in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}function xm(l,n){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),s.push.apply(s,r)}return s}function Ye(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?xm(Object(s),!0).forEach(function(r){L0(l,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):xm(Object(s)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(s,r))})}return l}const H0=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),G0=()=>Headers,$0=(l,n,s)=>{const r=H0(s),c=G0();return async(d,f)=>{var m;const v=(m=await n())!==null&&m!==void 0?m:l;let p=new c(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",l),p.has("Authorization")||p.set("Authorization",`Bearer ${v}`),r(d,Ye(Ye({},f),{},{headers:p}))}};function V0(l){return l.endsWith("/")?l:l+"/"}function Y0(l,n){var s,r;const{db:c,auth:d,realtime:f,global:m}=l,{db:v,auth:p,realtime:b,global:S}=n,N={db:Ye(Ye({},v),c),auth:Ye(Ye({},p),d),realtime:Ye(Ye({},b),f),storage:{},global:Ye(Ye(Ye({},S),m),{},{headers:Ye(Ye({},(s=S==null?void 0:S.headers)!==null&&s!==void 0?s:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return l.accessToken?N.accessToken=l.accessToken:delete N.accessToken,N}function K0(l){const n=l==null?void 0:l.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(V0(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Q0=class extends k0{constructor(l){super(l)}},X0=class{constructor(l,n,s){var r,c;this.supabaseUrl=l,this.supabaseKey=n;const d=K0(l);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:D0,realtime:M0,auth:Ye(Ye({},z0),{},{storageKey:f}),global:U0},v=Y0(s??{},m);if(this.storageKey=(r=v.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=v.auth)!==null&&p!==void 0?p:{},this.headers,v.global.fetch)}this.fetch=$0(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Ye({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Cv(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Ey(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new jv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,n,s)}channel(l,n={config:{}}){return this.realtime.channel(l,n)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,n,s;if(l.accessToken)return await l.accessToken();const{data:r}=await l.auth.getSession();return(n=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,storageKey:d,flowType:f,lock:m,debug:v,throwOnError:p},b,S){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q0({url:this.authUrl.href,headers:Ye(Ye({},N),b),storageKey:d,autoRefreshToken:l,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,flowType:f,lock:m,debug:v,throwOnError:p,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new Jv(this.realtimeUrl.href,Ye(Ye({},l),{},{params:Ye(Ye({},{apikey:this.supabaseKey}),l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,n)=>{this._handleTokenChanged(l,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(l,n,s){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const J0=(l,n,s)=>new X0(l,n,s);function I0(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const n=l.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}I0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Z0="https://gpvjpjtpsjpeztbwufld.supabase.co",W0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwdmpwanRwc2pwZXp0Ynd1ZmxkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4Njg4OTUsImV4cCI6MjA4NTQ0NDg5NX0.Lj0vfRi8X2H-AuRs3N_-S8lzH-VipixgCjvnduGQaQc",He=J0(Z0,W0);class zt{static genId(){return Math.random().toString(36).substr(2,9)}static async getFoods(){const{data:n,error:s}=await He.from("foods").select("*").order("name");return s?[]:n.map(r=>({id:r.id,name:r.name,unit:r.unit,calories:Number(r.calories),protein:Number(r.protein),carbs:Number(r.carbs),fats:Number(r.fats),imageUrl:r.image_url}))}static async saveFood(n){await He.from("foods").upsert({id:n.id,name:n.name,unit:n.unit,calories:n.calories,protein:n.protein,carbs:n.carbs,fats:n.fats,image_url:n.imageUrl})}static async deleteFood(n){await He.from("foods").delete().eq("id",n)}static async getDiets(){const{data:n,error:s}=await He.from("diets").select("*").order("created_at",{ascending:!1});return s?[]:n.map(r=>({id:r.id,name:r.name,weeks:[],targetCalories:Number(r.target_calories),targetProtein:Number(r.target_protein),targetCarbs:Number(r.target_carbs),targetFats:Number(r.target_fats),createdAt:r.created_at}))}static async getDietById(n){const{data:s,error:r}=await He.from("diets").select(`
        *,
        weeks (
          *,
          days (
            *,
            meals (
              *,
              meal_items (
                id,
                food_id,
                quantity
              )
            )
          )
        )
      `).eq("id",n).single();if(r||!s)return null;const c=(s.weeks||[]).sort((d,f)=>d.week_number-f.week_number).map(d=>({id:d.id,weekNumber:d.week_number,days:(d.days||[]).sort((f,m)=>f.day_of_week-m.day_of_week).map(f=>({id:f.id,dayOfWeek:f.day_of_week,meals:(f.meals||[]).sort((m,v)=>m.sort_order-v.sort_order).map(m=>({id:m.id,name:m.name,imageUrl:m.image_url,order:m.sort_order,foodEntries:(m.meal_items||[]).map(v=>({id:v.id,foodId:v.food_id,quantity:Number(v.quantity)}))}))}))}));return{id:s.id,name:s.name,weeks:c,targetCalories:Number(s.target_calories),targetProtein:Number(s.target_protein),targetCarbs:Number(s.target_carbs),targetFats:Number(s.target_fats),createdAt:s.created_at}}static async saveDiet(n){try{const{error:s}=await He.from("diets").upsert({id:n.id,name:n.name,target_calories:n.targetCalories,target_protein:n.targetProtein,target_carbs:n.targetCarbs,target_fats:n.targetFats});s&&console.error("Error saving diet info:",s);const r=n.weeks.map(c=>c.id);r.length>0?await He.from("weeks").delete().eq("diet_id",n.id).not("id","in",r):await He.from("weeks").delete().eq("diet_id",n.id);for(const c of n.weeks){await He.from("weeks").upsert({id:c.id,diet_id:n.id,week_number:c.weekNumber});const d=c.days.map(f=>f.id);d.length>0?await He.from("days").delete().eq("week_id",c.id).not("id","in",d):await He.from("days").delete().eq("week_id",c.id);for(const f of c.days){await He.from("days").upsert({id:f.id,week_id:c.id,day_of_week:f.dayOfWeek});const m=f.meals.map(p=>p.id),{data:v}=await He.from("meals").select("id").eq("day_id",f.id);if(v){const p=v.filter(b=>!m.includes(b.id)).map(b=>b.id);p.length>0&&(await He.from("meal_items").delete().in("meal_id",p),await He.from("meals").delete().in("id",p))}for(const p of f.meals)if(await He.from("meals").upsert({id:p.id,day_id:f.id,name:p.name,sort_order:p.order,image_url:p.imageUrl}),await He.from("meal_items").delete().eq("meal_id",p.id),p.foodEntries.length>0){const{error:b}=await He.from("meal_items").insert(p.foodEntries.map(S=>({id:S.id,meal_id:p.id,food_id:S.foodId,quantity:S.quantity})));b&&console.error("Error inserting meal items:",b)}}}}catch(s){console.error("Critical error in saveDiet:",s)}}static async deleteDiet(n){await He.from("diets").delete().eq("id",n)}static async getTracking(n){const{data:s,error:r}=await He.from("tracking_logs").select("date, completed_meal_ids").eq("diet_id",n);if(r)return{};const c={};return s.forEach(d=>{c[d.date]={date:d.date,completedMealIds:d.completed_meal_ids}}),c}static async saveTrackingLog(n,s){await He.from("tracking_logs").upsert({diet_id:n,date:s.date,completed_meal_ids:s.completedMealIds})}}var st=(l=>(l.CREATOR="CREATOR",l.CLIENT="CLIENT",l))(st||{});const Sm={ES:{app_title:"MacroMind",perfect_plan:"Construye el Plan Perfecto",im_builder:"Acceso Entrenador",im_client:"Acceso Cliente",my_plans:"Mis Planes",builder_panel:"Panel de Builder",close:"Cerrar",new_plan:"Nuevo Plan",diet_list:"Listado de Dietas",client_view:"Vista Cliente",builder_mode:"Modo Builder",logout:"Salir",save:"Guardar",back:"Volver",plan_title:"Ttulo del Plan",catalog:"Catlogo",export_pdf:"Exportar PDF",week:"Semana",day:"Da",new_week:"+ Nueva",daily_targets:"Objetivos Diarios",calories:"Caloras",protein:"Protena",carbs:"Carbos",fats:"Grasas",meals:"Comidas",add:"AGREGAR",copy_to:"Copiar a...",delete_meal_confirm:"Eliminar esta comida?",add_meal_prompt:"Toca 'Agregar' para este da.",plate_editor:"Editor de Plato",meal_name:"Nombre de la comida",image_url:"Imagen URL (Opcional)",ingredients:"Ingredientes",add_from_catalog:"Aadir del Catlogo",choose_food:"Elegir alimento...",quantity:"Cantidad",done:"LISTO",search_food:"Buscar por nombre...",new_food:"Nuevo Alimento",food_name:"Nombre",unit:"Unidad",every_100g:"Cada 100 gr",per_unit:"Por Unidad",save_catalog:"Guardar en Catlogo",available_foods:"Alimentos disponibles",no_foods_found:"No se encontraron alimentos.",delete_food_confirm:"Eliminar este alimento del catlogo global?",today:"Hoy",today_meals:"Comidas de Hoy",plan_view:"Vista de Plan",no_meals_assigned:"Sin comidas asignadas para este da.",mon:"Lunes",tue:"Martes",wed:"Mircoles",thu:"Jueves",fri:"Viernes",sat:"Sbado",sun:"Domingo",delete_plan_confirm:"Ests seguro de eliminar este plan?",calendar:"Calendario",weekly_view:"Vista Semanal",daily_view:"Vista Diaria",shopping_list:"Lista de Compras",shopping_items:"Artculos para Comprar",no_items:"Sin artculos en la lista",total_quantity:"Cantidad Total",delete:"Eliminar",cancel:"Cancelar",plan_deleted:"Plan eliminado",nutrition:"Nutricin"},EN:{app_title:"MacroMind",perfect_plan:"Build the Perfect Plan",im_builder:"Coach Access",im_client:"Client Access",my_plans:"My Plans",builder_panel:"Builder Panel",close:"Close",new_plan:"New Plan",diet_list:"Diets List",client_view:"Client View",builder_mode:"Builder Mode",logout:"Logout",save:"Save",back:"Back",plan_title:"Plan Title",catalog:"Catalog",export_pdf:"Export PDF",week:"Week",day:"Day",new_week:"+ New",daily_targets:"Daily Targets",calories:"Calories",protein:"Protein",carbs:"Carbs",fats:"Fats",meals:"Meals",add:"ADD",copy_to:"Copy to...",delete_meal_confirm:"Delete this meal?",add_meal_prompt:"Tap 'Add' for this day.",plate_editor:"Plate Editor",meal_name:"Meal Name",image_url:"Image URL (Optional)",ingredients:"Ingredients",add_from_catalog:"Add from Catalog",choose_food:"Choose food...",quantity:"Quantity",done:"DONE",search_food:"Search by name...",new_food:"New Food",food_name:"Name",unit:"Unit",every_100g:"Every 100g",per_unit:"Per Unit",save_catalog:"Save to Catalog",available_foods:"Available Foods",no_foods_found:"No foods found.",delete_food_confirm:"Delete this food from the global catalog?",today:"Today",today_meals:"Today's Meals",plan_view:"Plan View",no_meals_assigned:"No meals assigned for this day.",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday",sun:"Sunday",delete_plan_confirm:"Are you sure you want to delete this plan?",calendar:"Calendar",weekly_view:"Weekly View",daily_view:"Daily View",shopping_list:"Shopping List",shopping_items:"Items to Buy",no_items:"No items in the list",total_quantity:"Total Quantity",delete:"Delete",cancel:"Cancel",plan_deleted:"Plan deleted",nutrition:"Nutrition"},IT:{app_title:"MacroMind",perfect_plan:"Costruisci il Piano Perfetto",im_builder:"Accesso Allenatore",im_client:"Accesso Cliente",my_plans:"I Miei Piani",builder_panel:"Pannello Builder",close:"Chiudi",new_plan:"Nuovo Piano",diet_list:"Elenco Diete",client_view:"Vista Cliente",builder_mode:"Modalit Builder",logout:"Esci",save:"Salva",back:"Indietro",plan_title:"Titolo del Piano",catalog:"Catalogo",export_pdf:"Esporta PDF",week:"Settimana",day:"Giorno",new_week:"+ Nuova",daily_targets:"Obiettivi Giornalieri",calories:"Calorie",protein:"Proteine",carbs:"Carboidrati",fats:"Grassi",meals:"Pasti",add:"AGGIUNGI",copy_to:"Copia in...",delete_meal_confirm:"Eliminare questo pasto?",add_meal_prompt:"Tocca 'Aggiungi' per questo giorno.",plate_editor:"Editor del Piatto",meal_name:"Nome del pasto",image_url:"URL Immagine (Opzionale)",ingredients:"Ingredienti",add_from_catalog:"Aggiungi dal Catalogo",choose_food:"Scegli alimento...",quantity:"Quantit",done:"FATTO",search_food:"Cerca per nome...",new_food:"Nuovo Alimento",food_name:"Nome",unit:"Unit",every_100g:"Ogni 100g",per_unit:"Per Unit",save_catalog:"Salva nel Catalogo",available_foods:"Alimenti disponibili",no_foods_found:"Nessun alimento trovato.",delete_food_confirm:"Eliminare questo alimento dal catalogo globale?",today:"Oggi",today_meals:"Pasti di Oggi",plan_view:"Vista Piano",no_meals_assigned:"Nessun pasto assegnato per questo giorno.",mon:"Luned",tue:"Marted",wed:"Mercoled",thu:"Gioved",fri:"Venerd",sat:"Sabato",sun:"Domenica",delete_plan_confirm:"Sei sicuro di voler eliminare questo piano?",calendar:"Calendario",weekly_view:"Vista Settimanale",daily_view:"Vista Giornaliera",shopping_list:"Lista della Spesa",shopping_items:"Articoli da Acquistare",no_items:"Nessun articolo nella lista",total_quantity:"Quantit Totale",delete:"Elimina",cancel:"Annulla",plan_deleted:"Piano eliminato",nutrition:"Nutrizione"}},$m=le.createContext(void 0),P0=({children:l})=>{const[n,s]=le.useState(localStorage.getItem("mm_lang")||"ES"),r=le.useCallback(d=>Sm[n][d]||Sm.ES[d]||d,[n]),c=le.useCallback(d=>{s(d),localStorage.setItem("mm_lang",d)},[]);return g.jsx($m.Provider,{value:{lang:n,t:r,changeLanguage:c},children:l})};function Sn(){const l=le.useContext($m);if(!l)throw new Error("useI18n must be used within an I18nProvider");return l}const F0=({onClose:l})=>{const{t:n}=Sn(),[s,r]=le.useState([]),[c,d]=le.useState(""),[f,m]=le.useState(!1),[v,p]=le.useState(!0),[b,S]=le.useState({name:"",unit:"100g",calories:0,protein:0,carbs:0,fats:0,imageUrl:""});le.useEffect(()=>{N()},[]);const N=async()=>{p(!0);const D=await zt.getFoods();r(D),p(!1)},T=s.filter(D=>D.name.toLowerCase().includes(c.toLowerCase())),R=async()=>{if(!b.name)return;const D={id:crypto.randomUUID?crypto.randomUUID():"f-"+Date.now(),name:b.name,unit:b.unit||"100g",calories:Number(b.calories)||0,protein:Number(b.protein)||0,carbs:Number(b.carbs)||0,fats:Number(b.fats)||0,imageUrl:b.imageUrl};r(G=>[...G,D]),m(!1),S({name:"",unit:"100g",calories:0,protein:0,carbs:0,fats:0,imageUrl:""}),await zt.saveFood(D)},L=async D=>{confirm(n("delete_food_confirm"))&&(r(G=>G.filter(Y=>Y.id!==D)),await zt.deleteFood(D))};return g.jsxs("div",{className:"fixed inset-0 z-[120] ios-blur flex flex-col animate-in fade-in slide-in-from-bottom duration-500 overflow-hidden",children:[g.jsxs("div",{className:"flex justify-between items-center p-8 pb-4",children:[g.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter text-main",children:n("catalog")}),g.jsx("button",{onClick:l,className:"bg-[var(--input-bg)] h-12 w-12 rounded-full flex items-center justify-center text-main border border-[var(--border-color)]",children:g.jsx("i",{className:"fas fa-times"})})]}),g.jsxs("div",{className:"px-8 mb-6 no-print flex gap-3",children:[g.jsxs("div",{className:"flex-1 bg-[var(--input-bg)] border border-[var(--border-color)] rounded-2xl px-5 flex items-center shadow-inner",children:[g.jsx("i",{className:"fas fa-search text-sub mr-3 text-xs"}),g.jsx("input",{className:"bg-transparent border-none outline-none py-3 w-full text-sm text-main font-bold placeholder:opacity-30",placeholder:n("search_food"),value:c,onChange:D=>d(D.target.value)})]}),g.jsx("button",{onClick:()=>m(!0),className:"h-12 w-12 rounded-2xl bg-blue-600 text-white flex items-center justify-center shadow-lg shadow-blue-600/20",children:g.jsx("i",{className:"fas fa-plus"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 px-8 pb-32 no-scrollbar",children:[g.jsx("div",{className:"px-1 mb-2",children:g.jsxs("span",{className:"text-[10px] font-black text-sub uppercase tracking-[0.2em]",children:[T.length," ",n("available_foods")]})}),v?g.jsx("div",{className:"text-center py-10 opacity-50",children:"Cargando..."}):T.map(D=>g.jsxs("div",{className:"ios-card rounded-[28px] p-5 flex justify-between items-center group active:scale-[0.98] transition-all",children:[g.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[D.imageUrl&&g.jsx("img",{src:D.imageUrl,alt:D.name,className:"w-12 h-12 rounded-xl object-cover"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-black text-lg text-main leading-tight mb-2",children:D.name}),g.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 text-[9px] font-black uppercase tracking-widest",children:[g.jsxs("span",{className:"text-sub bg-[var(--input-bg)] px-2 py-0.5 rounded-lg border border-[var(--border-color)]",children:[D.calories," kcal"]}),g.jsxs("span",{className:"text-orange-500",children:["P: ",D.protein,"g"]}),g.jsxs("span",{className:"text-emerald-500",children:["C: ",D.carbs,"g"]}),g.jsxs("span",{className:"text-yellow-500",children:["F: ",D.fats,"g"]}),g.jsx("span",{className:"text-sub opacity-30 italic",children:D.unit==="100g"?"/ 100g":"/ u"})]})]})]}),g.jsx("button",{onClick:()=>L(D.id),className:"text-sub hover:text-red-500 p-3 bg-[var(--input-bg)] rounded-xl ml-3 transition-all opacity-40 group-hover:opacity-100",children:g.jsx("i",{className:"fas fa-trash-alt text-xs"})})]},D.id)),!v&&T.length===0&&g.jsxs("div",{className:"py-20 text-center text-sub italic font-bold opacity-30 flex flex-col items-center gap-4",children:[g.jsx("i",{className:"fas fa-search text-3xl opacity-10"}),g.jsx("span",{children:n("no_foods_found")})]})]}),f&&g.jsx("div",{className:"absolute inset-0 z-[130] bg-black/60 backdrop-blur-sm flex items-end no-print",children:g.jsxs("div",{className:"w-full ios-card rounded-t-[40px] p-8 space-y-6 animate-in slide-in-from-bottom duration-300 max-h-[90vh] overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"flex justify-between items-center border-b border-[var(--border-color)] pb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("i",{className:"fas fa-plus-circle text-blue-500"}),g.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-main",children:n("new_food")})]}),g.jsx("button",{onClick:()=>m(!1),className:"h-8 w-8 rounded-full bg-[var(--input-bg)] flex items-center justify-center text-main",children:g.jsx("i",{className:"fas fa-times text-xs"})})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[9px] text-sub font-black uppercase mb-2 block tracking-widest",children:n("food_name")}),g.jsx("input",{className:"w-full bg-[var(--input-bg)] border border-[var(--border-color)] rounded-2xl p-4 text-main font-black outline-none focus:border-blue-500/30",value:b.name,onChange:D=>S({...b,name:D.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[9px] text-sub font-black uppercase mb-2 block tracking-widest",children:n("image_url")}),g.jsx("input",{className:"w-full bg-[var(--input-bg)] border border-[var(--border-color)] rounded-2xl p-4 text-[10px] text-blue-500 font-bold outline-none focus:border-blue-500/30",placeholder:"https://...",value:b.imageUrl||"",onChange:D=>S({...b,imageUrl:D.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[9px] text-sub font-black uppercase mb-2 block tracking-widest",children:n("unit")}),g.jsxs("select",{className:"w-full bg-[var(--input-bg)] border border-[var(--border-color)] rounded-2xl p-4 text-main font-black outline-none cursor-pointer",value:b.unit,onChange:D=>S({...b,unit:D.target.value}),children:[g.jsx("option",{value:"100g",children:n("every_100g")}),g.jsx("option",{value:"1unit",children:n("per_unit")})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[9px] text-sub font-black uppercase mb-2 block tracking-widest",children:n("calories")}),g.jsx("input",{type:"number",className:"w-full bg-[var(--input-bg)] border border-[var(--border-color)] rounded-2xl p-4 text-main font-black text-center outline-none focus:border-blue-500/30",value:b.calories||"",onChange:D=>S({...b,calories:Number(D.target.value)})})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsxs("div",{className:"bg-orange-500/5 p-3 rounded-2xl border border-orange-500/10",children:[g.jsx("label",{className:"text-[8px] text-orange-500 font-black uppercase mb-1 block text-center tracking-tighter",children:n("protein")}),g.jsx("input",{type:"number",className:"w-full bg-transparent text-main font-black text-center outline-none text-base",value:b.protein||"",onChange:D=>S({...b,protein:Number(D.target.value)})})]}),g.jsxs("div",{className:"bg-emerald-500/5 p-3 rounded-2xl border border-emerald-500/10",children:[g.jsx("label",{className:"text-[8px] text-emerald-500 font-black uppercase mb-1 block text-center tracking-tighter",children:n("carbs")}),g.jsx("input",{type:"number",className:"w-full bg-transparent text-main font-black text-center outline-none text-base",value:b.carbs||"",onChange:D=>S({...b,carbs:Number(D.target.value)})})]}),g.jsxs("div",{className:"bg-yellow-500/5 p-3 rounded-2xl border border-yellow-500/10",children:[g.jsx("label",{className:"text-[8px] text-yellow-500 font-black uppercase mb-1 block text-center tracking-tighter",children:n("fats")}),g.jsx("input",{type:"number",className:"w-full bg-transparent text-main font-black text-center outline-none text-base",value:b.fats||"",onChange:D=>S({...b,fats:Number(D.target.value)})})]})]}),g.jsx("button",{onClick:R,className:"w-full bg-blue-600 py-5 rounded-2xl font-black text-white shadow-xl shadow-blue-600/30 active:scale-95 transition-all uppercase tracking-widest text-sm",children:n("save_catalog")})]})]})})]})},Vm=({meal:l,foods:n,isCompleted:s,onToggle:r,isCreatorView:c,onEdit:d,onDelete:f})=>{const m=l.foodEntries.reduce((v,p)=>{const b=n.find(T=>T.id===p.foodId);if(!b)return v;const N=/100\s*(g|gr|gramo)/i.test(b.unit||"")?p.quantity/100:p.quantity;return{kcal:v.kcal+b.calories*N,pro:v.pro+b.protein*N,carb:v.carb+b.carbs*N,fat:v.fat+b.fats*N}},{kcal:0,pro:0,carb:0,fat:0});return g.jsxs("div",{className:`ios-card meal-item-card rounded-[28px] overflow-hidden transition-all duration-300 ${s?"opacity-40 grayscale-[0.8]":"active:scale-[0.98]"}`,children:[l.imageUrl&&g.jsxs("div",{className:"w-full h-40 overflow-hidden relative group meal-item-image-container",children:[g.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent no-print"})]}),g.jsxs("div",{className:"p-6 meal-item-content",children:[g.jsxs("div",{className:"flex justify-between items-start mb-5",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("h3",{className:"text-xl font-black text-main tracking-tight",children:l.name}),l.externalLink&&g.jsx("a",{href:l.externalLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 no-print",children:g.jsx("i",{className:"fas fa-link text-xs"})})]}),g.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 text-xs font-bold text-sub",children:[g.jsxs("span",{children:[Math.round(m.kcal)," kcal"]}),g.jsx("span",{className:"opacity-20",children:"|"}),g.jsxs("span",{children:["P: ",Math.round(m.pro),"g"]}),g.jsxs("span",{children:["C: ",Math.round(m.carb),"g"]}),g.jsxs("span",{children:["F: ",Math.round(m.fat),"g"]})]})]}),c?g.jsxs("div",{className:"flex gap-1 no-print",children:[g.jsx("button",{onClick:()=>d==null?void 0:d(l),className:"text-sub hover:text-blue-500 p-2 transition-colors",children:g.jsx("i",{className:"fas fa-pen-nib text-sm"})}),g.jsx("button",{onClick:()=>f==null?void 0:f(l.id),className:"text-sub hover:text-red-500 p-2 transition-colors",children:g.jsx("i",{className:"fas fa-trash-alt text-sm"})})]}):g.jsx("button",{onClick:()=>r(l.id),className:`h-10 w-10 rounded-full flex items-center justify-center transition-all shadow-sm no-print ${s?"bg-green-500 text-white":"bg-[var(--input-bg)] border border-[var(--border-color)] text-sub"}`,children:s?g.jsx("i",{className:"fas fa-check"}):g.jsx("i",{className:"fas fa-circle-notch opacity-20"})})]}),g.jsx("div",{className:"space-y-3 pt-4 border-t border-[var(--border-color)] meal-item-ingredients",children:l.foodEntries.map(v=>{const p=n.find(b=>b.id===v.foodId);return p?g.jsxs("div",{className:"flex justify-between items-center group ingredient-row",children:[g.jsx("span",{className:"text-sm font-bold text-main",children:p.name}),g.jsxs("span",{className:"text-[10px] font-black uppercase bg-[var(--input-bg)] text-sub px-3 py-1.5 rounded-full border border-[var(--border-color)]",children:[v.quantity,p.unit==="100g"?"g":"u"]})]},v.id):null})})]})]})},eb=({dietId:l,onBack:n})=>{const{t:s}=Sn(),[r,c]=le.useState(null),[d,f]=le.useState(""),[m,v]=le.useState(0),[p,b]=le.useState(0),[S,N]=le.useState([]),[T,R]=le.useState(!1),[L,D]=le.useState(!1),[G,Y]=le.useState(!0),[B,Q]=le.useState(null),[F,ee]=le.useState(""),[X,ye]=le.useState(""),[De,mt]=le.useState(!1),[Te,Ee]=le.useState(!1),[tt,Me]=le.useState([]),Xe=le.useRef(null);if(le.useEffect(()=>{(async()=>{Y(!0);const $=await zt.getFoods();if(N($),l&&l!=="new"){const ue=await zt.getDietById(l);ue&&c(ue)}else{const Oe={id:"d-"+Math.random().toString(36).substr(2,9),name:s("new_plan"),targetCalories:2e3,targetProtein:150,targetCarbs:200,targetFats:70,weeks:[{id:"w-1-"+Date.now(),weekNumber:1,days:[0,1,2,3,4,5,6].map(pe=>({id:`d-${pe}-${Date.now()}`,dayOfWeek:pe,meals:[]}))}]};c(Oe)}Y(!1),Xe.current=l})()},[l,s]),le.useEffect(()=>{r&&Xe.current&&!G&&(mt(!0),zt.saveDiet(r).catch(console.error).finally(()=>setTimeout(()=>mt(!1),1e3)))},[r,G]),le.useEffect(()=>{T||zt.getFoods().then(N)},[T]),G||!r)return g.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),g.jsxs("span",{className:"text-sub font-black uppercase text-[10px] tracking-widest",children:[s("loading"),"..."]})]});const C=r.weeks[m]||r.weeks[0],V=C.days[p]||C.days[0],Z=H=>{c($=>$?H($):null)},_e=()=>{Z(H=>{const $=H.weeks.length+1,ue={id:`w-${$}-${Date.now()}`,weekNumber:$,days:[0,1,2,3,4,5,6].map(Oe=>({id:`d-${Oe}-${Date.now()}`,dayOfWeek:Oe,meals:[]}))};return setTimeout(()=>v($-1),0),{...H,weeks:[...H.weeks,ue]}})},je=H=>{r.weeks.length<=1||confirm("Eliminar esta semana?")&&(Z($=>{const Oe=$.weeks.filter((pe,at)=>at!==H).map((pe,at)=>({...pe,weekNumber:at+1}));return{...$,weeks:Oe}}),v($=>Math.max(0,$-1)))},x=H=>{Z($=>{const ue=JSON.parse(JSON.stringify($.weeks[H])),Oe=$.weeks.length+1;return ue.id=`w-${Oe}-${Date.now()}`,ue.weekNumber=Oe,ue.days.forEach(pe=>{pe.id=`d-${pe.dayOfWeek}-${Date.now()}-${Math.random()}`,pe.meals.forEach(at=>{at.id="m-"+Math.random().toString(36).substr(2,9),at.foodEntries.forEach(Ge=>Ge.id="fe-"+Math.random().toString(36).substr(2,9))})}),setTimeout(()=>v(Oe-1),0),{...$,weeks:[...$.weeks,ue]}})},M=H=>{H.length!==0&&(Z($=>{const ue=$.weeks[m].days[p],Oe=$.weeks.map((pe,at)=>{const Ge=H.filter(Pt=>Pt.weekIdx===at);if(Ge.length===0)return pe;const Wa=pe.days.map((Pt,nr)=>{if(!Ge.some(Sa=>Sa.dayIdx===nr))return Pt;const En=JSON.parse(JSON.stringify(ue.meals));return En.forEach(Sa=>{Sa.id="m-"+Math.random().toString(36).substr(2,9),Sa.foodEntries.forEach(wi=>wi.id="fe-"+Math.random().toString(36).substr(2,9))}),{...Pt,meals:En}});return{...pe,days:Wa}});return{...$,weeks:Oe}}),Ee(!1),alert(`${s("done")}`))},K=H=>{confirm("Limpiar da?")&&Z($=>{const ue=$.weeks.map((Oe,pe)=>pe===m?{...Oe,days:Oe.days.map((at,Ge)=>Ge===H?{...at,meals:[]}:at)}:Oe);return{...$,weeks:ue}})},I=(H,$)=>{const ue=$.replace(/^0+/,""),Oe=ue===""?0:parseInt(ue);Z(pe=>({...pe,[H]:Oe}))},ie=[s("mon"),s("tue"),s("wed"),s("thu"),s("fri"),s("sat"),s("sun")],ce=S.find(H=>H.id===F),be=H=>{const $=`${window.location.origin}${window.location.pathname}?dietId=${r.id}&role=${H}`;navigator.clipboard.writeText($),alert("Link Copiado!")};return g.jsxs("div",{className:"pb-40 max-w-lg mx-auto min-h-screen printable-content",children:[g.jsxs("div",{className:"flex justify-between items-center py-6 sticky top-0 ios-blur z-40 mb-4 px-6 no-print",children:[g.jsx("button",{onClick:n,className:"text-sub hover:text-main font-black p-2",children:g.jsx("i",{className:"fas fa-chevron-left"})}),g.jsx("h1",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-blue-500 truncate max-w-[50%]",children:r.name})]}),g.jsxs("div",{className:"px-6 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[g.jsxs("section",{className:"space-y-4 no-print",children:[g.jsxs("div",{className:"ios-card rounded-[32px] p-8 border border-[var(--border-color)]",children:[g.jsx("label",{className:"text-[10px] text-sub font-black uppercase mb-3 block tracking-[0.2em] opacity-40",children:s("plan_title")}),g.jsx("input",{value:r.name,onChange:H=>c($=>$?{...$,name:H.target.value}:null),className:"bg-transparent text-3xl font-black w-full outline-none text-main placeholder:opacity-10",placeholder:"Nombre del plan...",autoFocus:l==="new"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:()=>R(!0),className:"ios-card py-5 rounded-[24px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95 transition-all text-main border border-[var(--border-color)]",children:[g.jsx("i",{className:"fas fa-layer-group text-orange-500 text-base"})," ",s("catalog")]}),g.jsxs("button",{onClick:()=>window.print(),className:"ios-card py-5 rounded-[24px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95 transition-all text-main border border-[var(--border-color)]",children:[g.jsx("i",{className:"fas fa-file-pdf text-blue-500 text-base"})," ",s("export_pdf")]}),g.jsxs("button",{onClick:()=>D(!0),className:"col-span-2 ios-card py-5 rounded-[24px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95 transition-all text-main border border-[var(--border-color)]",children:[g.jsx("i",{className:"fas fa-share-alt text-green-500 text-base"})," Compartir Links"]})]})]}),L&&g.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 no-print",onClick:()=>D(!1),children:g.jsxs("div",{className:"ios-card w-full max-w-sm rounded-[40px] p-8 border border-[var(--border-color)] bg-[var(--card-bg)] space-y-6",onClick:H=>H.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-xl font-black text-main uppercase tracking-widest",children:"Compartir Plan"}),g.jsx("button",{onClick:()=>D(!1),className:"w-8 h-8 rounded-full bg-[var(--input-bg)] flex items-center justify-center text-sub",children:g.jsx("i",{className:"fas fa-times"})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("button",{onClick:()=>be("CLIENT"),className:"w-full bg-blue-600 text-white py-4 rounded-[24px] font-black text-sm uppercase tracking-widest shadow-xl shadow-blue-600/20 active:scale-95 transition-all",children:[g.jsx("i",{className:"fas fa-user mr-2"})," Copiar Link Cliente"]}),g.jsxs("button",{onClick:()=>be("CREATOR"),className:"w-full bg-[var(--input-bg)] text-main py-4 rounded-[24px] font-black text-sm uppercase tracking-widest border border-[var(--border-color)] active:scale-95 transition-all",children:[g.jsx("i",{className:"fas fa-edit mr-2"})," Copiar Link Editor"]})]}),g.jsx("p",{className:"text-[9px] text-center text-sub opacity-50 font-medium",children:"Nota: Los datos se guardan en este dispositivo."})]})}),g.jsxs("section",{className:"no-print grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"ios-card rounded-[28px] p-5 flex flex-col gap-1 relative overflow-hidden bg-gradient-to-br from-[var(--card-bg)] to-[var(--input-bg)] border border-[var(--border-color)]",children:[g.jsx("span",{className:"text-[9px] font-black text-sub uppercase tracking-[0.2em] opacity-40",children:s("week")}),g.jsx("select",{className:"bg-transparent font-black text-base uppercase outline-none text-main cursor-pointer",value:m,onChange:H=>v(Number(H.target.value)),children:r.weeks.map((H,$)=>g.jsxs("option",{value:$,className:"bg-[var(--card-bg)] text-main",children:[s("week")," ",H.weekNumber]},H.id))}),g.jsxs("div",{className:"flex gap-3 mt-3 pt-3 border-t border-[var(--border-color)]",children:[g.jsx("button",{onClick:_e,className:"text-[9px] font-black text-blue-500 uppercase tracking-widest",children:s("new_week")}),g.jsx("button",{onClick:()=>x(m),className:"text-[9px] font-black text-sub uppercase tracking-widest",children:"Copy"}),g.jsx("button",{onClick:()=>je(m),className:"text-[9px] font-black text-red-500/40 uppercase tracking-widest",children:"Del"})]})]}),g.jsxs("div",{className:"ios-card rounded-[28px] p-5 flex flex-col gap-1 relative overflow-hidden bg-gradient-to-br from-[var(--card-bg)] to-[var(--input-bg)] border border-[var(--border-color)]",children:[g.jsx("span",{className:"text-[9px] font-black text-sub uppercase tracking-[0.2em] opacity-40",children:s("day")}),g.jsx("select",{className:"bg-transparent font-black text-base uppercase outline-none text-main cursor-pointer",value:p,onChange:H=>b(Number(H.target.value)),children:ie.map((H,$)=>g.jsx("option",{value:$,className:"bg-[var(--card-bg)] text-main",children:H},$))}),g.jsxs("div",{className:"flex gap-3 mt-3 pt-3 border-t border-[var(--border-color)]",children:[g.jsx("button",{onClick:()=>Ee(!0),className:"text-[9px] font-black text-blue-500 uppercase tracking-widest",children:s("copy_to")}),g.jsx("button",{onClick:()=>K(p),className:"text-[9px] font-black text-red-500/40 uppercase tracking-widest",children:"Clear"})]})]})]}),g.jsxs("section",{className:"ios-card rounded-[40px] p-8 grid grid-cols-2 gap-8 relative overflow-hidden border border-[var(--border-color)]",children:[g.jsxs("div",{className:"col-span-2 flex justify-between items-center border-b border-[var(--border-color)] pb-4",children:[g.jsx("h3",{className:"text-[10px] font-black text-sub uppercase tracking-[0.2em] opacity-40",children:s("daily_targets")}),g.jsx("i",{className:"fas fa-bullseye text-blue-500 opacity-20"})]}),[{key:"targetCalories",label:s("calories"),unit:"kcal"},{key:"targetProtein",label:s("protein"),unit:"g"},{key:"targetCarbs",label:s("carbs"),unit:"g"},{key:"targetFats",label:s("fats"),unit:"g"}].map(H=>g.jsxs("div",{className:"relative",children:[g.jsx("label",{className:"text-[9px] text-sub font-black uppercase mb-2 block tracking-widest opacity-40",children:H.label}),g.jsx("div",{className:"relative",children:g.jsx("input",{type:"number",inputMode:"numeric",value:r[H.key]===0?"":r[H.key],onChange:$=>I(H.key,$.target.value),placeholder:"0",className:"bg-[var(--input-bg)] p-5 rounded-[20px] text-2xl font-black w-full outline-none text-center text-main border border-transparent focus:border-blue-500/40 transition-all placeholder:opacity-5"})})]},H.key))]}),g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("div",{className:"flex justify-between items-end px-2",children:[g.jsx("h3",{className:"text-3xl font-black uppercase tracking-tighter text-main",children:s("meals")}),g.jsxs("button",{onClick:()=>Q({id:"m-"+Date.now(),name:"Nueva Comida",order:V.meals.length,foodEntries:[]}),className:"bg-blue-600 text-white px-6 py-3.5 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] active:scale-95 shadow-xl shadow-blue-600/30 transition-all",children:[g.jsx("i",{className:"fas fa-plus mr-2"})," ",s("add")]})]}),g.jsxs("div",{className:"space-y-5",children:[V.meals.map(H=>g.jsx(Vm,{meal:H,foods:S,isCompleted:!1,onToggle:()=>{},isCreatorView:!0,onEdit:Q,onDelete:$=>{confirm(s("delete_meal_confirm"))&&Z(ue=>{const Oe=ue.weeks.map((pe,at)=>at===m?{...pe,days:pe.days.map((Ge,Wa)=>Wa===p?{...Ge,meals:Ge.meals.filter(Pt=>Pt.id!==$)}:Ge)}:pe);return{...ue,weeks:Oe}})}},H.id)),V.meals.length===0&&g.jsxs("div",{className:"py-24 text-center text-sub italic font-bold ios-card rounded-[40px] border-dashed border-2 border-[var(--border-color)] flex flex-col items-center justify-center gap-6 group hover:border-blue-500/20 transition-colors",children:[g.jsx("div",{className:"w-20 h-20 bg-[var(--input-bg)] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:g.jsx("i",{className:"fas fa-utensils opacity-20 text-4xl text-blue-500"})}),g.jsx("span",{className:"text-[10px] px-12 uppercase tracking-widest opacity-30 leading-relaxed font-black",children:s("add_meal_prompt")})]})]})]})]}),B&&g.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 backdrop-blur-2xl flex items-end no-print",children:g.jsxs("div",{className:"ios-card w-full rounded-t-[56px] p-10 max-h-[95vh] overflow-y-auto no-scrollbar shadow-[0_-20px_80px_rgba(0,0,0,0.5)] animate-in slide-in-from-bottom duration-500 border-t border-[var(--border-color)]",children:[g.jsxs("div",{className:"flex justify-between items-center mb-12",children:[g.jsx("h3",{className:"text-4xl font-black tracking-tighter uppercase text-main",children:s("plate_editor")}),g.jsx("button",{onClick:()=>Q(null),className:"h-12 w-12 bg-[var(--input-bg)] rounded-full text-main flex items-center justify-center border border-[var(--border-color)] active:scale-90 transition-all",children:g.jsx("i",{className:"fas fa-times"})})]}),g.jsxs("div",{className:"space-y-12",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"ios-card bg-[var(--input-bg)] p-8 rounded-[32px] border border-[var(--border-color)]",children:[g.jsx("label",{className:"text-[10px] text-sub font-black uppercase mb-4 block tracking-[0.2em] opacity-40",children:s("meal_name")}),g.jsx("input",{value:B.name,onChange:H=>Q({...B,name:H.target.value}),className:"bg-transparent w-full outline-none text-2xl font-black text-main placeholder:opacity-10",placeholder:"Nombre de la comida..."})]}),g.jsxs("div",{className:"ios-card bg-[var(--input-bg)] p-8 rounded-[32px] border border-[var(--border-color)]",children:[g.jsx("label",{className:"text-[10px] text-sub font-black uppercase mb-4 block tracking-[0.2em] opacity-40",children:s("image_url")}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("input",{value:B.imageUrl||"",onChange:H=>Q({...B,imageUrl:H.target.value}),className:"flex-1 bg-transparent outline-none text-[10px] font-black uppercase tracking-widest text-blue-500 placeholder:opacity-20",placeholder:"https://images..."}),B.imageUrl&&g.jsx("div",{className:"h-20 w-20 rounded-[20px] overflow-hidden border-2 border-[var(--border-color)] shadow-2xl rotate-3",children:g.jsx("img",{src:B.imageUrl,className:"w-full h-full object-cover"})})]})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx("label",{className:"text-[11px] text-sub font-black uppercase tracking-[0.3em] opacity-40 ml-2",children:s("ingredients")}),g.jsx("div",{className:"space-y-4",children:B.foodEntries.map(H=>{const $=S.find(ue=>ue.id===H.foodId);return g.jsxs("div",{className:"flex justify-between items-center bg-[var(--input-bg)] p-6 rounded-[24px] border border-[var(--border-color)] group animate-in fade-in",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-lg font-black text-main leading-none mb-1",children:$==null?void 0:$.name}),g.jsxs("span",{className:"text-[9px] text-blue-500 font-black uppercase tracking-[0.2em]",children:[H.quantity," ",($==null?void 0:$.unit)==="100g"?"gramos":"unidades"]})]}),g.jsx("button",{onClick:()=>Q({...B,foodEntries:B.foodEntries.filter(ue=>ue.id!==H.id)}),className:"text-red-500/60 p-4 bg-red-500/5 rounded-2xl hover:bg-red-500/10 transition-colors",children:g.jsx("i",{className:"fas fa-trash-alt text-sm"})})]},H.id)})}),g.jsxs("div",{className:"p-8 bg-blue-600/5 rounded-[40px] border border-blue-500/10 space-y-6 mt-8",children:[g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("label",{className:"text-[9px] text-blue-500 font-black uppercase tracking-[0.2em] ml-1",children:s("add_from_catalog")}),g.jsxs("select",{className:"w-full bg-[var(--input-bg)] p-6 rounded-[24px] text-sm font-black outline-none border border-[var(--border-color)] text-main cursor-pointer",value:F,onChange:H=>ee(H.target.value),children:[g.jsx("option",{value:"",className:"bg-[var(--card-bg)]",children:s("choose_food")}),S.map(H=>g.jsxs("option",{value:H.id,className:"text-main bg-[var(--card-bg)]",children:[H.name," (",H.unit==="100g"?"100g":"u",")"]},H.id))]})]}),g.jsxs("div",{className:"flex gap-6",children:[g.jsxs("div",{className:"flex-1 flex flex-col gap-3",children:[g.jsx("label",{className:"text-[9px] text-blue-500 font-black uppercase tracking-[0.2em] ml-1",children:s("quantity")}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-[var(--input-bg)] p-6 rounded-[24px] text-center font-black text-3xl border border-[var(--border-color)] text-main outline-none focus:border-blue-500 transition-all",value:X,onChange:H=>ye(H.target.value.replace(/^0+/,""))}),g.jsx("span",{className:"absolute right-6 bottom-3 text-[9px] font-black text-sub uppercase tracking-[0.2em] opacity-40",children:(ce==null?void 0:ce.unit)==="100g"?"g":"u"})]})]}),g.jsx("button",{onClick:()=>{if(!F||!X)return;const H={id:"fe-"+Math.random().toString(36).substr(2,9),foodId:F,quantity:parseFloat(X)};Q({...B,foodEntries:[...B.foodEntries,H]}),ye("")},className:"bg-blue-600 text-white w-24 h-24 self-end rounded-[32px] shadow-2xl shadow-blue-600/40 flex items-center justify-center active:scale-90 transition-all border-b-8 border-black/20",children:g.jsx("i",{className:"fas fa-plus text-3xl"})})]})]})]}),g.jsx("button",{onClick:()=>{B&&(Z(H=>{const $=H.weeks.map(ue=>{if(ue.id===C.id){const Oe=ue.days.map(pe=>{if(pe.id===V.id){const at=pe.meals.find(Ge=>Ge.id===B.id);return{...pe,meals:at?pe.meals.map(Ge=>Ge.id===B.id?B:Ge):[...pe.meals,B]}}return pe});return{...ue,days:Oe}}return ue});return{...H,weeks:$}}),Q(null))},className:"w-full bg-blue-600 py-8 rounded-[40px] font-black text-2xl shadow-2xl shadow-blue-600/40 text-white active:scale-95 transition-all mt-6 uppercase tracking-[0.2em]",children:s("done")})]})]})}),Te&&g.jsx("div",{className:"fixed inset-0 z-[250] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 no-print",onClick:()=>Ee(!1),children:g.jsxs("div",{className:"ios-card w-full max-w-sm rounded-[40px] p-8 border border-[var(--border-color)] bg-[var(--card-bg)] space-y-6 max-h-[90vh] overflow-y-auto no-scrollbar",onClick:H=>H.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xl font-black text-main uppercase tracking-widest",children:["Copiar ",ie[p]]}),g.jsx("button",{onClick:()=>Ee(!1),className:"w-8 h-8 rounded-full bg-[var(--input-bg)] flex items-center justify-center text-sub",children:g.jsx("i",{className:"fas fa-times"})})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-[10px] font-black text-sub uppercase tracking-widest opacity-40",children:"Acciones rpidas"}),g.jsxs("button",{onClick:()=>{const H=ie.map(($,ue)=>({weekIdx:m,dayIdx:ue})).filter($=>$.dayIdx!==p);M(H)},className:"w-full bg-blue-600/10 text-blue-500 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest active:scale-95 transition-all text-center",children:["Copiar a todos los das (Semana ",m+1,")"]}),g.jsxs("button",{onClick:()=>{const H=r.weeks.map(($,ue)=>({weekIdx:ue,dayIdx:p})).filter($=>!($.weekIdx===m&&$.dayIdx===p));M(H)},className:"w-full bg-blue-600/10 text-blue-500 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest active:scale-95 transition-all text-center",children:["Copiar a todas las semanas (",ie[p],")"]}),g.jsx("button",{onClick:()=>{const H=[];r.weeks.forEach(($,ue)=>{ie.forEach((Oe,pe)=>{ue===m&&pe===p||H.push({weekIdx:ue,dayIdx:pe})})}),M(H)},className:"w-full bg-orange-500/10 text-orange-500 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest active:scale-95 transition-all text-center",children:"Copiar a TODO el plan"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-[10px] font-black text-sub uppercase tracking-widest opacity-40",children:"Seleccionar da especfico"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:ie.map((H,$)=>g.jsx("button",{disabled:$===p,onClick:()=>M([{weekIdx:m,dayIdx:$}]),className:"bg-[var(--input-bg)] py-3 rounded-xl font-black text-[9px] uppercase tracking-widest text-main border border-[var(--border-color)] disabled:opacity-20 active:scale-95 transition-all",children:H},$))})]})]})]})}),T&&g.jsx(F0,{onClose:()=>R(!1)})]})},tb=({current:l,target:n})=>{const{t:s}=Sn(),r=(d,f)=>Math.min(d/Math.max(f,1)*100,100),c=({label:d,curr:f,tar:m,color:v})=>g.jsxs("div",{className:"flex-1 px-1",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest mb-1.5",children:[g.jsx("span",{className:"text-sub",children:d}),g.jsxs("span",{className:`${f>m?"text-red-500":"text-main"}`,children:[Math.round(f),"g / ",m,"g"]})]}),g.jsx("div",{className:"h-2 bg-[var(--progress-track)] rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full transition-all duration-700 ease-out shadow-sm ${v}`,style:{width:`${r(f,m)}%`}})})]});return g.jsx("div",{className:"sticky top-0 z-50 ios-blur macro-tracker-print px-6 pt-6 pb-6 border-b border-[var(--border-color)]",children:g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6 pr-24",children:[g.jsxs("div",{className:"h-14 w-14 rounded-full flex items-center justify-center relative shadow-sm",children:[g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"var(--progress-track)",strokeWidth:"4",fill:"transparent"}),g.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"var(--accent-color)",strokeWidth:"4",fill:"transparent",strokeDasharray:150.8,strokeDashoffset:150.8-r(l.kcal,n.kcal)/100*150.8,className:"transition-all duration-1000 ease-in-out",strokeLinecap:"round"})]}),g.jsx("i",{className:"fas fa-fire absolute text-blue-500 text-sm"})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("h2",{className:"text-[10px] font-black text-sub uppercase tracking-[0.2em] mb-1",children:s("daily_targets")}),g.jsxs("div",{className:"text-3xl font-black text-main tracking-tighter",children:[Math.round(l.kcal)," ",g.jsxs("span",{className:"text-sm text-sub font-bold",children:["/ ",n.kcal," kcal"]})]})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(c,{label:s("protein").substring(0,3),curr:l.pro,tar:n.pro,color:"bg-orange-500"}),g.jsx(c,{label:s("carbs").substring(0,4),curr:l.carb,tar:n.carb,color:"bg-emerald-500"}),g.jsx(c,{label:s("fats").substring(0,3),curr:l.fat,tar:n.fat,color:"bg-yellow-500"})]})]})})},ab=({diet:l,foods:n,activeWeekIdx:s})=>{const{t:r}=Sn(),c=l.weeks[s]||l.weeks[0],d=[r("mon"),r("tue"),r("wed"),r("thu"),r("fri"),r("sat"),r("sun")],f=m=>{const v=m.foodEntries.reduce((p,b)=>{const S=n.find(T=>T.id===b.foodId);if(!S)return p;const N=S.unit==="100g"?b.quantity/100:b.quantity;return p+S.calories*N},0);return Math.round(v)};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h2",{className:"text-[10px] font-black text-sub uppercase tracking-[0.3em] px-2 flex items-center gap-2",children:[g.jsx("i",{className:"fas fa-calendar-week text-blue-500"}),r("weekly_view")," - ",r("week")," ",c.weekNumber]}),g.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-6 px-6",children:g.jsx("div",{className:"flex gap-3 min-w-max pb-4",children:c.days.map((m,v)=>g.jsxs("div",{className:"ios-card rounded-[28px] p-5 w-40 flex-shrink-0 border border-[var(--border-color)] space-y-4",children:[g.jsx("div",{className:"text-center border-b border-[var(--border-color)] pb-3",children:g.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-blue-500",children:d[v]})}),g.jsx("div",{className:"space-y-3 min-h-[120px]",children:m.meals.length>0?m.meals.map((p,b)=>g.jsx("div",{className:"space-y-1",children:g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-[9px] font-black text-sub bg-[var(--input-bg)] w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0",children:b+1}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs font-bold text-main truncate leading-tight",children:p.name}),g.jsxs("p",{className:"text-[9px] text-sub font-medium",children:[f(p)," kcal"]})]})]})},p.id)):g.jsx("div",{className:"h-full flex items-center justify-center",children:g.jsx("span",{className:"text-[9px] text-sub opacity-40 italic",children:"-"})})}),g.jsx("div",{className:"pt-3 border-t border-[var(--border-color)] text-center",children:g.jsxs("span",{className:"text-[9px] font-black text-sub uppercase tracking-widest",children:[m.meals.reduce((p,b)=>p+f(b),0)," kcal"]})})]},m.id))})})]})},nb=({diet:l,foods:n,activeWeekIdx:s})=>{const{t:r}=Sn(),c=l.weeks[s]||l.weeks[0],d=Tm.useMemo(()=>{const f=new Map;return c.days.forEach(m=>{m.meals.forEach(v=>{v.foodEntries.forEach(p=>{const b=n.find(S=>S.id===p.foodId);if(b){const S=f.get(b.id);S?S.totalQuantity+=p.quantity:f.set(b.id,{food:b,totalQuantity:p.quantity})}})})}),Array.from(f.values()).sort((m,v)=>m.food.name.localeCompare(v.food.name))},[c,n]);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsxs("h2",{className:"text-[10px] font-black text-sub uppercase tracking-[0.3em] flex items-center gap-2",children:[g.jsx("i",{className:"fas fa-shopping-cart text-green-500"}),r("shopping_list")," - ",r("week")," ",c.weekNumber]}),g.jsxs("span",{className:"text-[9px] font-bold text-sub bg-[var(--input-bg)] px-3 py-1.5 rounded-full",children:[d.length," items"]})]}),d.length>0?g.jsx("div",{className:"space-y-3",children:d.map(f=>g.jsxs("div",{className:"ios-card rounded-[24px] p-5 flex items-center gap-4 border border-[var(--border-color)] group hover:border-green-500/30 transition-colors",children:[g.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-full flex items-center justify-center flex-shrink-0",children:g.jsx("span",{className:"text-green-500 text-xl font-black",children:"*"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-base font-bold text-main truncate",children:f.food.name}),g.jsxs("p",{className:"text-[10px] text-sub font-medium uppercase tracking-widest",children:[r("total_quantity"),": ",Math.round(f.totalQuantity)," ",f.food.unit==="100g"?"g":"u"]})]})]},f.food.id))}):g.jsxs("div",{className:"py-20 text-center text-sub italic ios-card rounded-[32px] border-dashed border-2 border-[var(--border-color)] flex flex-col items-center gap-4",children:[g.jsx("i",{className:"fas fa-shopping-basket opacity-10 text-5xl"}),g.jsx("p",{className:"px-10 text-xs",children:r("no_items")})]})]})},ib=({dietId:l})=>{var ye,De,mt;const{t:n}=Sn(),[s,r]=le.useState(null),[c,d]=le.useState([]),[f,m]=le.useState({}),[v,p]=le.useState(0),[b,S]=le.useState("daily"),[N,T]=le.useState(!0),[R,L]=le.useState((new Date().getDay()+6)%7),D=new Date().toISOString().split("T")[0];if(le.useEffect(()=>{l?(async()=>{T(!0);const Ee=await zt.getFoods();d(Ee);try{const tt=await zt.getDietById(l);if(tt){r(tt);const Me=await zt.getTracking(l);m(Me)}else r(null)}catch(tt){console.error("Error loading diet:",tt),r(null)}T(!1)})():T(!1)},[l]),N)return g.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-4 bg-black",children:[g.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),g.jsx("p",{className:"text-white/40 text-xs font-black uppercase tracking-widest",children:"Cargando Plan..."})]});if(!s)return g.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-10 text-center bg-black",children:[g.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mb-6",children:g.jsx("i",{className:"fas fa-exclamation-triangle text-3xl text-red-500"})}),g.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:n("plan_deleted")||"Plan no encontrado"}),g.jsx("p",{className:"text-white/40 text-sm mb-8 leading-relaxed",children:"El enlace que intentas abrir no es vlido o ha sido eliminado por el entrenador."}),g.jsx("button",{onClick:()=>window.location.href=window.location.origin,className:"bg-blue-600 text-white px-8 py-4 rounded-[20px] font-black text-sm uppercase tracking-widest shadow-xl shadow-blue-600/20",children:n("back")})]});const G=((ye=s.weeks)==null?void 0:ye[v])||((De=s.weeks)==null?void 0:De[0]);if(!G)return g.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-10 text-center bg-black",children:[g.jsx("h2",{className:"text-xl font-black text-white mb-4",children:"Plan en preparacin"}),g.jsx("p",{className:"text-white/40 text-sm mb-8",children:"El entrenador an no ha configurado las semanas de este plan."}),g.jsx("button",{onClick:()=>window.location.reload(),className:"text-blue-500 font-bold uppercase tracking-widest text-xs",children:"Reintentar"})]});const Y=(mt=G.days)==null?void 0:mt.find(Te=>Te.dayOfWeek===R),B=f[D]||{date:D,completedMealIds:[]},Q=B.completedMealIds.reduce((Te,Ee)=>{if(!Y.meals.some(Me=>Me.id===Ee))return Te;const tt=Y.meals.find(Me=>Me.id===Ee);return tt?tt.foodEntries.reduce((Me,Xe)=>{const C=c.find(_e=>_e.id===Xe.foodId);if(!C)return Me;const Z=/100\s*(g|gr|gramo)/i.test(C.unit||"")?Xe.quantity/100:Xe.quantity;return{kcal:Me.kcal+C.calories*Z,pro:Me.pro+C.protein*Z,carb:Me.carb+C.carbs*Z,fat:Me.fat+C.fats*Z}},Te):Te},{kcal:0,pro:0,carb:0,fat:0}),F=async Te=>{const tt=B.completedMealIds.includes(Te)?B.completedMealIds.filter(C=>C!==Te):[...B.completedMealIds,Te],Me={...B,completedMealIds:tt},Xe={...f,[D]:Me};m(Xe),await zt.saveTrackingLog(l,Me)},ee=[n("mon"),n("tue"),n("wed"),n("thu"),n("fri"),n("sat"),n("sun")],X=new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"});return g.jsxs("div",{className:"pb-40 printable-content",children:[g.jsx(tb,{current:Q,target:{kcal:s.targetCalories,pro:s.targetProtein,carb:s.targetCarbs,fat:s.targetFats}}),g.jsxs("div",{className:"max-w-md mx-auto px-6 mt-8",children:[g.jsxs("div",{className:"flex gap-2 mb-8 no-print",children:[g.jsxs("button",{onClick:()=>S("daily"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${b==="daily"?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"ios-card border border-[var(--border-color)] text-sub"}`,children:[g.jsx("i",{className:"fas fa-calendar-day"}),n("daily_view")]}),g.jsxs("button",{onClick:()=>S("weekly"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${b==="weekly"?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"ios-card border border-[var(--border-color)] text-sub"}`,children:[g.jsx("i",{className:"fas fa-calendar-week"}),n("weekly_view")]}),g.jsxs("button",{onClick:()=>S("shopping"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${b==="shopping"?"bg-green-500 text-white shadow-lg shadow-green-500/30":"ios-card border border-[var(--border-color)] text-sub"}`,children:[g.jsx("i",{className:"fas fa-shopping-cart"}),n("shopping_list")]})]}),g.jsxs("div",{className:"ios-card rounded-[24px] p-4 flex items-center justify-between mb-6 no-print",children:[g.jsx("button",{onClick:()=>p(Math.max(0,v-1)),disabled:v===0,className:"w-10 h-10 rounded-full bg-[var(--input-bg)] flex items-center justify-center text-sub disabled:opacity-20",children:g.jsx("i",{className:"fas fa-chevron-left"})}),g.jsxs("div",{className:"text-center",children:[g.jsx("span",{className:"text-[9px] font-black text-sub uppercase tracking-widest",children:n("week")}),g.jsx("p",{className:"text-2xl font-black text-main",children:G.weekNumber})]}),g.jsx("button",{onClick:()=>p(Math.min(s.weeks.length-1,v+1)),disabled:v>=s.weeks.length-1,className:"w-10 h-10 rounded-full bg-[var(--input-bg)] flex items-center justify-center text-sub disabled:opacity-20",children:g.jsx("i",{className:"fas fa-chevron-right"})})]}),b==="daily"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex justify-between items-start mb-8 no-print",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-black text-main tracking-tighter capitalize",children:ee[R]}),g.jsx("p",{className:"text-sub font-bold text-sm tracking-wide mt-1",children:R===(new Date().getDay()+6)%7?`${n("today")}, ${X}`:n("plan_view")})]}),g.jsx("button",{onClick:()=>window.print(),className:"bg-[var(--input-bg)] h-12 w-12 rounded-2xl flex items-center justify-center border border-[var(--border-color)] text-blue-500",children:g.jsx("i",{className:"fas fa-file-pdf"})})]}),g.jsx("div",{className:"ios-card rounded-[24px] p-4 mb-6 no-print",children:g.jsx("div",{className:"flex justify-between",children:ee.map((Te,Ee)=>g.jsx("button",{onClick:()=>L(Ee),className:`w-10 h-10 rounded-full font-black text-[10px] uppercase transition-all ${R===Ee?"bg-blue-600 text-white":Ee===(new Date().getDay()+6)%7?"bg-green-500/20 text-green-500":"text-sub hover:bg-[var(--input-bg)]"}`,children:Te.charAt(0)},Ee))})}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-3 px-1 mb-2",children:[g.jsx("div",{className:`h-2 w-2 rounded-full ${R===(new Date().getDay()+6)%7?"bg-green-500 animate-pulse":"bg-blue-600"}`}),g.jsx("h2",{className:"text-[10px] font-black text-sub uppercase tracking-[0.3em]",children:R===(new Date().getDay()+6)%7?n("today_meals"):`${n("day")} ${ee[R]}`})]}),Y?Y.meals.map(Te=>g.jsx(Vm,{meal:Te,foods:c,isCompleted:B.completedMealIds.includes(Te.id),onToggle:F},Te.id)):g.jsx("div",{className:"py-20 text-center text-sub italic ios-card rounded-[32px] border-dashed border-2 border-[var(--border-color)]",children:g.jsx("p",{className:"px-10 text-xs",children:"No hay comidas configuradas para este da."})})]}),Y&&Y.meals.length===0&&g.jsxs("div",{className:"py-24 text-center text-sub italic ios-card rounded-[32px] border-dashed border-2 border-[var(--border-color)] flex flex-col items-center gap-4",children:[g.jsx("i",{className:"fas fa-utensils opacity-10 text-5xl"}),g.jsx("p",{className:"px-10 text-xs",children:n("no_meals_assigned")})]})]}),b==="weekly"&&g.jsx(ab,{diet:s,foods:c,activeWeekIdx:v}),b==="shopping"&&g.jsx(nb,{diet:s,foods:c,activeWeekIdx:v})]})]})},sb=()=>{var Q;const[l,n]=le.useState(()=>{var mt;const F=new URLSearchParams(window.location.search),ee=F.get("dietId"),X=(mt=F.get("role"))==null?void 0:mt.toUpperCase(),ye=localStorage.getItem("mm_user_role"),De=localStorage.getItem("mm_active_diet_id");return ee?X==="CREATOR"?{id:"builder",name:"Coach",role:st.CREATOR}:(localStorage.setItem("mm_user_role",st.CLIENT),localStorage.setItem("mm_active_diet_id",ee),{id:"client-guest",name:"Client",role:st.CLIENT}):ye===st.CREATOR?{id:"builder",name:"Coach",role:st.CREATOR}:ye===st.CLIENT&&De?{id:"client-guest",name:"Client",role:st.CLIENT}:null}),[s,r]=le.useState([]),[c,d]=le.useState(()=>{const ee=new URLSearchParams(window.location.search).get("dietId");return ee||(localStorage.getItem("mm_user_role")===st.CREATOR?null:localStorage.getItem("mm_active_diet_id"))}),[f,m]=le.useState(!1),[v,p]=le.useState(null),{t:b,lang:S,changeLanguage:N}=Sn(),[T,R]=le.useState(localStorage.getItem("mm_theme")||"dark");le.useEffect(()=>{localStorage.setItem("mm_theme",T),T==="light"?document.documentElement.classList.remove("dark-theme"):document.documentElement.classList.add("dark-theme")},[T]),le.useEffect(()=>{localStorage.getItem("mm_user_role")===st.CREATOR&&L(),D()},[]),le.useEffect(()=>{c&&localStorage.setItem("mm_active_diet_id",c),l!=null&&l.role&&localStorage.setItem("mm_user_role",l.role)},[c,l==null?void 0:l.role]);const L=async()=>{m(!0);const F=await zt.getDiets();r(F),m(!1)},D=async()=>{await zt.getFoods()},G=async F=>{const{error:ee}=await He.from("diets").delete().eq("id",F);ee||r(X=>X.filter(ye=>ye.id!==F)),p(null)};le.useEffect(()=>{T==="light"?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode"),localStorage.setItem("mm_theme",T)},[T]);const Y=F=>{localStorage.setItem("mm_user_role",st.CREATOR),localStorage.removeItem("mm_active_diet_id"),n({id:"builder-"+Date.now(),name:"Builder",role:st.CREATOR}),d(null),L(),He.auth.signInAnonymously().catch(()=>{})},B=async()=>{await He.auth.signOut(),n(null),window.location.search=""};return l?g.jsxs("div",{className:"h-full w-full flex flex-col overflow-hidden relative",children:[g.jsxs("div",{className:"fixed z-[200] flex items-center gap-2 no-print transition-all",style:{top:"max(1.5rem, env(safe-area-inset-top, 0px))",right:"max(1.5rem, env(safe-area-inset-right, 0px))"},children:[g.jsx("button",{onClick:()=>R(T==="dark"?"light":"dark"),className:"ios-blur w-10 h-10 rounded-full flex items-center justify-center shadow-xl border border-white/20 active:scale-95 transition-transform",children:g.jsx("i",{className:`fas fa-${T==="dark"?"sun text-yellow-400":"moon text-blue-600"} text-sm`})}),g.jsx("button",{onClick:()=>N(S==="ES"?"EN":S==="EN"?"IT":"ES"),className:"ios-blur w-10 h-10 rounded-full flex items-center justify-center shadow-xl border border-white/20 text-[10px] font-black",children:S})]}),g.jsx("div",{className:"flex-1 overflow-y-auto w-full",children:l.role===st.CREATOR?c?g.jsx(eb,{dietId:c,onBack:()=>{d(null),L()}}):g.jsxs("div",{className:"max-w-md mx-auto px-6 py-12 pb-32",children:[g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-black text-main",children:b("my_plans")}),g.jsx("p",{className:"text-sub font-medium",children:b("builder_panel")})]}),g.jsx("button",{onClick:B,className:"bg-red-500/10 text-red-500 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider",children:b("close")})]}),g.jsxs("button",{onClick:()=>d("new"),className:"w-full bg-blue-600 text-white py-6 rounded-[32px] font-bold text-xl mb-10 shadow-xl shadow-blue-600/30 flex items-center justify-center gap-3 active:scale-95 transition-transform",children:[g.jsx("i",{className:"fas fa-plus-circle"})," ",b("new_plan")]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx("h2",{className:"text-xs font-bold text-sub uppercase tracking-[0.2em] px-2",children:b("diet_list")}),s.map(F=>g.jsxs("div",{className:"ios-card rounded-[32px] p-6 flex justify-between items-center group active:scale-[0.98] transition-all",children:[g.jsxs("div",{className:"flex-1 pr-4",children:[g.jsx("h3",{className:"text-xl font-bold truncate text-main",children:F.name}),g.jsxs("p",{className:"text-sm text-sub font-medium truncate",children:[F.targetCalories," kcal"]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>p(F.id),className:"bg-red-500/10 text-red-500 h-14 w-14 rounded-2xl flex items-center justify-center hover:bg-red-500/20 transition-colors",children:g.jsx("i",{className:"fas fa-trash-alt text-lg"})}),g.jsx("button",{onClick:()=>d(F.id),className:"bg-blue-600 text-white h-14 w-14 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-600/20",children:g.jsx("i",{className:"fas fa-edit text-lg"})})]})]},F.id))]}),v&&g.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 backdrop-blur-md flex items-center justify-center p-6",onClick:()=>p(null),children:g.jsxs("div",{className:"ios-card w-full max-w-sm rounded-[40px] p-8 border border-[var(--border-color)] bg-[var(--card-bg)] space-y-6",onClick:F=>F.stopPropagation(),children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto",children:g.jsx("i",{className:"fas fa-trash-alt text-3xl text-red-500"})}),g.jsx("h3",{className:"text-xl font-black text-main",children:b("delete_plan_confirm")}),g.jsx("p",{className:"text-sm text-sub",children:(Q=s.find(F=>F.id===v))==null?void 0:Q.name})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>p(null),className:"flex-1 bg-[var(--input-bg)] text-main py-4 rounded-[24px] font-black text-sm uppercase tracking-widest border border-[var(--border-color)] active:scale-95 transition-all",children:b("cancel")}),g.jsx("button",{onClick:()=>G(v),className:"flex-1 bg-red-500 text-white py-4 rounded-[24px] font-black text-sm uppercase tracking-widest shadow-xl shadow-red-500/20 active:scale-95 transition-all",children:b("delete")})]})]})})]}):g.jsx(ib,{dietId:c||""})}),l&&g.jsxs("div",{className:"fixed bottom-0 left-0 right-0 ios-blur border-t border-[var(--border-color)] px-10 pt-4 flex justify-between items-center z-[90] no-print",style:{paddingBottom:"calc(1.5rem + env(safe-area-inset-bottom, 0px))"},children:[g.jsxs("button",{onClick:()=>{l.role===st.CREATOR&&d(null)},className:`flex flex-col items-center gap-1.5 transition-all ${l.role===st.CREATOR&&!c||l.role===st.CLIENT?"text-blue-500 scale-110":"text-sub opacity-50"}`,children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-blue-500/10",children:g.jsx("i",{className:"fas fa-utensils text-xl"})}),g.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:b("nutrition")})]}),l.role===st.CREATOR&&g.jsxs("button",{onClick:()=>d(null),className:`flex flex-col items-center gap-1.5 transition-all ${c?"text-sub":"text-blue-500 scale-110"}`,children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-blue-500/10",children:g.jsx("i",{className:"fas fa-calendar-alt text-xl"})}),g.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:b("my_plans")})]}),g.jsxs("button",{onClick:B,className:"text-sub flex flex-col items-center gap-1.5 opacity-40 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-500/5",children:g.jsx("i",{className:"fas fa-power-off text-xl text-red-500/60"})}),g.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:b("logout")})]})]})]}):g.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 bg-black",children:g.jsxs("div",{className:"text-center space-y-16 animate-in fade-in zoom-in duration-1000 max-w-sm w-full",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-[32px] mx-auto flex items-center justify-center rotate-3 shadow-2xl shadow-blue-600/20",children:g.jsx("i",{className:"fas fa-bolt text-white text-5xl"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h1",{className:"text-6xl font-black text-white tracking-tighter italic",children:"MacroMind"}),g.jsx("p",{className:"text-white/30 font-bold uppercase tracking-[0.4em] text-[9px]",children:b("perfect_plan")})]})]}),g.jsxs("div",{className:"space-y-4 w-full",children:[g.jsx("button",{onClick:()=>Y(st.CREATOR),className:"w-full bg-blue-600 text-white py-8 rounded-[32px] font-black text-xl shadow-2xl shadow-blue-600/40 active:scale-95 transition-all uppercase tracking-widest border-b-8 border-black/20",children:b("im_builder")}),g.jsxs("div",{className:"pt-8 space-y-4",children:[g.jsx("p",{className:"text-white/40 text-[10px] font-black uppercase tracking-[0.2em]",children:b("im_client")}),g.jsx("p",{className:"text-white/20 text-[9px] font-medium leading-relaxed px-8",children:"Si eres cliente, abre el enlace compartido por tu entrenador para ver tu dieta."})]})]})]})})};xv.createRoot(document.getElementById("root")).render(g.jsx(Tm.StrictMode,{children:g.jsx(P0,{children:g.jsx(sb,{})})}));
